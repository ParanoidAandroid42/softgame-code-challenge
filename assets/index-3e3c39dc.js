var Bo=(g,e)=>()=>(e||g((e={exports:{}}).exports,e),e.exports);var Hu=Bo((pi,Lr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const o of f.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(n){if(n.ep)return;n.ep=!0;const f=t(n);fetch(n.href,f)}})();/*!
 * pixi.js - v4.8.2
 * Compiled Mon, 03 Sep 2018 15:52:06 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(function(g){if(typeof pi=="object"&&typeof Lr<"u")Lr.exports=g();else if(typeof define=="function"&&define.amd)define([],g);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.PIXI=g()}})(function(){return function(){function g(e,t,a){function n(d,v){if(!t[d]){if(!e[d]){var h=typeof require=="function"&&require;if(!v&&h)return h(d,!0);if(f)return f(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var r=t[d]={exports:{}};e[d][0].call(r.exports,function(i){var s=e[d][1][i];return n(s||i)},r,r.exports,g,e,t,a)}return t[d].exports}for(var f=typeof require=="function"&&require,o=0;o<a.length;o++)n(a[o]);return n}return g}()({1:[function(g,e,t){"use restrict";var a=32;t.INT_BITS=a,t.INT_MAX=2147483647,t.INT_MIN=-1<<a-1,t.sign=function(o){return(o>0)-(o<0)},t.abs=function(o){var d=o>>a-1;return(o^d)-d},t.min=function(o,d){return d^(o^d)&-(o<d)},t.max=function(o,d){return o^(o^d)&-(o<d)},t.isPow2=function(o){return!(o&o-1)&&!!o},t.log2=function(o){var d,v;return d=(o>65535)<<4,o>>>=d,v=(o>255)<<3,o>>>=v,d|=v,v=(o>15)<<2,o>>>=v,d|=v,v=(o>3)<<1,o>>>=v,d|=v,d|o>>1},t.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},t.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function n(o){var d=32;return o&=-o,o&&d--,o&65535&&(d-=16),o&16711935&&(d-=8),o&252645135&&(d-=4),o&858993459&&(d-=2),o&1431655765&&(d-=1),d}t.countTrailingZeros=n,t.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},t.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},t.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var f=new Array(256);(function(o){for(var d=0;d<256;++d){var v=d,h=d,u=7;for(v>>>=1;v;v>>>=1)h<<=1,h|=v&1,--u;o[d]=h<<u&255}})(f),t.reverse=function(o){return f[o&255]<<24|f[o>>>8&255]<<16|f[o>>>16&255]<<8|f[o>>>24&255]},t.interleave2=function(o,d){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,d&=65535,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765,o|d<<1},t.deinterleave2=function(o,d){return o=o>>>d&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},t.interleave3=function(o,d,v){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,d&=1023,d=(d|d<<16)&4278190335,d=(d|d<<8)&251719695,d=(d|d<<4)&3272356035,d=(d|d<<2)&1227133513,o|=d<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,o|v<<2},t.deinterleave3=function(o,d){return o=o>>>d&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},t.nextCombination=function(o){var d=o|o-1;return d+1|(~d&-~d)-1>>>n(o)+1}},{}],2:[function(g,e,t){e.exports=a,e.exports.default=a;function a(R,D,L){L=L||2;var F=D&&D.length,N=F?D[0]*L:R.length,U=n(R,0,N,L,!0),k=[];if(!U)return k;var G,W,K,q,Q,J,V;if(F&&(U=r(R,D,U,L)),R.length>80*L){G=K=R[0],W=q=R[1];for(var Z=L;Z<N;Z+=L)Q=R[Z],J=R[Z+1],Q<G&&(G=Q),J<W&&(W=J),Q>K&&(K=Q),J>q&&(q=J);V=Math.max(K-G,q-W),V=V!==0?1/V:0}return o(U,k,L,G,W,V),k}function n(R,D,L,F,N){var U,k;if(N===I(R,D,L,F)>0)for(U=D;U<L;U+=F)k=C(U,R[U],R[U+1],k);else for(U=L-F;U>=D;U-=F)k=C(U,R[U],R[U+1],k);return k&&w(k,k.next)&&(A(k),k=k.next),k}function f(R,D){if(!R)return R;D||(D=R);var L=R,F;do if(F=!1,!L.steiner&&(w(L,L.next)||y(L.prev,L,L.next)===0)){if(A(L),L=D=L.prev,L===L.next)break;F=!0}else L=L.next;while(F||L!==D);return D}function o(R,D,L,F,N,U,k){if(R){!k&&U&&l(R,F,N,U);for(var G=R,W,K;R.prev!==R.next;){if(W=R.prev,K=R.next,U?v(R,F,N,U):d(R)){D.push(W.i/L),D.push(R.i/L),D.push(K.i/L),A(R),R=K.next,G=K.next;continue}if(R=K,R===G){k?k===1?(R=h(R,D,L),o(R,D,L,F,N,U,2)):k===2&&u(R,D,L,F,N,U):o(f(R),D,L,F,N,U,1);break}}}}function d(R){var D=R.prev,L=R,F=R.next;if(y(D,L,F)>=0)return!1;for(var N=R.next.next;N!==R.prev;){if(x(D.x,D.y,L.x,L.y,F.x,F.y,N.x,N.y)&&y(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function v(R,D,L,F){var N=R.prev,U=R,k=R.next;if(y(N,U,k)>=0)return!1;for(var G=N.x<U.x?N.x<k.x?N.x:k.x:U.x<k.x?U.x:k.x,W=N.y<U.y?N.y<k.y?N.y:k.y:U.y<k.y?U.y:k.y,K=N.x>U.x?N.x>k.x?N.x:k.x:U.x>k.x?U.x:k.x,q=N.y>U.y?N.y>k.y?N.y:k.y:U.y>k.y?U.y:k.y,Q=m(G,W,D,L,F),J=m(K,q,D,L,F),V=R.prevZ,Z=R.nextZ;V&&V.z>=Q&&Z&&Z.z<=J;){if(V!==R.prev&&V!==R.next&&x(N.x,N.y,U.x,U.y,k.x,k.y,V.x,V.y)&&y(V.prev,V,V.next)>=0||(V=V.prevZ,Z!==R.prev&&Z!==R.next&&x(N.x,N.y,U.x,U.y,k.x,k.y,Z.x,Z.y)&&y(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;V&&V.z>=Q;){if(V!==R.prev&&V!==R.next&&x(N.x,N.y,U.x,U.y,k.x,k.y,V.x,V.y)&&y(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;Z&&Z.z<=J;){if(Z!==R.prev&&Z!==R.next&&x(N.x,N.y,U.x,U.y,k.x,k.y,Z.x,Z.y)&&y(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function h(R,D,L){var F=R;do{var N=F.prev,U=F.next.next;!w(N,U)&&b(N,F,F.next,U)&&E(N,U)&&E(U,N)&&(D.push(N.i/L),D.push(F.i/L),D.push(U.i/L),A(F),A(F.next),F=R=U),F=F.next}while(F!==R);return F}function u(R,D,L,F,N,U){var k=R;do{for(var G=k.next.next;G!==k.prev;){if(k.i!==G.i&&T(k,G)){var W=P(k,G);k=f(k,k.next),W=f(W,W.next),o(k,D,L,F,N,U),o(W,D,L,F,N,U);return}G=G.next}k=k.next}while(k!==R)}function r(R,D,L,F){var N=[],U,k,G,W,K;for(U=0,k=D.length;U<k;U++)G=D[U]*F,W=U<k-1?D[U+1]*F:R.length,K=n(R,G,W,F,!1),K===K.next&&(K.steiner=!0),N.push(_(K));for(N.sort(i),U=0;U<N.length;U++)s(N[U],L),L=f(L,L.next);return L}function i(R,D){return R.x-D.x}function s(R,D){if(D=p(R,D),D){var L=P(D,R);f(L,L.next)}}function p(R,D){var L=D,F=R.x,N=R.y,U=-1/0,k;do{if(N<=L.y&&N>=L.next.y&&L.next.y!==L.y){var G=L.x+(N-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if(G<=F&&G>U){if(U=G,G===F){if(N===L.y)return L;if(N===L.next.y)return L.next}k=L.x<L.next.x?L:L.next}}L=L.next}while(L!==D);if(!k)return null;if(F===U)return k.prev;var W=k,K=k.x,q=k.y,Q=1/0,J;for(L=k.next;L!==W;)F>=L.x&&L.x>=K&&F!==L.x&&x(N<q?F:U,N,K,q,N<q?U:F,N,L.x,L.y)&&(J=Math.abs(N-L.y)/(F-L.x),(J<Q||J===Q&&L.x>k.x)&&E(L,R)&&(k=L,Q=J)),L=L.next;return k}function l(R,D,L,F){var N=R;do N.z===null&&(N.z=m(N.x,N.y,D,L,F)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==R);N.prevZ.nextZ=null,N.prevZ=null,c(N)}function c(R){var D,L,F,N,U,k,G,W,K=1;do{for(L=R,R=null,U=null,k=0;L;){for(k++,F=L,G=0,D=0;D<K&&(G++,F=F.nextZ,!!F);D++);for(W=K;G>0||W>0&&F;)G!==0&&(W===0||!F||L.z<=F.z)?(N=L,L=L.nextZ,G--):(N=F,F=F.nextZ,W--),U?U.nextZ=N:R=N,N.prevZ=U,U=N;L=F}U.nextZ=null,K*=2}while(k>1);return R}function m(R,D,L,F,N){return R=32767*(R-L)*N,D=32767*(D-F)*N,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function _(R){var D=R,L=R;do D.x<L.x&&(L=D),D=D.next;while(D!==R);return L}function x(R,D,L,F,N,U,k,G){return(N-k)*(D-G)-(R-k)*(U-G)>=0&&(R-k)*(F-G)-(L-k)*(D-G)>=0&&(L-k)*(U-G)-(N-k)*(F-G)>=0}function T(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!S(R,D)&&E(R,D)&&E(D,R)&&O(R,D)}function y(R,D,L){return(D.y-R.y)*(L.x-D.x)-(D.x-R.x)*(L.y-D.y)}function w(R,D){return R.x===D.x&&R.y===D.y}function b(R,D,L,F){return w(R,D)&&w(L,F)||w(R,F)&&w(L,D)?!0:y(R,D,L)>0!=y(R,D,F)>0&&y(L,F,R)>0!=y(L,F,D)>0}function S(R,D){var L=R;do{if(L.i!==R.i&&L.next.i!==R.i&&L.i!==D.i&&L.next.i!==D.i&&b(L,L.next,R,D))return!0;L=L.next}while(L!==R);return!1}function E(R,D){return y(R.prev,R,R.next)<0?y(R,D,R.next)>=0&&y(R,R.prev,D)>=0:y(R,D,R.prev)<0||y(R,R.next,D)<0}function O(R,D){var L=R,F=!1,N=(R.x+D.x)/2,U=(R.y+D.y)/2;do L.y>U!=L.next.y>U&&L.next.y!==L.y&&N<(L.next.x-L.x)*(U-L.y)/(L.next.y-L.y)+L.x&&(F=!F),L=L.next;while(L!==R);return F}function P(R,D){var L=new B(R.i,R.x,R.y),F=new B(D.i,D.x,D.y),N=R.next,U=D.prev;return R.next=D,D.prev=R,L.next=N,N.prev=L,F.next=L,L.prev=F,U.next=F,F.prev=U,F}function C(R,D,L,F){var N=new B(R,D,L);return F?(N.next=F.next,N.prev=F,F.next.prev=N,F.next=N):(N.prev=N,N.next=N),N}function A(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function B(R,D,L){this.i=R,this.x=D,this.y=L,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}a.deviation=function(R,D,L,F){var N=D&&D.length,U=N?D[0]*L:R.length,k=Math.abs(I(R,0,U,L));if(N)for(var G=0,W=D.length;G<W;G++){var K=D[G]*L,q=G<W-1?D[G+1]*L:R.length;k-=Math.abs(I(R,K,q,L))}var Q=0;for(G=0;G<F.length;G+=3){var J=F[G]*L,V=F[G+1]*L,Z=F[G+2]*L;Q+=Math.abs((R[J]-R[Z])*(R[V+1]-R[J+1])-(R[J]-R[V])*(R[Z+1]-R[J+1]))}return k===0&&Q===0?0:Math.abs((Q-k)/k)};function I(R,D,L,F){for(var N=0,U=D,k=L-F;U<L;U+=F)N+=(R[k]-R[U])*(R[U+1]+R[k+1]),k=U;return N}a.flatten=function(R){for(var D=R[0][0].length,L={vertices:[],holes:[],dimensions:D},F=0,N=0;N<R.length;N++){for(var U=0;U<R[N].length;U++)for(var k=0;k<D;k++)L.vertices.push(R[N][U][k]);N>0&&(F+=R[N-1].length,L.holes.push(F))}return L}},{}],3:[function(g,e,t){var a=Object.prototype.hasOwnProperty,n="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(n=!1));function o(v,h,u){this.fn=v,this.context=h,this.once=u||!1}function d(){this._events=new f,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],u,r;if(this._eventsCount===0)return h;for(r in u=this._events)a.call(u,r)&&h.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(u)):h},d.prototype.listeners=function(h,u){var r=n?n+h:h,i=this._events[r];if(u)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var s=0,p=i.length,l=new Array(p);s<p;s++)l[s]=i[s].fn;return l},d.prototype.emit=function(h,u,r,i,s,p){var l=n?n+h:h;if(!this._events[l])return!1;var c=this._events[l],m=arguments.length,_,x;if(c.fn){switch(c.once&&this.removeListener(h,c.fn,void 0,!0),m){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,u),!0;case 3:return c.fn.call(c.context,u,r),!0;case 4:return c.fn.call(c.context,u,r,i),!0;case 5:return c.fn.call(c.context,u,r,i,s),!0;case 6:return c.fn.call(c.context,u,r,i,s,p),!0}for(x=1,_=new Array(m-1);x<m;x++)_[x-1]=arguments[x];c.fn.apply(c.context,_)}else{var T=c.length,y;for(x=0;x<T;x++)switch(c[x].once&&this.removeListener(h,c[x].fn,void 0,!0),m){case 1:c[x].fn.call(c[x].context);break;case 2:c[x].fn.call(c[x].context,u);break;case 3:c[x].fn.call(c[x].context,u,r);break;case 4:c[x].fn.call(c[x].context,u,r,i);break;default:if(!_)for(y=1,_=new Array(m-1);y<m;y++)_[y-1]=arguments[y];c[x].fn.apply(c[x].context,_)}}return!0},d.prototype.on=function(h,u,r){var i=new o(u,r||this),s=n?n+h:h;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},d.prototype.once=function(h,u,r){var i=new o(u,r||this,!0),s=n?n+h:h;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},d.prototype.removeListener=function(h,u,r,i){var s=n?n+h:h;if(!this._events[s])return this;if(!u)return--this._eventsCount===0?this._events=new f:delete this._events[s],this;var p=this._events[s];if(p.fn)p.fn===u&&(!i||p.once)&&(!r||p.context===r)&&(--this._eventsCount===0?this._events=new f:delete this._events[s]);else{for(var l=0,c=[],m=p.length;l<m;l++)(p[l].fn!==u||i&&!p[l].once||r&&p[l].context!==r)&&c.push(p[l]);c.length?this._events[s]=c.length===1?c[0]:c:--this._eventsCount===0?this._events=new f:delete this._events[s]}return this},d.prototype.removeAllListeners=function(h){var u;return h?(u=n?n+h:h,this._events[u]&&(--this._eventsCount===0?this._events=new f:delete this._events[u])):(this._events=new f,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=n,d.EventEmitter=d,typeof e<"u"&&(e.exports=d)},{}],4:[function(g,e,t){/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */(function(a){var n=/iPhone/i,f=/iPod/i,o=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,v=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,u=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,r=/Windows Phone/i,i=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,s=/BlackBerry/i,p=/BB10/i,l=/Opera Mini/i,c=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(w,b){return w.test(b)},T=function(w){var b=w||navigator.userAgent,S=b.split("[FBAN");if(typeof S[1]<"u"&&(b=S[0]),S=b.split("Twitter"),typeof S[1]<"u"&&(b=S[0]),this.apple={phone:x(n,b),ipod:x(f,b),tablet:!x(n,b)&&x(o,b),device:x(n,b)||x(f,b)||x(o,b)},this.amazon={phone:x(h,b),tablet:!x(h,b)&&x(u,b),device:x(h,b)||x(u,b)},this.android={phone:x(h,b)||x(d,b),tablet:!x(h,b)&&!x(d,b)&&(x(u,b)||x(v,b)),device:x(h,b)||x(u,b)||x(d,b)||x(v,b)},this.windows={phone:x(r,b),tablet:x(i,b),device:x(r,b)||x(i,b)},this.other={blackberry:x(s,b),blackberry10:x(p,b),opera:x(l,b),firefox:x(m,b),chrome:x(c,b),device:x(s,b)||x(p,b)||x(l,b)||x(m,b)||x(c,b)},this.seven_inch=x(_,b),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,typeof window>"u")return this},y=function(){var w=new T;return w.Class=T,w};typeof e<"u"&&e.exports&&typeof window>"u"?e.exports=T:typeof e<"u"&&e.exports&&typeof window<"u"?e.exports=y():a.isMobile=y()})(this)},{}],5:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function v(h,u){for(var r=0;r<u.length;r++){var i=u[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}return function(h,u,r){return u&&v(h.prototype,u),r&&v(h,r),h}}();function n(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}var f=function(){function v(h,u,r){u===void 0&&(u=!1),n(this,v),this._fn=h,this._once=u,this._thisArg=r,this._next=this._prev=this._owner=null}return a(v,[{key:"detach",value:function(){return this._owner===null?!1:(this._owner.detach(this),!0)}}]),v}();function o(v,h){return v._head?(v._tail._next=h,h._prev=v._tail,v._tail=h):(v._head=h,v._tail=h),h._owner=v,h}var d=function(){function v(){n(this,v),this._head=this._tail=void 0}return a(v,[{key:"handlers",value:function(){var u=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],r=this._head;if(u)return!!r;for(var i=[];r;)i.push(r),r=r._next;return i}},{key:"has",value:function(u){if(!(u instanceof f))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return u._owner===this}},{key:"dispatch",value:function(){var u=this._head;if(!u)return!1;for(;u;)u._once&&this.detach(u),u._fn.apply(u._thisArg,arguments),u=u._next;return!0}},{key:"add",value:function(u){var r=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof u!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new f(u,!1,r))}},{key:"once",value:function(u){var r=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof u!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new f(u,!0,r))}},{key:"detach",value:function(u){if(!(u instanceof f))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return u._owner!==this?this:(u._prev&&(u._prev._next=u._next),u._next&&(u._next._prev=u._prev),u===this._head?(this._head=u._next,u._next===null&&(this._tail=null)):u===this._tail&&(this._tail=u._prev,this._tail._next=null),u._owner=null,this)}},{key:"detachAll",value:function(){var u=this._head;if(!u)return this;for(this._head=this._tail=null;u;)u._owner=null,u=u._next;return this}}]),v}();d.MiniSignalBinding=f,t.default=d,e.exports=t.default},{}],6:[function(g,e,t){var a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function o(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}function d(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var h={},u=0;u<10;u++)h["_"+String.fromCharCode(u)]=u;var r=Object.getOwnPropertyNames(h).map(function(s){return h[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=d()?Object.assign:function(v,h){for(var u,r=o(v),i,s=1;s<arguments.length;s++){u=Object(arguments[s]);for(var p in u)n.call(u,p)&&(r[p]=u[p]);if(a){i=a(u);for(var l=0;l<i.length;l++)f.call(u,i[l])&&(r[i[l]]=u[i[l]])}}return r}},{}],7:[function(g,e,t){e.exports=function(n,f){f=f||{};for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=o.parser[f.strictMode?"strict":"loose"].exec(n),v={},h=14;h--;)v[o.key[h]]=d[h]||"";return v[o.q.name]={},v[o.key[12]].replace(o.q.parser,function(u,r,i){r&&(v[o.q.name][r]=i)}),v}},{}],8:[function(g,e,t){(function(a){function n(h,u){for(var r=0,i=h.length-1;i>=0;i--){var s=h[i];s==="."?h.splice(i,1):s===".."?(h.splice(i,1),r++):r&&(h.splice(i,1),r--)}if(u)for(;r--;r)h.unshift("..");return h}var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(h){return f.exec(h).slice(1)};t.resolve=function(){for(var h="",u=!1,r=arguments.length-1;r>=-1&&!u;r--){var i=r>=0?arguments[r]:a.cwd();if(typeof i!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!i)continue;h=i+"/"+h,u=i.charAt(0)==="/"}return h=n(d(h.split("/"),function(s){return!!s}),!u).join("/"),(u?"/":"")+h||"."},t.normalize=function(h){var u=t.isAbsolute(h),r=v(h,-1)==="/";return h=n(d(h.split("/"),function(i){return!!i}),!u).join("/"),!h&&!u&&(h="."),h&&r&&(h+="/"),(u?"/":"")+h},t.isAbsolute=function(h){return h.charAt(0)==="/"},t.join=function(){var h=Array.prototype.slice.call(arguments,0);return t.normalize(d(h,function(u,r){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},t.relative=function(h,u){h=t.resolve(h).substr(1),u=t.resolve(u).substr(1);function r(_){for(var x=0;x<_.length&&_[x]==="";x++);for(var T=_.length-1;T>=0&&_[T]==="";T--);return x>T?[]:_.slice(x,T-x+1)}for(var i=r(h.split("/")),s=r(u.split("/")),p=Math.min(i.length,s.length),l=p,c=0;c<p;c++)if(i[c]!==s[c]){l=c;break}for(var m=[],c=l;c<i.length;c++)m.push("..");return m=m.concat(s.slice(l)),m.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(h){var u=o(h),r=u[0],i=u[1];return!r&&!i?".":(i&&(i=i.substr(0,i.length-1)),r+i)},t.basename=function(h,u){var r=o(h)[2];return u&&r.substr(-1*u.length)===u&&(r=r.substr(0,r.length-u.length)),r},t.extname=function(h){return o(h)[3]};function d(h,u){if(h.filter)return h.filter(u);for(var r=[],i=0;i<h.length;i++)u(h[i],i,h)&&r.push(h[i]);return r}var v="ab".substr(-1)==="b"?function(h,u,r){return h.substr(u,r)}:function(h,u,r){return u<0&&(u=h.length+u),h.substr(u,r)}}).call(this,g("_process"))},{_process:26}],9:[function(g,e,t){var a=new ArrayBuffer(0),n=function(f,o,d,v){this.gl=f,this.buffer=f.createBuffer(),this.type=o||f.ARRAY_BUFFER,this.drawType=v||f.STATIC_DRAW,this.data=a,d&&this.upload(d),this._updateID=0};n.prototype.upload=function(f,o,d){d||this.bind();var v=this.gl;f=f||this.data,o=o||0,this.data.byteLength>=f.byteLength?v.bufferSubData(this.type,o,f):v.bufferData(this.type,f,this.drawType),this.data=f},n.prototype.bind=function(){var f=this.gl;f.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(f,o,d){return new n(f,f.ARRAY_BUFFER,o,d)},n.createIndexBuffer=function(f,o,d){return new n(f,f.ELEMENT_ARRAY_BUFFER,o,d)},n.create=function(f,o,d,v){return new n(f,o,d,v)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=n},{}],10:[function(g,e,t){var a=g("./GLTexture"),n=function(f,o,d){this.gl=f,this.framebuffer=f.createFramebuffer(),this.stencil=null,this.texture=null,this.width=o||100,this.height=d||100};n.prototype.enableTexture=function(f){var o=this.gl;this.texture=f||new a(o),this.texture.bind(),this.bind(),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.texture.texture,0)},n.prototype.enableStencil=function(){if(!this.stencil){var f=this.gl;this.stencil=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.stencil),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,this.stencil),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height)}},n.prototype.clear=function(f,o,d,v){this.bind();var h=this.gl;h.clearColor(f,o,d,v),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT)},n.prototype.bind=function(){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer)},n.prototype.unbind=function(){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,null)},n.prototype.resize=function(f,o){var d=this.gl;this.width=f,this.height=o,this.texture&&this.texture.uploadData(null,f,o),this.stencil&&(d.bindRenderbuffer(d.RENDERBUFFER,this.stencil),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,f,o))},n.prototype.destroy=function(){var f=this.gl;this.texture&&this.texture.destroy(),f.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},n.createRGBA=function(f,o,d,v){var h=a.fromData(f,null,o,d);h.enableNearestScaling(),h.enableWrapClamp();var u=new n(f,o,d);return u.enableTexture(h),u.unbind(),u},n.createFloat32=function(f,o,d,v){var h=new a.fromData(f,v,o,d);h.enableNearestScaling(),h.enableWrapClamp();var u=new n(f,o,d);return u.enableTexture(h),u.unbind(),u},e.exports=n},{"./GLTexture":12}],11:[function(g,e,t){var a=g("./shader/compileProgram"),n=g("./shader/extractAttributes"),f=g("./shader/extractUniforms"),o=g("./shader/setPrecision"),d=g("./shader/generateUniformAccessObject"),v=function(h,u,r,i,s){this.gl=h,i&&(u=o(u,i),r=o(r,i)),this.program=a(h,u,r,s),this.attributes=n(h,this.program),this.uniformData=f(h,this.program),this.uniforms=d(h,this.uniformData)};v.prototype.bind=function(){return this.gl.useProgram(this.program),this},v.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var h=this.gl;h.deleteProgram(this.program)},e.exports=v},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(g,e,t){var a=function(f,o,d,v,h){this.gl=f,this.texture=f.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=o||-1,this.height=d||-1,this.format=v||f.RGBA,this.type=h||f.UNSIGNED_BYTE};a.prototype.upload=function(f){this.bind();var o=this.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var d=f.videoWidth||f.width,v=f.videoHeight||f.height;v!==this.height||d!==this.width?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,f):o.texSubImage2D(o.TEXTURE_2D,0,0,0,this.format,this.type,f),this.width=d,this.height=v};var n=!1;a.prototype.uploadData=function(f,o,d){this.bind();var v=this.gl;if(f instanceof Float32Array){if(!n){var h=v.getExtension("OES_texture_float");if(h)n=!0;else throw new Error("floating point textures not available")}this.type=v.FLOAT}else this.type=this.type||v.UNSIGNED_BYTE;v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),o!==this.width||d!==this.height?v.texImage2D(v.TEXTURE_2D,0,this.format,o,d,0,this.format,this.type,f||null):v.texSubImage2D(v.TEXTURE_2D,0,0,0,o,d,this.format,this.type,f||null),this.width=o,this.height=d},a.prototype.bind=function(f){var o=this.gl;f!==void 0&&o.activeTexture(o.TEXTURE0+f),o.bindTexture(o.TEXTURE_2D,this.texture)},a.prototype.unbind=function(){var f=this.gl;f.bindTexture(f.TEXTURE_2D,null)},a.prototype.minFilter=function(f){var o=this.gl;this.bind(),this.mipmap?o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,f?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST):o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,f?o.LINEAR:o.NEAREST)},a.prototype.magFilter=function(f){var o=this.gl;this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,f?o.LINEAR:o.NEAREST)},a.prototype.enableMipmap=function(){var f=this.gl;this.bind(),this.mipmap=!0,f.generateMipmap(f.TEXTURE_2D)},a.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},a.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},a.prototype.enableWrapClamp=function(){var f=this.gl;this.bind(),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE)},a.prototype.enableWrapRepeat=function(){var f=this.gl;this.bind(),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)},a.prototype.enableWrapMirrorRepeat=function(){var f=this.gl;this.bind(),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.MIRRORED_REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.MIRRORED_REPEAT)},a.prototype.destroy=function(){var f=this.gl;f.deleteTexture(this.texture)},a.fromSource=function(f,o,d){var v=new a(f);return v.premultiplyAlpha=d||!1,v.upload(o),v},a.fromData=function(f,o,d,v){var h=new a(f);return h.uploadData(o,d,v),h},e.exports=a},{}],13:[function(g,e,t){var a=g("./setVertexAttribArrays");function n(f,o){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=f.getExtension("OES_vertex_array_object")||f.getExtension("MOZ_OES_vertex_array_object")||f.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=o,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var d=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(d),attribState:new Array(d)}}this.gl=f,this.attributes=[],this.indexBuffer=null,this.dirty=!1}n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var f=this.gl,o=null,d=0;d<this.attributes.length;d++){var v=this.attributes[d];o!==v.buffer&&(v.buffer.bind(),o=v.buffer),f.vertexAttribPointer(v.attribute.location,v.attribute.size,v.type||f.FLOAT,v.normalized||!1,v.stride||0,v.start||0)}return a(f,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(f,o,d,v,h,u){return this.attributes.push({buffer:f,attribute:o,location:o.location,type:d||this.gl.FLOAT,normalized:v||!1,stride:h||0,start:u||0}),this.dirty=!0,this},n.prototype.addIndex=function(f){return this.indexBuffer=f,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(f,o,d){var v=this.gl;return this.indexBuffer?v.drawElements(f,o||this.indexBuffer.data.length,v.UNSIGNED_SHORT,(d||0)*2):v.drawArrays(f,d,o||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var f=this.attributes[0];return f.buffer.data.length/(f.stride/4||f.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(g,e,t){var a=function(n,f){var o=n.getContext("webgl",f)||n.getContext("experimental-webgl",f);if(!o)throw new Error("This browser does not support webGL. Try using the canvas renderer");return o};e.exports=a},{}],15:[function(g,e,t){var a={createContext:g("./createContext"),setVertexAttribArrays:g("./setVertexAttribArrays"),GLBuffer:g("./GLBuffer"),GLFramebuffer:g("./GLFramebuffer"),GLShader:g("./GLShader"),GLTexture:g("./GLTexture"),VertexArrayObject:g("./VertexArrayObject"),shader:g("./shader")};typeof e<"u"&&e.exports&&(e.exports=a),typeof window<"u"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(g,e,t){var a=function(n,f,o){var d;if(o){var v=o.tempAttribState,h=o.attribState;for(d=0;d<v.length;d++)v[d]=!1;for(d=0;d<f.length;d++)v[f[d].attribute.location]=!0;for(d=0;d<h.length;d++)h[d]!==v[d]&&(h[d]=v[d],o.attribState[d]?n.enableVertexAttribArray(d):n.disableVertexAttribArray(d))}else for(d=0;d<f.length;d++){var u=f[d];n.enableVertexAttribArray(u.attribute.location)}};e.exports=a},{}],17:[function(g,e,t){var a=function(f,o,d,v){var h=n(f,f.VERTEX_SHADER,o),u=n(f,f.FRAGMENT_SHADER,d),r=f.createProgram();if(f.attachShader(r,h),f.attachShader(r,u),v)for(var i in v)f.bindAttribLocation(r,v[i],i);return f.linkProgram(r),f.getProgramParameter(r,f.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",f.getProgramParameter(r,f.VALIDATE_STATUS)),console.error("gl.getError()",f.getError()),f.getProgramInfoLog(r)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",f.getProgramInfoLog(r)),f.deleteProgram(r),r=null),f.deleteShader(h),f.deleteShader(u),r},n=function(f,o,d){var v=f.createShader(o);return f.shaderSource(v,d),f.compileShader(v),f.getShaderParameter(v,f.COMPILE_STATUS)?v:(console.log(f.getShaderInfoLog(v)),null)};e.exports=a},{}],18:[function(g,e,t){var a=function(f,o){switch(f){case"float":return 0;case"vec2":return new Float32Array(2*o);case"vec3":return new Float32Array(3*o);case"vec4":return new Float32Array(4*o);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*o);case"ivec3":return new Int32Array(3*o);case"ivec4":return new Int32Array(4*o);case"bool":return!1;case"bvec2":return n(2*o);case"bvec3":return n(3*o);case"bvec4":return n(4*o);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},n=function(f){for(var o=new Array(f),d=0;d<o.length;d++)o[d]=!1;return o};e.exports=a},{}],19:[function(g,e,t){var a=g("./mapType"),n=g("./mapSize"),f=function(d,v){for(var h={},u=d.getProgramParameter(v,d.ACTIVE_ATTRIBUTES),r=0;r<u;r++){var i=d.getActiveAttrib(v,r),s=a(d,i.type);h[i.name]={type:s,size:n(s),location:d.getAttribLocation(v,i.name),pointer:o}}return h},o=function(d,v,h,u){gl.vertexAttribPointer(this.location,this.size,d||gl.FLOAT,v||!1,h||0,u||0)};e.exports=f},{"./mapSize":23,"./mapType":24}],20:[function(g,e,t){var a=g("./mapType"),n=g("./defaultValue"),f=function(o,d){for(var v={},h=o.getProgramParameter(d,o.ACTIVE_UNIFORMS),u=0;u<h;u++){var r=o.getActiveUniform(d,u),i=r.name.replace(/\[.*?\]/,""),s=a(o,r.type);v[i]={type:s,size:r.size,location:o.getUniformLocation(d,i),value:n(s,r.size)}}return v};e.exports=f},{"./defaultValue":18,"./mapType":24}],21:[function(g,e,t){var a=function(h,u){var r={data:{}};r.gl=h;for(var i=Object.keys(u),s=0;s<i.length;s++){var p=i[s],l=p.split("."),c=l[l.length-1],m=v(l,r),_=u[p];m.data[c]=_,m.gl=h,Object.defineProperty(m,c,{get:n(c),set:d(c,_)})}return r},n=function(h){return function(){return this.data[h].value}},f={float:function(u,r,i){u.uniform1f(r,i)},vec2:function(u,r,i){u.uniform2f(r,i[0],i[1])},vec3:function(u,r,i){u.uniform3f(r,i[0],i[1],i[2])},vec4:function(u,r,i){u.uniform4f(r,i[0],i[1],i[2],i[3])},int:function(u,r,i){u.uniform1i(r,i)},ivec2:function(u,r,i){u.uniform2i(r,i[0],i[1])},ivec3:function(u,r,i){u.uniform3i(r,i[0],i[1],i[2])},ivec4:function(u,r,i){u.uniform4i(r,i[0],i[1],i[2],i[3])},bool:function(u,r,i){u.uniform1i(r,i)},bvec2:function(u,r,i){u.uniform2i(r,i[0],i[1])},bvec3:function(u,r,i){u.uniform3i(r,i[0],i[1],i[2])},bvec4:function(u,r,i){u.uniform4i(r,i[0],i[1],i[2],i[3])},mat2:function(u,r,i){u.uniformMatrix2fv(r,!1,i)},mat3:function(u,r,i){u.uniformMatrix3fv(r,!1,i)},mat4:function(u,r,i){u.uniformMatrix4fv(r,!1,i)},sampler2D:function(u,r,i){u.uniform1i(r,i)}},o={float:function(u,r,i){u.uniform1fv(r,i)},vec2:function(u,r,i){u.uniform2fv(r,i)},vec3:function(u,r,i){u.uniform3fv(r,i)},vec4:function(u,r,i){u.uniform4fv(r,i)},int:function(u,r,i){u.uniform1iv(r,i)},ivec2:function(u,r,i){u.uniform2iv(r,i)},ivec3:function(u,r,i){u.uniform3iv(r,i)},ivec4:function(u,r,i){u.uniform4iv(r,i)},bool:function(u,r,i){u.uniform1iv(r,i)},bvec2:function(u,r,i){u.uniform2iv(r,i)},bvec3:function(u,r,i){u.uniform3iv(r,i)},bvec4:function(u,r,i){u.uniform4iv(r,i)},sampler2D:function(u,r,i){u.uniform1iv(r,i)}};function d(h,u){return function(r){this.data[h].value=r;var i=this.data[h].location;u.size===1?f[u.type](this.gl,i,r):o[u.type](this.gl,i,r)}}function v(h,u){for(var r=u,i=0;i<h.length-1;i++){var s=r[h[i]]||{data:{}};r[h[i]]=s,r=s}return r}e.exports=a},{}],22:[function(g,e,t){e.exports={compileProgram:g("./compileProgram"),defaultValue:g("./defaultValue"),extractAttributes:g("./extractAttributes"),extractUniforms:g("./extractUniforms"),generateUniformAccessObject:g("./generateUniformAccessObject"),setPrecision:g("./setPrecision"),mapSize:g("./mapSize"),mapType:g("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(g,e,t){var a=function(f){return n[f]},n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=a},{}],24:[function(g,e,t){var a=function(o,d){if(!n){var v=Object.keys(f);n={};for(var h=0;h<v.length;++h){var u=v[h];n[o[u]]=f[u]}}return n[d]},n=null,f={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=a},{}],25:[function(g,e,t){var a=function(n,f){return n.substring(0,9)!=="precision"?"precision "+f+` float;
`+n:n};e.exports=a},{}],26:[function(g,e,t){var a=e.exports={},n,f;function o(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=o}catch{n=o}try{typeof clearTimeout=="function"?f=clearTimeout:f=d}catch{f=d}})();function v(_){if(n===setTimeout)return setTimeout(_,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(_,0);try{return n(_,0)}catch{try{return n.call(null,_,0)}catch{return n.call(this,_,0)}}}function h(_){if(f===clearTimeout)return clearTimeout(_);if((f===d||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(_);try{return f(_)}catch{try{return f.call(null,_)}catch{return f.call(this,_)}}}var u=[],r=!1,i,s=-1;function p(){!r||!i||(r=!1,i.length?u=i.concat(u):s=-1,u.length&&l())}function l(){if(!r){var _=v(p);r=!0;for(var x=u.length;x;){for(i=u,u=[];++s<x;)i&&i[s].run();s=-1,x=u.length}i=null,r=!1,h(_)}}a.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)x[T-1]=arguments[T];u.push(new c(_,x)),u.length===1&&!r&&v(l)};function c(_,x){this.fun=_,this.array=x}c.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function m(){}a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(_){return[]},a.binding=function(_){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(_){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],27:[function(g,e,t){(function(a){(function(n){var f=typeof t=="object"&&t&&!t.nodeType&&t,o=typeof e=="object"&&e&&!e.nodeType&&e,d=typeof a=="object"&&a;(d.global===d||d.window===d||d.self===d)&&(n=d);var v,h=2147483647,u=36,r=1,i=26,s=38,p=700,l=72,c=128,m="-",_=/^xn--/,x=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-r,b=Math.floor,S=String.fromCharCode,E;function O(k){throw new RangeError(y[k])}function P(k,G){for(var W=k.length,K=[];W--;)K[W]=G(k[W]);return K}function C(k,G){var W=k.split("@"),K="";W.length>1&&(K=W[0]+"@",k=W[1]),k=k.replace(T,".");var q=k.split("."),Q=P(q,G).join(".");return K+Q}function A(k){for(var G=[],W=0,K=k.length,q,Q;W<K;)q=k.charCodeAt(W++),q>=55296&&q<=56319&&W<K?(Q=k.charCodeAt(W++),(Q&64512)==56320?G.push(((q&1023)<<10)+(Q&1023)+65536):(G.push(q),W--)):G.push(q);return G}function B(k){return P(k,function(G){var W="";return G>65535&&(G-=65536,W+=S(G>>>10&1023|55296),G=56320|G&1023),W+=S(G),W}).join("")}function I(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:u}function R(k,G){return k+22+75*(k<26)-((G!=0)<<5)}function D(k,G,W){var K=0;for(k=W?b(k/p):k>>1,k+=b(k/G);k>w*i>>1;K+=u)k=b(k/w);return b(K+(w+1)*k/(k+s))}function L(k){var G=[],W=k.length,K,q=0,Q=c,J=l,V,Z,$,it,nt,at,st,rt,tt;for(V=k.lastIndexOf(m),V<0&&(V=0),Z=0;Z<V;++Z)k.charCodeAt(Z)>=128&&O("not-basic"),G.push(k.charCodeAt(Z));for($=V>0?V+1:0;$<W;){for(it=q,nt=1,at=u;$>=W&&O("invalid-input"),st=I(k.charCodeAt($++)),(st>=u||st>b((h-q)/nt))&&O("overflow"),q+=st*nt,rt=at<=J?r:at>=J+i?i:at-J,!(st<rt);at+=u)tt=u-rt,nt>b(h/tt)&&O("overflow"),nt*=tt;K=G.length+1,J=D(q-it,K,it==0),b(q/K)>h-Q&&O("overflow"),Q+=b(q/K),q%=K,G.splice(q++,0,Q)}return B(G)}function F(k){var G,W,K,q,Q,J,V,Z,$,it,nt,at=[],st,rt,tt,ut;for(k=A(k),st=k.length,G=c,W=0,Q=l,J=0;J<st;++J)nt=k[J],nt<128&&at.push(S(nt));for(K=q=at.length,q&&at.push(m);K<st;){for(V=h,J=0;J<st;++J)nt=k[J],nt>=G&&nt<V&&(V=nt);for(rt=K+1,V-G>b((h-W)/rt)&&O("overflow"),W+=(V-G)*rt,G=V,J=0;J<st;++J)if(nt=k[J],nt<G&&++W>h&&O("overflow"),nt==G){for(Z=W,$=u;it=$<=Q?r:$>=Q+i?i:$-Q,!(Z<it);$+=u)ut=Z-it,tt=u-it,at.push(S(R(it+ut%tt,0))),Z=b(ut/tt);at.push(S(R(Z,0))),Q=D(W,rt,K==q),W=0,++K}++W,++G}return at.join("")}function N(k){return C(k,function(G){return _.test(G)?L(G.slice(4).toLowerCase()):G})}function U(k){return C(k,function(G){return x.test(G)?"xn--"+F(G):G})}if(v={version:"1.4.1",ucs2:{decode:A,encode:B},decode:L,encode:F,toASCII:U,toUnicode:N},f&&o)if(e.exports==f)o.exports=v;else for(E in v)v.hasOwnProperty(E)&&(f[E]=v[E]);else n.punycode=v})(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(g,e,t){function a(f,o){return Object.prototype.hasOwnProperty.call(f,o)}e.exports=function(f,o,d,v){o=o||"&",d=d||"=";var h={};if(typeof f!="string"||f.length===0)return h;var u=/\+/g;f=f.split(o);var r=1e3;v&&typeof v.maxKeys=="number"&&(r=v.maxKeys);var i=f.length;r>0&&i>r&&(i=r);for(var s=0;s<i;++s){var p=f[s].replace(u,"%20"),l=p.indexOf(d),c,m,_,x;l>=0?(c=p.substr(0,l),m=p.substr(l+1)):(c=p,m=""),_=decodeURIComponent(c),x=decodeURIComponent(m),a(h,_)?n(h[_])?h[_].push(x):h[_]=[h[_],x]:h[_]=x}return h};var n=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"}},{}],29:[function(g,e,t){var a=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};e.exports=function(d,v,h,u){return v=v||"&",h=h||"=",d===null&&(d=void 0),typeof d=="object"?f(o(d),function(r){var i=encodeURIComponent(a(r))+h;return n(d[r])?f(d[r],function(s){return i+encodeURIComponent(a(s))}).join(v):i+encodeURIComponent(a(d[r]))}).join(v):u?encodeURIComponent(a(u))+h+encodeURIComponent(a(d)):""};var n=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function f(d,v){if(d.map)return d.map(v);for(var h=[],u=0;u<d.length;u++)h.push(v(d[u],u));return h}var o=Object.keys||function(d){var v=[];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&v.push(h);return v}},{}],30:[function(g,e,t){t.decode=t.parse=g("./decode"),t.encode=t.stringify=g("./encode")},{"./decode":28,"./encode":29}],31:[function(g,e,t){e.exports=function(n,f,o){var d,v=n.length;if(!(f>=v||o===0)){o=f+o>v?v-f:o;var h=v-o;for(d=f;d<h;++d)n[d]=n[d+o];n.length=h}}},{}],32:[function(g,e,t){t.__esModule=!0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},n=function(){function x(T,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,y,w){return y&&x(T.prototype,y),w&&x(T,w),T}}(),f=g("mini-signals"),o=p(f),d=g("parse-uri"),v=p(d),h=g("./async"),u=s(h),r=g("./Resource"),i=p(r);function s(x){if(x&&x.__esModule)return x;var T={};if(x!=null)for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(T[y]=x[y]);return T.default=x,T}function p(x){return x&&x.__esModule?x:{default:x}}function l(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}var c=100,m=/(#[\w-]+)?$/,_=function(){function x(){var T=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;l(this,x),this.baseUrl=y,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(b,S){return T._loadResource(b,S)},this._queue=u.queue(this._boundLoadResource,w),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return x.prototype.add=function(y,w,b,S){if(Array.isArray(y)){for(var E=0;E<y.length;++E)this.add(y[E]);return this}if((typeof y>"u"?"undefined":a(y))==="object"&&(S=w||y.callback||y.onComplete,b=y,w=y.url,y=y.name||y.key||y.url),typeof w!="string"&&(S=b,b=w,w=y),typeof w!="string")throw new Error("No url passed to add resource to loader.");if(typeof b=="function"&&(S=b,b=null),this.loading&&(!b||!b.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[y])throw new Error('Resource named "'+y+'" already exists.');if(w=this._prepareUrl(w),this.resources[y]=new i.default(y,w,b),typeof S=="function"&&this.resources[y].onAfterMiddleware.once(S),this.loading){for(var O=b.parentResource,P=[],C=0;C<O.children.length;++C)O.children[C].isComplete||P.push(O.children[C]);var A=O.progressChunk*(P.length+1),B=A/(P.length+2);O.children.push(this.resources[y]),O.progressChunk=B;for(var I=0;I<P.length;++I)P[I].progressChunk=B;this.resources[y].progressChunk=B}return this._queue.push(this.resources[y]),this},x.prototype.pre=function(y){return this._beforeMiddleware.push(y),this},x.prototype.use=function(y){return this._afterMiddleware.push(y),this},x.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var y in this.resources){var w=this.resources[y];w._onLoadBinding&&w._onLoadBinding.detach(),w.isLoading&&w.abort()}return this.resources={},this},x.prototype.load=function(y){if(typeof y=="function"&&this.onComplete.once(y),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var w=this._queue._tasks.length,b=100/w,S=0;S<this._queue._tasks.length;++S)this._queue._tasks[S].data.progressChunk=b;this._onStart(),this._queue.resume()}return this},x.prototype._prepareUrl=function(y){var w=(0,v.default)(y,{strictMode:!0}),b=void 0;if(w.protocol||!w.path||y.indexOf("//")===0?b=y:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&y.charAt(0)!=="/"?b=this.baseUrl+"/"+y:b=this.baseUrl+y,this.defaultQueryString){var S=m.exec(b)[0];b=b.substr(0,b.length-S.length),b.indexOf("?")!==-1?b+="&"+this.defaultQueryString:b+="?"+this.defaultQueryString,b+=S}return b},x.prototype._loadResource=function(y,w){var b=this;y._dequeue=w,u.eachSeries(this._beforeMiddleware,function(S,E){S.call(b,y,function(){E(y.isComplete?{}:null)})},function(){y.isComplete?b._onLoad(y):(y._onLoadBinding=y.onComplete.once(b._onLoad,b),y.load())},!0)},x.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},x.prototype._onComplete=function(){this.progress=c,this.loading=!1,this.onComplete.dispatch(this,this.resources)},x.prototype._onLoad=function(y){var w=this;y._onLoadBinding=null,this._resourcesParsing.push(y),y._dequeue(),u.eachSeries(this._afterMiddleware,function(b,S){b.call(w,y,S)},function(){y.onAfterMiddleware.dispatch(y),w.progress+=y.progressChunk,w.onProgress.dispatch(w,y),y.error?w.onError.dispatch(y.error,w,y):w.onLoad.dispatch(w,y),w._resourcesParsing.splice(w._resourcesParsing.indexOf(y),1),w._queue.idle()&&w._resourcesParsing.length===0&&w._onComplete()},!0)},n(x,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(y){this._queue.concurrency=y}}]),x}();t.default=_},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(g,e,t){t.__esModule=!0;var a=function(){function y(w,b){for(var S=0;S<b.length;S++){var E=b[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,S){return b&&y(w.prototype,b),S&&y(w,S),w}}(),n=g("parse-uri"),f=v(n),o=g("mini-signals"),d=v(o);function v(y){return y&&y.__esModule?y:{default:y}}function h(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}var u=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),r=null,i=0,s=200,p=204,l=1223,c=2;function m(){}var _=function(){y.setExtensionLoadType=function(b,S){x(y._loadTypeMap,b,S)},y.setExtensionXhrType=function(b,S){x(y._xhrTypeMap,b,S)};function y(w,b,S){if(h(this,y),typeof w!="string"||typeof b!="string")throw new Error("Both name and url are required for constructing a resource.");S=S||{},this._flags=0,this._setFlag(y.STATUS_FLAGS.DATA_URL,b.indexOf("data:")===0),this.name=w,this.url=b,this.extension=this._getExtension(),this.data=null,this.crossOrigin=S.crossOrigin===!0?"anonymous":S.crossOrigin,this.loadType=S.loadType||this._determineLoadType(),this.xhrType=S.xhrType,this.metadata=S.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=y.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=m,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new d.default,this.onProgress=new d.default,this.onComplete=new d.default,this.onAfterMiddleware=new d.default}return y.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(y.STATUS_FLAGS.COMPLETE,!0),this._setFlag(y.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},y.prototype.abort=function(b){if(!this.error){if(this.error=new Error(b),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=y.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},y.prototype.load=function(b){var S=this;if(!this.isLoading){if(this.isComplete){b&&setTimeout(function(){return b(S)},1);return}else b&&this.onComplete.once(b);switch(this._setFlag(y.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case y.LOAD_TYPE.IMAGE:this.type=y.TYPE.IMAGE,this._loadElement("image");break;case y.LOAD_TYPE.AUDIO:this.type=y.TYPE.AUDIO,this._loadSourceElement("audio");break;case y.LOAD_TYPE.VIDEO:this.type=y.TYPE.VIDEO,this._loadSourceElement("video");break;case y.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},y.prototype._hasFlag=function(b){return!!(this._flags&b)},y.prototype._setFlag=function(b,S){this._flags=S?this._flags|b:this._flags&~b},y.prototype._loadElement=function(b){this.metadata.loadElement?this.data=this.metadata.loadElement:b==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(b),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},y.prototype._loadSourceElement=function(b){if(this.metadata.loadElement?this.data=this.metadata.loadElement:b==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(b),this.data===null){this.abort("Unsupported element: "+b);return}if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var S=this.metadata.mimeType,E=0;E<this.url.length;++E)this.data.appendChild(this._createSource(b,this.url[E],Array.isArray(S)?S[E]:S));else{var O=this.metadata.mimeType;this.data.appendChild(this._createSource(b,this.url,Array.isArray(O)?O[0]:O))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},y.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0),this.xhrType===y.XHR_RESPONSE_TYPE.JSON||this.xhrType===y.XHR_RESPONSE_TYPE.DOCUMENT?b.responseType=y.XHR_RESPONSE_TYPE.TEXT:b.responseType=this.xhrType,b.addEventListener("error",this._boundXhrOnError,!1),b.addEventListener("abort",this._boundXhrOnAbort,!1),b.addEventListener("progress",this._boundOnProgress,!1),b.addEventListener("load",this._boundXhrOnLoad,!1),b.send()},y.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XDomainRequest;b.timeout=5e3,b.onerror=this._boundXhrOnError,b.ontimeout=this._boundXdrOnTimeout,b.onprogress=this._boundOnProgress,b.onload=this._boundXhrOnLoad,b.open("GET",this.url,!0),setTimeout(function(){return b.send()},1)},y.prototype._createSource=function(b,S,E){E||(E=b+"/"+this._getExtension(S));var O=document.createElement("source");return O.src=S,O.type=E,O},y.prototype._onError=function(b){this.abort("Failed to load element using: "+b.target.nodeName)},y.prototype._onProgress=function(b){b&&b.lengthComputable&&this.onProgress.dispatch(this,b.loaded/b.total)},y.prototype._xhrOnError=function(){var b=this.xhr;this.abort(T(b)+" Request failed. Status: "+b.status+', text: "'+b.statusText+'"')},y.prototype._xhrOnAbort=function(){this.abort(T(this.xhr)+" Request was aborted by the user.")},y.prototype._xdrOnTimeout=function(){this.abort(T(this.xhr)+" Request timed out.")},y.prototype._xhrOnLoad=function(){var b=this.xhr,S="",E=typeof b.status>"u"?s:b.status;(b.responseType===""||b.responseType==="text"||typeof b.responseType>"u")&&(S=b.responseText),E===i&&(S.length>0||b.responseType===y.XHR_RESPONSE_TYPE.BUFFER)?E=s:E===l&&(E=p);var O=E/100|0;if(O===c)if(this.xhrType===y.XHR_RESPONSE_TYPE.TEXT)this.data=S,this.type=y.TYPE.TEXT;else if(this.xhrType===y.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(S),this.type=y.TYPE.JSON}catch(A){this.abort("Error trying to parse loaded json: "+A);return}else if(this.xhrType===y.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var P=new DOMParser;this.data=P.parseFromString(S,"text/xml")}else{var C=document.createElement("div");C.innerHTML=S,this.data=C}this.type=y.TYPE.XML}catch(A){this.abort("Error trying to parse loaded xml: "+A);return}else this.data=b.response||S;else{this.abort("["+b.status+"] "+b.statusText+": "+b.responseURL);return}this.complete()},y.prototype._determineCrossOrigin=function(b,S){if(b.indexOf("data:")===0)return"";S=S||window.location,r||(r=document.createElement("a")),r.href=b,b=(0,f.default)(r.href,{strictMode:!0});var E=!b.port&&S.port===""||b.port===S.port,O=b.protocol?b.protocol+":":"";return b.host!==S.hostname||!E||O!==S.protocol?"anonymous":""},y.prototype._determineXhrType=function(){return y._xhrTypeMap[this.extension]||y.XHR_RESPONSE_TYPE.TEXT},y.prototype._determineLoadType=function(){return y._loadTypeMap[this.extension]||y.LOAD_TYPE.XHR},y.prototype._getExtension=function(){var b=this.url,S="";if(this.isDataUrl){var E=b.indexOf("/");S=b.substring(E+1,b.indexOf(";",E))}else{var O=b.indexOf("?"),P=b.indexOf("#"),C=Math.min(O>-1?O:b.length,P>-1?P:b.length);b=b.substring(0,C),S=b.substring(b.lastIndexOf(".")+1)}return S.toLowerCase()},y.prototype._getMimeFromXhrType=function(b){switch(b){case y.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case y.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case y.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case y.XHR_RESPONSE_TYPE.JSON:return"application/json";case y.XHR_RESPONSE_TYPE.DEFAULT:case y.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},a(y,[{key:"isDataUrl",get:function(){return this._hasFlag(y.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(y.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(y.STATUS_FLAGS.LOADING)}}]),y}();t.default=_,_.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function x(y,w,b){w&&w.indexOf(".")===0&&(w=w.substring(1)),w&&(y[w]=b)}function T(y){return y.toString().replace("object ","")}},{"mini-signals":5,"parse-uri":7}],34:[function(g,e,t){t.__esModule=!0,t.eachSeries=n,t.queue=o;function a(){}function n(d,v,h,u){var r=0,i=d.length;(function s(p){if(p||r===i){h&&h(p);return}u?setTimeout(function(){v(d[r++],s)},1):v(d[r++],s)})()}function f(d){return function(){if(d===null)throw new Error("Callback was already called.");var h=d;d=null,h.apply(this,arguments)}}function o(d,v){if(v==null)v=1;else if(v===0)throw new Error("Concurrency must not be zero");var h=0,u={_tasks:[],concurrency:v,saturated:a,unsaturated:a,buffer:v/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(p,l){r(p,!1,l)},kill:function(){h=0,u.drain=a,u.started=!1,u._tasks=[]},unshift:function(p,l){r(p,!0,l)},process:function(){for(;!u.paused&&h<u.concurrency&&u._tasks.length;){var p=u._tasks.shift();u._tasks.length===0&&u.empty(),h+=1,h===u.concurrency&&u.saturated(),d(p.data,f(i(p)))}},length:function(){return u._tasks.length},running:function(){return h},idle:function(){return u._tasks.length+h===0},pause:function(){u.paused!==!0&&(u.paused=!0)},resume:function(){if(u.paused!==!1){u.paused=!1;for(var p=1;p<=u.concurrency;p++)u.process()}}};function r(s,p,l){if(l!=null&&typeof l!="function")throw new Error("task callback must be a function");if(u.started=!0,s==null&&u.idle()){setTimeout(function(){return u.drain()},1);return}var c={data:s,callback:typeof l=="function"?l:a};p?u._tasks.unshift(c):u._tasks.push(c),setTimeout(function(){return u.process()},1)}function i(s){return function(){h-=1,s.callback.apply(s,arguments),arguments[0]!=null&&u.error(arguments[0],s.data),h<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}return u}},{}],35:[function(g,e,t){t.__esModule=!0,t.encodeBinary=n;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(f){for(var o="",d=0;d<f.length;){for(var v=[0,0,0],h=[0,0,0,0],u=0;u<v.length;++u)d<f.length?v[u]=f.charCodeAt(d++)&255:v[u]=0;h[0]=v[0]>>2,h[1]=(v[0]&3)<<4|v[1]>>4,h[2]=(v[1]&15)<<2|v[2]>>6,h[3]=v[2]&63;var r=d-(f.length-1);switch(r){case 2:h[3]=64,h[2]=64;break;case 1:h[3]=64;break}for(var i=0;i<h.length;++i)o+=a.charAt(h[i])}return o}},{}],36:[function(g,e,t){var a=g("./Loader").default,n=g("./Resource").default,f=g("./async"),o=g("./b64");a.Resource=n,a.async=f,a.base64=o,e.exports=a,e.exports.default=a},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(g,e,t){t.__esModule=!0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};t.blobMiddlewareFactory=u;var n=g("../../Resource"),f=v(n),o=g("../../b64"),d=v(o);function v(r){return r&&r.__esModule?r:{default:r}}var h=window.URL||window.webkitURL;function u(){return function(i,s){if(!i.data){s();return}if(i.xhr&&i.xhrType===f.default.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof i.data=="string"){var p=i.xhr.getResponseHeader("content-type");if(p&&p.indexOf("image")===0){i.data=new Image,i.data.src="data:"+p+";base64,"+d.default.encodeBinary(i.xhr.responseText),i.type=f.default.TYPE.IMAGE,i.data.onload=function(){i.data.onload=null,s()};return}}else if(i.data.type.indexOf("image")===0){var l=function(){var c=h.createObjectURL(i.data);return i.blob=i.data,i.data=new Image,i.data.src=c,i.type=f.default.TYPE.IMAGE,i.data.onload=function(){h.revokeObjectURL(c),i.data.onload=null,s()},{v:void 0}}();if((typeof l>"u"?"undefined":a(l))==="object")return l.v}}s()}}},{"../../Resource":33,"../../b64":35}],38:[function(g,e,t){var a=g("punycode"),n=g("./util");t.parse=y,t.resolve=b,t.resolveObject=S,t.format=w,t.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r",`
`,"	"],u=["{","}","|","\\","^","`"].concat(h),r=["'"].concat(u),i=["%","/","?",";","#"].concat(r),s=["/","?","#"],p=255,l=/^[+a-z0-9A-Z_-]{0,63}$/,c=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=g("querystring");function y(E,O,P){if(E&&n.isObject(E)&&E instanceof f)return E;var C=new f;return C.parse(E,O,P),C}f.prototype.parse=function(E,O,P){if(!n.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var C=E.indexOf("?"),A=C!==-1&&C<E.indexOf("#")?"?":"#",B=E.split(A),I=/\\/g;B[0]=B[0].replace(I,"/"),E=B.join(A);var R=E;if(R=R.trim(),!P&&E.split("#").length===1){var D=v.exec(R);if(D)return this.path=R,this.href=R,this.pathname=D[1],D[2]?(this.search=D[2],O?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):O&&(this.search="",this.query={}),this}var L=o.exec(R);if(L){L=L[0];var F=L.toLowerCase();this.protocol=F,R=R.substr(L.length)}if(P||L||R.match(/^\/\/[^@\/]+@[^@\/]+/)){var N=R.substr(0,2)==="//";N&&!(L&&_[L])&&(R=R.substr(2),this.slashes=!0)}if(!_[L]&&(N||L&&!x[L])){for(var U=-1,k=0;k<s.length;k++){var G=R.indexOf(s[k]);G!==-1&&(U===-1||G<U)&&(U=G)}var W,K;U===-1?K=R.lastIndexOf("@"):K=R.lastIndexOf("@",U),K!==-1&&(W=R.slice(0,K),R=R.slice(K+1),this.auth=decodeURIComponent(W)),U=-1;for(var k=0;k<i.length;k++){var G=R.indexOf(i[k]);G!==-1&&(U===-1||G<U)&&(U=G)}U===-1&&(U=R.length),this.host=R.slice(0,U),R=R.slice(U),this.parseHost(),this.hostname=this.hostname||"";var q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!q)for(var Q=this.hostname.split(/\./),k=0,J=Q.length;k<J;k++){var V=Q[k];if(V&&!V.match(l)){for(var Z="",$=0,it=V.length;$<it;$++)V.charCodeAt($)>127?Z+="x":Z+=V[$];if(!Z.match(l)){var nt=Q.slice(0,k),at=Q.slice(k+1),st=V.match(c);st&&(nt.push(st[1]),at.unshift(st[2])),at.length&&(R="/"+at.join(".")+R),this.hostname=nt.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),q||(this.hostname=a.toASCII(this.hostname));var rt=this.port?":"+this.port:"",tt=this.hostname||"";this.host=tt+rt,this.href+=this.host,q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),R[0]!=="/"&&(R="/"+R))}if(!m[F])for(var k=0,J=r.length;k<J;k++){var ut=r[k];if(R.indexOf(ut)!==-1){var ft=encodeURIComponent(ut);ft===ut&&(ft=escape(ut)),R=R.split(ut).join(ft)}}var _t=R.indexOf("#");_t!==-1&&(this.hash=R.substr(_t),R=R.slice(0,_t));var vt=R.indexOf("?");if(vt!==-1?(this.search=R.substr(vt),this.query=R.substr(vt+1),O&&(this.query=T.parse(this.query)),R=R.slice(0,vt)):O&&(this.search="",this.query={}),R&&(this.pathname=R),x[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var rt=this.pathname||"",Ct=this.search||"";this.path=rt+Ct}return this.href=this.format(),this};function w(E){return n.isString(E)&&(E=y(E)),E instanceof f?E.format():f.prototype.format.call(E)}f.prototype.format=function(){var E=this.auth||"";E&&(E=encodeURIComponent(E),E=E.replace(/%3A/i,":"),E+="@");var O=this.protocol||"",P=this.pathname||"",C=this.hash||"",A=!1,B="";this.host?A=E+this.host:this.hostname&&(A=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(B=T.stringify(this.query));var I=this.search||B&&"?"+B||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||x[O])&&A!==!1?(A="//"+(A||""),P&&P.charAt(0)!=="/"&&(P="/"+P)):A||(A=""),C&&C.charAt(0)!=="#"&&(C="#"+C),I&&I.charAt(0)!=="?"&&(I="?"+I),P=P.replace(/[?#]/g,function(R){return encodeURIComponent(R)}),I=I.replace("#","%23"),O+A+P+I+C};function b(E,O){return y(E,!1,!0).resolve(O)}f.prototype.resolve=function(E){return this.resolveObject(y(E,!1,!0)).format()};function S(E,O){return E?y(E,!1,!0).resolveObject(O):O}f.prototype.resolveObject=function(E){if(n.isString(E)){var O=new f;O.parse(E,!1,!0),E=O}for(var P=new f,C=Object.keys(this),A=0;A<C.length;A++){var B=C[A];P[B]=this[B]}if(P.hash=E.hash,E.href==="")return P.href=P.format(),P;if(E.slashes&&!E.protocol){for(var I=Object.keys(E),R=0;R<I.length;R++){var D=I[R];D!=="protocol"&&(P[D]=E[D])}return x[P.protocol]&&P.hostname&&!P.pathname&&(P.path=P.pathname="/"),P.href=P.format(),P}if(E.protocol&&E.protocol!==P.protocol){if(!x[E.protocol]){for(var L=Object.keys(E),F=0;F<L.length;F++){var N=L[F];P[N]=E[N]}return P.href=P.format(),P}if(P.protocol=E.protocol,!E.host&&!_[E.protocol]){for(var J=(E.pathname||"").split("/");J.length&&!(E.host=J.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),J[0]!==""&&J.unshift(""),J.length<2&&J.unshift(""),P.pathname=J.join("/")}else P.pathname=E.pathname;if(P.search=E.search,P.query=E.query,P.host=E.host||"",P.auth=E.auth,P.hostname=E.hostname||E.host,P.port=E.port,P.pathname||P.search){var U=P.pathname||"",k=P.search||"";P.path=U+k}return P.slashes=P.slashes||E.slashes,P.href=P.format(),P}var G=P.pathname&&P.pathname.charAt(0)==="/",W=E.host||E.pathname&&E.pathname.charAt(0)==="/",K=W||G||P.host&&E.pathname,q=K,Q=P.pathname&&P.pathname.split("/")||[],J=E.pathname&&E.pathname.split("/")||[],V=P.protocol&&!x[P.protocol];if(V&&(P.hostname="",P.port=null,P.host&&(Q[0]===""?Q[0]=P.host:Q.unshift(P.host)),P.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(J[0]===""?J[0]=E.host:J.unshift(E.host)),E.host=null),K=K&&(J[0]===""||Q[0]==="")),W)P.host=E.host||E.host===""?E.host:P.host,P.hostname=E.hostname||E.hostname===""?E.hostname:P.hostname,P.search=E.search,P.query=E.query,Q=J;else if(J.length)Q||(Q=[]),Q.pop(),Q=Q.concat(J),P.search=E.search,P.query=E.query;else if(!n.isNullOrUndefined(E.search)){if(V){P.hostname=P.host=Q.shift();var Z=P.host&&P.host.indexOf("@")>0?P.host.split("@"):!1;Z&&(P.auth=Z.shift(),P.host=P.hostname=Z.shift())}return P.search=E.search,P.query=E.query,(!n.isNull(P.pathname)||!n.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.href=P.format(),P}if(!Q.length)return P.pathname=null,P.search?P.path="/"+P.search:P.path=null,P.href=P.format(),P;for(var $=Q.slice(-1)[0],it=(P.host||E.host||Q.length>1)&&($==="."||$==="..")||$==="",nt=0,at=Q.length;at>=0;at--)$=Q[at],$==="."?Q.splice(at,1):$===".."?(Q.splice(at,1),nt++):nt&&(Q.splice(at,1),nt--);if(!K&&!q)for(;nt--;nt)Q.unshift("..");K&&Q[0]!==""&&(!Q[0]||Q[0].charAt(0)!=="/")&&Q.unshift(""),it&&Q.join("/").substr(-1)!=="/"&&Q.push("");var st=Q[0]===""||Q[0]&&Q[0].charAt(0)==="/";if(V){P.hostname=P.host=st?"":Q.length?Q.shift():"";var Z=P.host&&P.host.indexOf("@")>0?P.host.split("@"):!1;Z&&(P.auth=Z.shift(),P.host=P.hostname=Z.shift())}return K=K||P.host&&Q.length,K&&!st&&Q.unshift(""),Q.length?P.pathname=Q.join("/"):(P.pathname=null,P.path=null),(!n.isNull(P.pathname)||!n.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.auth=E.auth||P.auth,P.slashes=P.slashes||E.slashes,P.href=P.format(),P},f.prototype.parseHost=function(){var E=this.host,O=d.exec(E);O&&(O=O[0],O!==":"&&(this.port=O.substr(1)),E=E.substr(0,E.length-O.length)),E&&(this.hostname=E)}},{"./util":39,punycode:27,querystring:30}],39:[function(g,e,t){e.exports={isString:function(a){return typeof a=="string"},isObject:function(a){return typeof a=="object"&&a!==null},isNull:function(a){return a===null},isNullOrUndefined:function(a){return a==null}}},{}],40:[function(g,e,t){t.__esModule=!0;var a=g("../core"),n=u(a),f=g("ismobilejs"),o=h(f),d=g("./accessibleTarget"),v=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function u(w){if(w&&w.__esModule)return w;var b={};if(w!=null)for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(b[S]=w[S]);return b.default=w,b}function r(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}n.utils.mixins.delayMixin(n.DisplayObject.prototype,v.default);var i=9,s=100,p=0,l=0,c=2,m=1,_=-1e3,x=-1e3,T=2,y=function(){function w(b){r(this,w),(o.default.tablet||o.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var S=document.createElement("div");S.style.width=s+"px",S.style.height=s+"px",S.style.position="absolute",S.style.top=p+"px",S.style.left=l+"px",S.style.zIndex=c,this.div=S,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=b,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return w.prototype.createTouchHook=function(){var S=this,E=document.createElement("button");E.style.width=m+"px",E.style.height=m+"px",E.style.position="absolute",E.style.top=_+"px",E.style.left=x+"px",E.style.zIndex=T,E.style.backgroundColor="#FF0000",E.title="HOOK DIV",E.addEventListener("focus",function(){S.isMobileAccessabillity=!0,S.activate(),document.body.removeChild(E)}),document.body.appendChild(E)},w.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},w.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},w.prototype.updateAccessibleObjects=function(S){if(S.visible){S.accessible&&S.interactive&&(S._accessibleActive||this.addChild(S),S.renderId=this.renderId);for(var E=S.children,O=0;O<E.length;O++)this.updateAccessibleObjects(E[O])}},w.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var S=this.renderer.view.getBoundingClientRect(),E=S.width/this.renderer.width,O=S.height/this.renderer.height,P=this.div;P.style.left=S.left+"px",P.style.top=S.top+"px",P.style.width=this.renderer.width+"px",P.style.height=this.renderer.height+"px";for(var C=0;C<this.children.length;C++){var A=this.children[C];if(A.renderId!==this.renderId)A._accessibleActive=!1,n.utils.removeItems(this.children,C,1),this.div.removeChild(A._accessibleDiv),this.pool.push(A._accessibleDiv),A._accessibleDiv=null,C--,this.children.length===0&&this.deactivate();else{P=A._accessibleDiv;var B=A.hitArea,I=A.worldTransform;A.hitArea?(P.style.left=(I.tx+B.x*I.a)*E+"px",P.style.top=(I.ty+B.y*I.d)*O+"px",P.style.width=B.width*I.a*E+"px",P.style.height=B.height*I.d*O+"px"):(B=A.getBounds(),this.capHitArea(B),P.style.left=B.x*E+"px",P.style.top=B.y*O+"px",P.style.width=B.width*E+"px",P.style.height=B.height*O+"px",P.title!==A.accessibleTitle&&A.accessibleTitle!==null&&(P.title=A.accessibleTitle),P.getAttribute("aria-label")!==A.accessibleHint&&A.accessibleHint!==null&&P.setAttribute("aria-label",A.accessibleHint))}}this.renderId++}},w.prototype.capHitArea=function(S){S.x<0&&(S.width+=S.x,S.x=0),S.y<0&&(S.height+=S.y,S.y=0),S.x+S.width>this.renderer.width&&(S.width=this.renderer.width-S.x),S.y+S.height>this.renderer.height&&(S.height=this.renderer.height-S.y)},w.prototype.addChild=function(S){var E=this.pool.pop();E||(E=document.createElement("button"),E.style.width=s+"px",E.style.height=s+"px",E.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",E.style.position="absolute",E.style.zIndex=c,E.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?E.setAttribute("aria-live","off"):E.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?E.setAttribute("aria-relevant","additions"):E.setAttribute("aria-relevant","text"),E.addEventListener("click",this._onClick.bind(this)),E.addEventListener("focus",this._onFocus.bind(this)),E.addEventListener("focusout",this._onFocusOut.bind(this))),S.accessibleTitle&&S.accessibleTitle!==null?E.title=S.accessibleTitle:(!S.accessibleHint||S.accessibleHint===null)&&(E.title="displayObject "+S.tabIndex),S.accessibleHint&&S.accessibleHint!==null&&E.setAttribute("aria-label",S.accessibleHint),S._accessibleActive=!0,S._accessibleDiv=E,E.displayObject=S,this.children.push(S),this.div.appendChild(S._accessibleDiv),S._accessibleDiv.tabIndex=S.tabIndex},w.prototype._onClick=function(S){var E=this.renderer.plugins.interaction;E.dispatchEvent(S.target.displayObject,"click",E.eventData)},w.prototype._onFocus=function(S){S.target.getAttribute("aria-live","off")||S.target.setAttribute("aria-live","assertive");var E=this.renderer.plugins.interaction;E.dispatchEvent(S.target.displayObject,"mouseover",E.eventData)},w.prototype._onFocusOut=function(S){S.target.getAttribute("aria-live","off")||S.target.setAttribute("aria-live","polite");var E=this.renderer.plugins.interaction;E.dispatchEvent(S.target.displayObject,"mouseout",E.eventData)},w.prototype._onKeyDown=function(S){S.keyCode===i&&this.activate()},w.prototype._onMouseMove=function(S){S.movementX===0&&S.movementY===0||this.deactivate()},w.prototype.destroy=function(){this.div=null;for(var S=0;S<this.children.length;S++)this.children[S].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},w}();t.default=y,n.WebGLRenderer.registerPlugin("accessibility",y),n.CanvasRenderer.registerPlugin("accessibility",y)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(g,e,t){t.__esModule=!0,t.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(g,e,t){t.__esModule=!0;var a=g("./accessibleTarget");Object.defineProperty(t,"accessibleTarget",{enumerable:!0,get:function(){return f(a).default}});var n=g("./AccessibilityManager");Object.defineProperty(t,"AccessibilityManager",{enumerable:!0,get:function(){return f(n).default}});function f(o){return o&&o.__esModule?o:{default:o}}},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(g,e,t){t.__esModule=!0;var a=function(){function p(l,c){for(var m=0;m<c.length;m++){var _=c[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}return function(l,c,m){return c&&p(l.prototype,c),m&&p(l,m),l}}(),n=g("./autoDetectRenderer"),f=g("./display/Container"),o=r(f),d=g("./ticker"),v=g("./settings"),h=r(v),u=g("./const");function r(p){return p&&p.__esModule?p:{default:p}}function i(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function p(l,c,m,_,x){i(this,p),typeof l=="number"&&(l=Object.assign({width:l,height:c||h.default.RENDER_OPTIONS.height,forceCanvas:!!_,sharedTicker:!!x},m)),this._options=l=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},l),this.renderer=(0,n.autoDetectRenderer)(l),this.stage=new o.default,this._ticker=null,this.ticker=l.sharedTicker?d.shared:new d.Ticker,l.autoStart&&this.start()}return p.prototype.render=function(){this.renderer.render(this.stage)},p.prototype.stop=function(){this._ticker.stop()},p.prototype.start=function(){this._ticker.start()},p.prototype.destroy=function(c,m){if(this._ticker){var _=this._ticker;this.ticker=null,_.destroy()}this.stage.destroy(m),this.stage=null,this.renderer.destroy(c),this.renderer=null,this._options=null},a(p,[{key:"ticker",set:function(c){this._ticker&&this._ticker.remove(this.render,this),this._ticker=c,c&&c.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),p}();t.default=s},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(g,e,t){t.__esModule=!0;var a=g("pixi-gl-core"),n=g("./settings"),f=o(n);function o(i){return i&&i.__esModule?i:{default:i}}function d(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function v(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function h(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}function u(i,s){if(i instanceof Array){if(i[0].substring(0,9)!=="precision"){var p=i.slice(0);return p.unshift("precision "+s+" float;"),p}}else if(i.trim().substring(0,9)!=="precision")return"precision "+s+` float;
`+i;return i}var r=function(i){h(s,i);function s(p,l,c,m,_){return d(this,s),v(this,i.call(this,p,u(l,_||f.default.PRECISION_VERTEX),u(c,_||f.default.PRECISION_FRAGMENT),void 0,m))}return s}(a.GLShader);t.default=r},{"./settings":101,"pixi-gl-core":15}],45:[function(g,e,t){t.__esModule=!0,t.autoDetectRenderer=r;var a=g("./utils"),n=u(a),f=g("./renderers/canvas/CanvasRenderer"),o=h(f),d=g("./renderers/webgl/WebGLRenderer"),v=h(d);function h(i){return i&&i.__esModule?i:{default:i}}function u(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s.default=i,s}function r(i,s,p,l){var c=i&&i.forceCanvas;return l!==void 0&&(c=l),!c&&n.isWebGLSupported()?new v.default(i,s,p):new o.default(i,s,p)}},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(g,e,t){t.__esModule=!0,t.VERSION="4.8.2",t.PI_2=Math.PI*2,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t.SCALE_MODES={LINEAR:0,NEAREST:1},t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t.GC_MODES={AUTO:0,MANUAL:1},t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(g,e,t){t.__esModule=!0;var a=g("../math");function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(){n(this,o),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return o.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},o.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},o.prototype.getRectangle=function(v){return this.minX>this.maxX||this.minY>this.maxY?a.Rectangle.EMPTY:(v=v||new a.Rectangle(0,0,1,1),v.x=this.minX,v.y=this.minY,v.width=this.maxX-this.minX,v.height=this.maxY-this.minY,v)},o.prototype.addPoint=function(v){this.minX=Math.min(this.minX,v.x),this.maxX=Math.max(this.maxX,v.x),this.minY=Math.min(this.minY,v.y),this.maxY=Math.max(this.maxY,v.y)},o.prototype.addQuad=function(v){var h=this.minX,u=this.minY,r=this.maxX,i=this.maxY,s=v[0],p=v[1];h=s<h?s:h,u=p<u?p:u,r=s>r?s:r,i=p>i?p:i,s=v[2],p=v[3],h=s<h?s:h,u=p<u?p:u,r=s>r?s:r,i=p>i?p:i,s=v[4],p=v[5],h=s<h?s:h,u=p<u?p:u,r=s>r?s:r,i=p>i?p:i,s=v[6],p=v[7],h=s<h?s:h,u=p<u?p:u,r=s>r?s:r,i=p>i?p:i,this.minX=h,this.minY=u,this.maxX=r,this.maxY=i},o.prototype.addFrame=function(v,h,u,r,i){var s=v.worldTransform,p=s.a,l=s.b,c=s.c,m=s.d,_=s.tx,x=s.ty,T=this.minX,y=this.minY,w=this.maxX,b=this.maxY,S=p*h+c*u+_,E=l*h+m*u+x;T=S<T?S:T,y=E<y?E:y,w=S>w?S:w,b=E>b?E:b,S=p*r+c*u+_,E=l*r+m*u+x,T=S<T?S:T,y=E<y?E:y,w=S>w?S:w,b=E>b?E:b,S=p*h+c*i+_,E=l*h+m*i+x,T=S<T?S:T,y=E<y?E:y,w=S>w?S:w,b=E>b?E:b,S=p*r+c*i+_,E=l*r+m*i+x,T=S<T?S:T,y=E<y?E:y,w=S>w?S:w,b=E>b?E:b,this.minX=T,this.minY=y,this.maxX=w,this.maxY=b},o.prototype.addVertices=function(v,h,u,r){for(var i=v.worldTransform,s=i.a,p=i.b,l=i.c,c=i.d,m=i.tx,_=i.ty,x=this.minX,T=this.minY,y=this.maxX,w=this.maxY,b=u;b<r;b+=2){var S=h[b],E=h[b+1],O=s*S+l*E+m,P=c*E+p*S+_;x=O<x?O:x,T=P<T?P:T,y=O>y?O:y,w=P>w?P:w}this.minX=x,this.minY=T,this.maxX=y,this.maxY=w},o.prototype.addBounds=function(v){var h=this.minX,u=this.minY,r=this.maxX,i=this.maxY;this.minX=v.minX<h?v.minX:h,this.minY=v.minY<u?v.minY:u,this.maxX=v.maxX>r?v.maxX:r,this.maxY=v.maxY>i?v.maxY:i},o.prototype.addBoundsMask=function(v,h){var u=v.minX>h.minX?v.minX:h.minX,r=v.minY>h.minY?v.minY:h.minY,i=v.maxX<h.maxX?v.maxX:h.maxX,s=v.maxY<h.maxY?v.maxY:h.maxY;if(u<=i&&r<=s){var p=this.minX,l=this.minY,c=this.maxX,m=this.maxY;this.minX=u<p?u:p,this.minY=r<l?r:l,this.maxX=i>c?i:c,this.maxY=s>m?s:m}},o.prototype.addBoundsArea=function(v,h){var u=v.minX>h.x?v.minX:h.x,r=v.minY>h.y?v.minY:h.y,i=v.maxX<h.x+h.width?v.maxX:h.x+h.width,s=v.maxY<h.y+h.height?v.maxY:h.y+h.height;if(u<=i&&r<=s){var p=this.minX,l=this.minY,c=this.maxX,m=this.maxY;this.minX=u<p?u:p,this.minY=r<l?r:l,this.maxX=i>c?i:c,this.maxY=s>m?s:m}},o}();t.default=f},{"../math":70}],48:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("../utils"),f=g("./DisplayObject"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(){v(this,s);var p=h(this,i.call(this));return p.children=[],p}return s.prototype.onChildrenChange=function(){},s.prototype.addChild=function(l){var c=arguments.length;if(c>1)for(var m=0;m<c;m++)this.addChild(arguments[m]);else l.parent&&l.parent.removeChild(l),l.parent=this,l.transform._parentID=-1,this.children.push(l),this._boundsID++,this.onChildrenChange(this.children.length-1),l.emit("added",this);return l},s.prototype.addChildAt=function(l,c){if(c<0||c>this.children.length)throw new Error(l+"addChildAt: The index "+c+" supplied is out of bounds "+this.children.length);return l.parent&&l.parent.removeChild(l),l.parent=this,l.transform._parentID=-1,this.children.splice(c,0,l),this._boundsID++,this.onChildrenChange(c),l.emit("added",this),l},s.prototype.swapChildren=function(l,c){if(l!==c){var m=this.getChildIndex(l),_=this.getChildIndex(c);this.children[m]=c,this.children[_]=l,this.onChildrenChange(m<_?m:_)}},s.prototype.getChildIndex=function(l){var c=this.children.indexOf(l);if(c===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return c},s.prototype.setChildIndex=function(l,c){if(c<0||c>=this.children.length)throw new Error("The index "+c+" supplied is out of bounds "+this.children.length);var m=this.getChildIndex(l);(0,n.removeItems)(this.children,m,1),this.children.splice(c,0,l),this.onChildrenChange(c)},s.prototype.getChildAt=function(l){if(l<0||l>=this.children.length)throw new Error("getChildAt: Index ("+l+") does not exist.");return this.children[l]},s.prototype.removeChild=function(l){var c=arguments.length;if(c>1)for(var m=0;m<c;m++)this.removeChild(arguments[m]);else{var _=this.children.indexOf(l);if(_===-1)return null;l.parent=null,l.transform._parentID=-1,(0,n.removeItems)(this.children,_,1),this._boundsID++,this.onChildrenChange(_),l.emit("removed",this)}return l},s.prototype.removeChildAt=function(l){var c=this.getChildAt(l);return c.parent=null,c.transform._parentID=-1,(0,n.removeItems)(this.children,l,1),this._boundsID++,this.onChildrenChange(l),c.emit("removed",this),c},s.prototype.removeChildren=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments[1],m=l,_=typeof c=="number"?c:this.children.length,x=_-m,T=void 0;if(x>0&&x<=_){T=this.children.splice(m,x);for(var y=0;y<T.length;++y)T[y].parent=null,T[y].transform&&(T[y].transform._parentID=-1);this._boundsID++,this.onChildrenChange(l);for(var w=0;w<T.length;++w)T[w].emit("removed",this);return T}else if(x===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},s.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var l=0,c=this.children.length;l<c;++l){var m=this.children[l];m.visible&&m.updateTransform()}},s.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var l=0;l<this.children.length;l++){var c=this.children[l];!c.visible||!c.renderable||(c.calculateBounds(),c._mask?(c._mask.calculateBounds(),this._bounds.addBoundsMask(c._bounds,c._mask._bounds)):c.filterArea?this._bounds.addBoundsArea(c._bounds,c.filterArea):this._bounds.addBounds(c._bounds))}this._lastBoundsID=this._boundsID},s.prototype._calculateBounds=function(){},s.prototype.renderWebGL=function(l){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this._filters)this.renderAdvancedWebGL(l);else{this._renderWebGL(l);for(var c=0,m=this.children.length;c<m;++c)this.children[c].renderWebGL(l)}},s.prototype.renderAdvancedWebGL=function(l){l.flush();var c=this._filters,m=this._mask;if(c){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var _=0;_<c.length;_++)c[_].enabled&&this._enabledFilters.push(c[_]);this._enabledFilters.length&&l.filterManager.pushFilter(this,this._enabledFilters)}m&&l.maskManager.pushMask(this,this._mask),this._renderWebGL(l);for(var x=0,T=this.children.length;x<T;x++)this.children[x].renderWebGL(l);l.flush(),m&&l.maskManager.popMask(this,this._mask),c&&this._enabledFilters&&this._enabledFilters.length&&l.filterManager.popFilter()},s.prototype._renderWebGL=function(l){},s.prototype._renderCanvas=function(l){},s.prototype.renderCanvas=function(l){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&l.maskManager.pushMask(this._mask),this._renderCanvas(l);for(var c=0,m=this.children.length;c<m;++c)this.children[c].renderCanvas(l);this._mask&&l.maskManager.popMask(l)}},s.prototype.destroy=function(l){i.prototype.destroy.call(this);var c=typeof l=="boolean"?l:l&&l.children,m=this.removeChildren(0,this.children.length);if(c)for(var _=0;_<m.length;++_)m[_].destroy(l)},a(s,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(l){var c=this.getLocalBounds().width;c!==0?this.scale.x=l/c:this.scale.x=1,this._width=l}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(l){var c=this.getLocalBounds().height;c!==0?this.scale.y=l/c:this.scale.y=1,this._height=l}}]),s}(o.default);t.default=r,r.prototype.containerUpdateTransform=r.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(g,e,t){t.__esModule=!0;var a=function(){function y(w,b){for(var S=0;S<b.length;S++){var E=b[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,S){return b&&y(w.prototype,b),S&&y(w,S),w}}(),n=g("eventemitter3"),f=c(n),o=g("../const"),d=g("../settings"),v=c(d),h=g("./TransformStatic"),u=c(h),r=g("./Transform"),i=c(r),s=g("./Bounds"),p=c(s),l=g("../math");function c(y){return y&&y.__esModule?y:{default:y}}function m(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function _(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function x(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var T=function(y){x(w,y);function w(){m(this,w);var b=_(this,y.call(this)),S=v.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?u.default:i.default;return b.tempDisplayObjectParent=null,b.transform=new S,b.alpha=1,b.visible=!0,b.renderable=!0,b.parent=null,b.worldAlpha=1,b.filterArea=null,b._filters=null,b._enabledFilters=null,b._bounds=new p.default,b._boundsID=0,b._lastBoundsID=-1,b._boundsRect=null,b._localBoundsRect=null,b._mask=null,b._destroyed=!1,b}return w.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},w.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},w.prototype.getBounds=function(S,E){return S||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),E||(this._boundsRect||(this._boundsRect=new l.Rectangle),E=this._boundsRect),this._bounds.getRectangle(E)},w.prototype.getLocalBounds=function(S){var E=this.transform,O=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,S||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),S=this._localBoundsRect);var P=this.getBounds(!1,S);return this.parent=O,this.transform=E,P},w.prototype.toGlobal=function(S,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return O||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(S,E)},w.prototype.toLocal=function(S,E,O,P){return E&&(S=E.toGlobal(S,O,P)),P||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(S,O)},w.prototype.renderWebGL=function(S){},w.prototype.renderCanvas=function(S){},w.prototype.setParent=function(S){if(!S||!S.addChild)throw new Error("setParent: Argument must be a Container");return S.addChild(this),S},w.prototype.setTransform=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,B=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,I=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,R=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;return this.position.x=S,this.position.y=E,this.scale.x=O||1,this.scale.y=P||1,this.rotation=C,this.skew.x=A,this.skew.y=B,this.pivot.x=I,this.pivot.y=R,this},w.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},a(w,[{key:"_tempDisplayObjectParent",get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new w),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(S){this.transform.position.x=S}},{key:"y",get:function(){return this.position.y},set:function(S){this.transform.position.y=S}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(S){this.transform.position.copy(S)}},{key:"scale",get:function(){return this.transform.scale},set:function(S){this.transform.scale.copy(S)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(S){this.transform.pivot.copy(S)}},{key:"skew",get:function(){return this.transform.skew},set:function(S){this.transform.skew.copy(S)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(S){this.transform.rotation=S}},{key:"worldVisible",get:function(){var S=this;do{if(!S.visible)return!1;S=S.parent}while(S);return!0}},{key:"mask",get:function(){return this._mask},set:function(S){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=S,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(S){this._filters=S&&S.slice()}}]),w}(f.default);t.default=T,T.prototype.displayObjectUpdateTransform=T.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("../math"),f=g("./TransformBase"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(){v(this,s);var p=h(this,i.call(this));return p.position=new n.Point(0,0),p.scale=new n.Point(1,1),p.skew=new n.ObservablePoint(p.updateSkew,p,0,0),p.pivot=new n.Point(0,0),p._rotation=0,p._cx=1,p._sx=0,p._cy=0,p._sy=1,p}return s.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},s.prototype.updateLocalTransform=function(){var l=this.localTransform;l.a=this._cx*this.scale.x,l.b=this._sx*this.scale.x,l.c=this._cy*this.scale.y,l.d=this._sy*this.scale.y,l.tx=this.position.x-(this.pivot.x*l.a+this.pivot.y*l.c),l.ty=this.position.y-(this.pivot.x*l.b+this.pivot.y*l.d)},s.prototype.updateTransform=function(l){var c=this.localTransform;c.a=this._cx*this.scale.x,c.b=this._sx*this.scale.x,c.c=this._cy*this.scale.y,c.d=this._sy*this.scale.y,c.tx=this.position.x-(this.pivot.x*c.a+this.pivot.y*c.c),c.ty=this.position.y-(this.pivot.x*c.b+this.pivot.y*c.d);var m=l.worldTransform,_=this.worldTransform;_.a=c.a*m.a+c.b*m.c,_.b=c.a*m.b+c.b*m.d,_.c=c.c*m.a+c.d*m.c,_.d=c.c*m.b+c.d*m.d,_.tx=c.tx*m.a+c.ty*m.c+m.tx,_.ty=c.tx*m.b+c.ty*m.d+m.ty,this._worldID++},s.prototype.setFromMatrix=function(l){l.decompose(this)},a(s,[{key:"rotation",get:function(){return this._rotation},set:function(l){this._rotation=l,this.updateSkew()}}]),s}(o.default);t.default=r},{"../math":70,"./TransformBase":51}],51:[function(g,e,t){t.__esModule=!0;var a=g("../math");function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(){n(this,o),this.worldTransform=new a.Matrix,this.localTransform=new a.Matrix,this._worldID=0,this._parentID=0}return o.prototype.updateLocalTransform=function(){},o.prototype.updateTransform=function(v){var h=v.worldTransform,u=this.worldTransform,r=this.localTransform;u.a=r.a*h.a+r.b*h.c,u.b=r.a*h.b+r.b*h.d,u.c=r.c*h.a+r.d*h.c,u.d=r.c*h.b+r.d*h.d,u.tx=r.tx*h.a+r.ty*h.c+h.tx,u.ty=r.tx*h.b+r.ty*h.d+h.ty,this._worldID++},o}();t.default=f,f.prototype.updateWorldTransform=f.prototype.updateTransform,f.IDENTITY=new f},{"../math":70}],52:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("../math"),f=g("./TransformBase"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(){v(this,s);var p=h(this,i.call(this));return p.position=new n.ObservablePoint(p.onChange,p,0,0),p.scale=new n.ObservablePoint(p.onChange,p,1,1),p.pivot=new n.ObservablePoint(p.onChange,p,0,0),p.skew=new n.ObservablePoint(p.updateSkew,p,0,0),p._rotation=0,p._cx=1,p._sx=0,p._cy=0,p._sy=1,p._localID=0,p._currentLocalID=0,p}return s.prototype.onChange=function(){this._localID++},s.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},s.prototype.updateLocalTransform=function(){var l=this.localTransform;this._localID!==this._currentLocalID&&(l.a=this._cx*this.scale._x,l.b=this._sx*this.scale._x,l.c=this._cy*this.scale._y,l.d=this._sy*this.scale._y,l.tx=this.position._x-(this.pivot._x*l.a+this.pivot._y*l.c),l.ty=this.position._y-(this.pivot._x*l.b+this.pivot._y*l.d),this._currentLocalID=this._localID,this._parentID=-1)},s.prototype.updateTransform=function(l){var c=this.localTransform;if(this._localID!==this._currentLocalID&&(c.a=this._cx*this.scale._x,c.b=this._sx*this.scale._x,c.c=this._cy*this.scale._y,c.d=this._sy*this.scale._y,c.tx=this.position._x-(this.pivot._x*c.a+this.pivot._y*c.c),c.ty=this.position._y-(this.pivot._x*c.b+this.pivot._y*c.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==l._worldID){var m=l.worldTransform,_=this.worldTransform;_.a=c.a*m.a+c.b*m.c,_.b=c.a*m.b+c.b*m.d,_.c=c.c*m.a+c.d*m.c,_.d=c.c*m.b+c.d*m.d,_.tx=c.tx*m.a+c.ty*m.c+m.tx,_.ty=c.tx*m.b+c.ty*m.d+m.ty,this._parentID=l._worldID,this._worldID++}},s.prototype.setFromMatrix=function(l){l.decompose(this),this._localID++},a(s,[{key:"rotation",get:function(){return this._rotation},set:function(l){this._rotation=l,this.updateSkew()}}]),s}(o.default);t.default=r},{"../math":70,"./TransformBase":51}],53:[function(g,e,t){t.__esModule=!0;var a=g("../display/Container"),n=w(a),f=g("../textures/RenderTexture"),o=w(f),d=g("../textures/Texture"),v=w(d),h=g("./GraphicsData"),u=w(h),r=g("../sprites/Sprite"),i=w(r),s=g("../math"),p=g("../utils"),l=g("../const"),c=g("../display/Bounds"),m=w(c),_=g("./utils/bezierCurveTo"),x=w(_),T=g("../renderers/canvas/CanvasRenderer"),y=w(T);function w(R){return R&&R.__esModule?R:{default:R}}function b(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function S(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function E(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var O=void 0,P=new s.Matrix,C=new s.Point,A=new Float32Array(4),B=new Float32Array(4),I=function(R){E(D,R);function D(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;b(this,D);var F=S(this,R.call(this));return F.fillAlpha=1,F.lineWidth=0,F.nativeLines=L,F.lineColor=0,F.lineAlignment=.5,F.graphicsData=[],F.tint=16777215,F._prevTint=16777215,F.blendMode=l.BLEND_MODES.NORMAL,F.currentPath=null,F._webGL={},F.isMask=!1,F.boundsPadding=0,F._localBounds=new m.default,F.dirty=0,F.fastRectDirty=-1,F.clearDirty=0,F.boundsDirty=-1,F.cachedSpriteDirty=!1,F._spriteRect=null,F._fastRect=!1,F._prevRectTint=null,F._prevRectFillColor=null,F}return D.prototype.clone=function(){var F=new D;F.renderable=this.renderable,F.fillAlpha=this.fillAlpha,F.lineWidth=this.lineWidth,F.lineColor=this.lineColor,F.lineAlignment=this.lineAlignment,F.tint=this.tint,F.blendMode=this.blendMode,F.isMask=this.isMask,F.boundsPadding=this.boundsPadding,F.dirty=0,F.cachedSpriteDirty=this.cachedSpriteDirty;for(var N=0;N<this.graphicsData.length;++N)F.graphicsData.push(this.graphicsData[N].clone());return F.currentPath=F.graphicsData[F.graphicsData.length-1],F.updateLocalBounds(),F},D.prototype._quadraticCurveLength=function(F,N,U,k,G,W){var K=F-(2*U+G),q=N-(2*k+W),Q=2*((U-2)*F),J=2*((k-2)*N),V=4*(K*K+q*q),Z=4*(K*Q+q*J),$=Q*Q+J*J,it=2*Math.sqrt(V+Z+$),nt=Math.sqrt(V),at=2*V*nt,st=2*Math.sqrt($),rt=Z/nt;return(at*it+nt*Z*(it-st)+(4*$*V-Z*Z)*Math.log((2*nt+rt+it)/(rt+st)))/(4*at)},D.prototype._bezierCurveLength=function(F,N,U,k,G,W,K,q){for(var Q=10,J=0,V=0,Z=0,$=0,it=0,nt=0,at=0,st=0,rt=0,tt=0,ut=0,ft=F,_t=N,vt=1;vt<=Q;++vt)V=vt/Q,Z=V*V,$=Z*V,it=1-V,nt=it*it,at=nt*it,st=at*F+3*nt*V*U+3*it*Z*G+$*K,rt=at*N+3*nt*V*k+3*it*Z*W+$*q,tt=ft-st,ut=_t-rt,ft=st,_t=rt,J+=Math.sqrt(tt*tt+ut*ut);return J},D.prototype._segmentsCount=function(F){var N=Math.ceil(F/D.CURVES.maxLength);return N<D.CURVES.minSegments?N=D.CURVES.minSegments:N>D.CURVES.maxSegments&&(N=D.CURVES.maxSegments),N},D.prototype.lineStyle=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;if(this.lineWidth=F,this.lineColor=N,this.lineAlpha=U,this.lineAlignment=k,this.currentPath)if(this.currentPath.shape.points.length){var G=new s.Polygon(this.currentPath.shape.points.slice(-2));G.closed=!1,this.drawShape(G)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},D.prototype.moveTo=function(F,N){var U=new s.Polygon([F,N]);return U.closed=!1,this.drawShape(U),this},D.prototype.lineTo=function(F,N){var U=this.currentPath.shape.points,k=U[U.length-2],G=U[U.length-1];return(k!==F||G!==N)&&(U.push(F,N),this.dirty++),this},D.prototype.quadraticCurveTo=function(F,N,U,k){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var G=this.currentPath.shape.points,W=0,K=0;G.length===0&&this.moveTo(0,0);for(var q=G[G.length-2],Q=G[G.length-1],J=D.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(q,Q,F,N,U,k)):20,V=1;V<=J;++V){var Z=V/J;W=q+(F-q)*Z,K=Q+(N-Q)*Z,G.push(W+(F+(U-F)*Z-W)*Z,K+(N+(k-N)*Z-K)*Z)}return this.dirty++,this},D.prototype.bezierCurveTo=function(F,N,U,k,G,W){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var K=this.currentPath.shape.points,q=K[K.length-2],Q=K[K.length-1];K.length-=2;var J=D.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(q,Q,F,N,U,k,G,W)):20;return(0,x.default)(q,Q,F,N,U,k,G,W,J,K),this.dirty++,this},D.prototype.arcTo=function(F,N,U,k,G){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(F,N):this.moveTo(F,N);var W=this.currentPath.shape.points,K=W[W.length-2],q=W[W.length-1],Q=q-N,J=K-F,V=k-N,Z=U-F,$=Math.abs(Q*Z-J*V);if($<1e-8||G===0)(W[W.length-2]!==F||W[W.length-1]!==N)&&W.push(F,N);else{var it=Q*Q+J*J,nt=V*V+Z*Z,at=Q*V+J*Z,st=G*Math.sqrt(it)/$,rt=G*Math.sqrt(nt)/$,tt=st*at/it,ut=rt*at/nt,ft=st*Z+rt*J,_t=st*V+rt*Q,vt=J*(rt+tt),Ct=Q*(rt+tt),He=Z*(st+ut),St=V*(st+ut),Ce=Math.atan2(Ct-_t,vt-ft),dr=Math.atan2(St-_t,He-ft);this.arc(ft+F,_t+N,G,Ce,dr,J*V>Z*Q)}return this.dirty++,this},D.prototype.arc=function(F,N,U,k,G){var W=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(k===G)return this;!W&&G<=k?G+=l.PI_2:W&&k<=G&&(k+=l.PI_2);var K=G-k,q=D.CURVES.adaptive?this._segmentsCount(Math.abs(K)*U):Math.ceil(Math.abs(K)/l.PI_2)*40;if(K===0)return this;var Q=F+Math.cos(k)*U,J=N+Math.sin(k)*U,V=this.currentPath?this.currentPath.shape.points:null;if(V){var Z=Math.abs(V[V.length-2]-Q),$=Math.abs(V[V.length-1]-J);Z<.001&&$<.001||V.push(Q,J)}else this.moveTo(Q,J),V=this.currentPath.shape.points;for(var it=K/(q*2),nt=it*2,at=Math.cos(it),st=Math.sin(it),rt=q-1,tt=rt%1/rt,ut=0;ut<=rt;++ut){var ft=ut+tt*ut,_t=it+k+nt*ft,vt=Math.cos(_t),Ct=-Math.sin(_t);V.push((at*vt+st*Ct)*U+F,(at*-Ct+st*vt)*U+N)}return this.dirty++,this},D.prototype.beginFill=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.filling=!0,this.fillColor=F,this.fillAlpha=N,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},D.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},D.prototype.drawRect=function(F,N,U,k){return this.drawShape(new s.Rectangle(F,N,U,k)),this},D.prototype.drawRoundedRect=function(F,N,U,k,G){return this.drawShape(new s.RoundedRectangle(F,N,U,k,G)),this},D.prototype.drawCircle=function(F,N,U){return this.drawShape(new s.Circle(F,N,U)),this},D.prototype.drawEllipse=function(F,N,U,k){return this.drawShape(new s.Ellipse(F,N,U,k)),this},D.prototype.drawPolygon=function(F){var N=F,U=!0;if(N instanceof s.Polygon&&(U=N.closed,N=N.points),!Array.isArray(N)){N=new Array(arguments.length);for(var k=0;k<N.length;++k)N[k]=arguments[k]}var G=new s.Polygon(N);return G.closed=U,this.drawShape(G),this},D.prototype.drawStar=function(F,N,U,k,G){var W=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;G=G||k/2;for(var K=-1*Math.PI/2+W,q=U*2,Q=l.PI_2/q,J=[],V=0;V<q;V++){var Z=V%2?G:k,$=V*Q+K;J.push(F+Z*Math.cos($),N+Z*Math.sin($))}return this.drawPolygon(J)},D.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},D.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},D.prototype._renderWebGL=function(F){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(F):(F.setObjectRenderer(F.plugins.graphics),F.plugins.graphics.render(this))},D.prototype._renderSpriteRect=function(F){var N=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new i.default(new v.default(v.default.WHITE)));var U=this._spriteRect,k=this.graphicsData[0].fillColor;if(this.tint===16777215)U.tint=k;else if(this.tint!==this._prevRectTint||k!==this._prevRectFillColor){var G=A,W=B;(0,p.hex2rgb)(k,G),(0,p.hex2rgb)(this.tint,W),G[0]*=W[0],G[1]*=W[1],G[2]*=W[2],U.tint=(0,p.rgb2hex)(G),this._prevRectTint=this.tint,this._prevRectFillColor=k}U.alpha=this.graphicsData[0].fillAlpha,U.worldAlpha=this.worldAlpha*U.alpha,U.blendMode=this.blendMode,U._texture._frame.width=N.width,U._texture._frame.height=N.height,U.transform.worldTransform=this.transform.worldTransform,U.anchor.set(-N.x/N.width,-N.y/N.height),U._onAnchorUpdate(),U._renderWebGL(F)},D.prototype._renderCanvas=function(F){this.isMask!==!0&&F.plugins.graphics.render(this)},D.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var F=this._localBounds;this._bounds.addFrame(this.transform,F.minX,F.minY,F.maxX,F.maxY)},D.prototype.containsPoint=function(F){this.worldTransform.applyInverse(F,C);for(var N=this.graphicsData,U=0;U<N.length;++U){var k=N[U];if(k.fill&&k.shape&&k.shape.contains(C.x,C.y)){if(k.holes)for(var G=0;G<k.holes.length;G++){var W=k.holes[G];if(W.contains(C.x,C.y))return!1}return!0}}return!1},D.prototype.updateLocalBounds=function(){var F=1/0,N=-1/0,U=1/0,k=-1/0;if(this.graphicsData.length)for(var G=0,W=0,K=0,q=0,Q=0,J=0;J<this.graphicsData.length;J++){var V=this.graphicsData[J],Z=V.type,$=V.lineWidth;if(G=V.shape,Z===l.SHAPES.RECT||Z===l.SHAPES.RREC)W=G.x-$/2,K=G.y-$/2,q=G.width+$,Q=G.height+$,F=W<F?W:F,N=W+q>N?W+q:N,U=K<U?K:U,k=K+Q>k?K+Q:k;else if(Z===l.SHAPES.CIRC)W=G.x,K=G.y,q=G.radius+$/2,Q=G.radius+$/2,F=W-q<F?W-q:F,N=W+q>N?W+q:N,U=K-Q<U?K-Q:U,k=K+Q>k?K+Q:k;else if(Z===l.SHAPES.ELIP)W=G.x,K=G.y,q=G.width+$/2,Q=G.height+$/2,F=W-q<F?W-q:F,N=W+q>N?W+q:N,U=K-Q<U?K-Q:U,k=K+Q>k?K+Q:k;else for(var it=G.points,nt=0,at=0,st=0,rt=0,tt=0,ut=0,ft=0,_t=0,vt=0;vt+2<it.length;vt+=2)W=it[vt],K=it[vt+1],nt=it[vt+2],at=it[vt+3],st=Math.abs(nt-W),rt=Math.abs(at-K),Q=$,q=Math.sqrt(st*st+rt*rt),!(q<1e-9)&&(tt=(Q/q*rt+st)/2,ut=(Q/q*st+rt)/2,ft=(nt+W)/2,_t=(at+K)/2,F=ft-tt<F?ft-tt:F,N=ft+tt>N?ft+tt:N,U=_t-ut<U?_t-ut:U,k=_t+ut>k?_t+ut:k)}else F=0,N=0,U=0,k=0;var Ct=this.boundsPadding;this._localBounds.minX=F-Ct,this._localBounds.maxX=N+Ct,this._localBounds.minY=U-Ct,this._localBounds.maxY=k+Ct},D.prototype.drawShape=function(F){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var N=new u.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,F,this.lineAlignment);return this.graphicsData.push(N),N.type===l.SHAPES.POLY&&(N.shape.closed=N.shape.closed,this.currentPath=N),this.dirty++,N},D.prototype.generateCanvasTexture=function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,U=this.getLocalBounds(),k=o.default.create(U.width,U.height,F,N);O||(O=new y.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(P),P.invert(),P.tx-=U.x,P.ty-=U.y,O.render(this,k,!0,P);var G=v.default.fromCanvas(k.baseTexture._canvasRenderTarget.canvas,F,"graphics");return G.baseTexture.resolution=N,G.baseTexture.update(),G},D.prototype.closePath=function(){var F=this.currentPath;return F&&F.shape&&F.shape.close(),this},D.prototype.addHole=function(){var F=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(F.shape),this.currentPath=null,this},D.prototype.destroy=function(F){R.prototype.destroy.call(this,F);for(var N=0;N<this.graphicsData.length;++N)this.graphicsData[N].destroy();for(var U in this._webGL)for(var k=0;k<this._webGL[U].data.length;++k)this._webGL[U].data[k].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},D}(n.default);t.default=I,I._SPRITE_TEXTURE=null,I.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o,d,v,h,u,r,i,s,p){a(this,f),this.lineWidth=o,this.lineAlignment=p,this.nativeLines=i,this.lineColor=d,this.lineAlpha=v,this._lineTint=d,this.fillColor=h,this.fillAlpha=u,this._fillTint=h,this.fill=r,this.holes=[],this.shape=s,this.type=s.type}return f.prototype.clone=function(){return new f(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},f.prototype.addHole=function(d){this.holes.push(d)},f.prototype.destroy=function(){this.shape=null,this.holes=null},f}();t.default=n},{}],55:[function(g,e,t){t.__esModule=!0;var a=g("../../renderers/canvas/CanvasRenderer"),n=o(a),f=g("../../const");function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(u){d(this,h),this.renderer=u}return h.prototype.render=function(r){var i=this.renderer,s=i.context,p=r.worldAlpha,l=r.transform.worldTransform,c=i.resolution;s.setTransform(l.a*c,l.b*c,l.c*c,l.d*c,l.tx*c,l.ty*c),(r.canvasTintDirty!==r.dirty||r._prevTint!==r.tint)&&this.updateGraphicsTint(r),i.setBlendMode(r.blendMode);for(var m=0;m<r.graphicsData.length;m++){var _=r.graphicsData[m],x=_.shape,T=_._fillTint,y=_._lineTint;if(s.lineWidth=_.lineWidth,_.type===f.SHAPES.POLY){s.beginPath(),this.renderPolygon(x.points,x.closed,s);for(var w=0;w<_.holes.length;w++)this.renderPolygon(_.holes[w].points,!0,s);_.fill&&(s.globalAlpha=_.fillAlpha*p,s.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),s.fill()),_.lineWidth&&(s.globalAlpha=_.lineAlpha*p,s.strokeStyle="#"+("00000"+(y|0).toString(16)).substr(-6),s.stroke())}else if(_.type===f.SHAPES.RECT)(_.fillColor||_.fillColor===0)&&(s.globalAlpha=_.fillAlpha*p,s.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),s.fillRect(x.x,x.y,x.width,x.height)),_.lineWidth&&(s.globalAlpha=_.lineAlpha*p,s.strokeStyle="#"+("00000"+(y|0).toString(16)).substr(-6),s.strokeRect(x.x,x.y,x.width,x.height));else if(_.type===f.SHAPES.CIRC)s.beginPath(),s.arc(x.x,x.y,x.radius,0,2*Math.PI),s.closePath(),_.fill&&(s.globalAlpha=_.fillAlpha*p,s.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),s.fill()),_.lineWidth&&(s.globalAlpha=_.lineAlpha*p,s.strokeStyle="#"+("00000"+(y|0).toString(16)).substr(-6),s.stroke());else if(_.type===f.SHAPES.ELIP){var b=x.width*2,S=x.height*2,E=x.x-b/2,O=x.y-S/2;s.beginPath();var P=.5522848,C=b/2*P,A=S/2*P,B=E+b,I=O+S,R=E+b/2,D=O+S/2;s.moveTo(E,D),s.bezierCurveTo(E,D-A,R-C,O,R,O),s.bezierCurveTo(R+C,O,B,D-A,B,D),s.bezierCurveTo(B,D+A,R+C,I,R,I),s.bezierCurveTo(R-C,I,E,D+A,E,D),s.closePath(),_.fill&&(s.globalAlpha=_.fillAlpha*p,s.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),s.fill()),_.lineWidth&&(s.globalAlpha=_.lineAlpha*p,s.strokeStyle="#"+("00000"+(y|0).toString(16)).substr(-6),s.stroke())}else if(_.type===f.SHAPES.RREC){var L=x.x,F=x.y,N=x.width,U=x.height,k=x.radius,G=Math.min(N,U)/2|0;k=k>G?G:k,s.beginPath(),s.moveTo(L,F+k),s.lineTo(L,F+U-k),s.quadraticCurveTo(L,F+U,L+k,F+U),s.lineTo(L+N-k,F+U),s.quadraticCurveTo(L+N,F+U,L+N,F+U-k),s.lineTo(L+N,F+k),s.quadraticCurveTo(L+N,F,L+N-k,F),s.lineTo(L+k,F),s.quadraticCurveTo(L,F,L,F+k),s.closePath(),(_.fillColor||_.fillColor===0)&&(s.globalAlpha=_.fillAlpha*p,s.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),s.fill()),_.lineWidth&&(s.globalAlpha=_.lineAlpha*p,s.strokeStyle="#"+("00000"+(y|0).toString(16)).substr(-6),s.stroke())}}},h.prototype.updateGraphicsTint=function(r){r._prevTint=r.tint,r.canvasTintDirty=r.dirty;for(var i=(r.tint>>16&255)/255,s=(r.tint>>8&255)/255,p=(r.tint&255)/255,l=0;l<r.graphicsData.length;++l){var c=r.graphicsData[l],m=c.fillColor|0,_=c.lineColor|0;c._fillTint=((m>>16&255)/255*i*255<<16)+((m>>8&255)/255*s*255<<8)+(m&255)/255*p*255,c._lineTint=((_>>16&255)/255*i*255<<16)+((_>>8&255)/255*s*255<<8)+(_&255)/255*p*255}},h.prototype.renderPolygon=function(r,i,s){s.moveTo(r[0],r[1]);for(var p=1;p<r.length/2;++p)s.lineTo(r[p*2],r[p*2+1]);i&&s.closePath()},h.prototype.destroy=function(){this.renderer=null},h}();t.default=v,n.default.registerPlugin("graphics",v)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(g,e,t){t.__esModule=!0,t.default=a;function a(n,f,o,d,v,h,u,r,i){var s=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],p=0,l=0,c=0,m=0,_=0;s.push(n,f);for(var x=1,T=0;x<=i;++x)T=x/i,p=1-T,l=p*p,c=l*p,m=T*T,_=m*T,s.push(c*n+3*l*T*o+3*p*m*v+_*u,c*f+3*l*T*d+3*p*m*h+_*r);return s}},{}],57:[function(g,e,t){t.__esModule=!0;var a=g("../../utils"),n=g("../../const"),f=g("../../renderers/webgl/utils/ObjectRenderer"),o=y(f),d=g("../../renderers/webgl/WebGLRenderer"),v=y(d),h=g("./WebGLGraphicsData"),u=y(h),r=g("./shaders/PrimitiveShader"),i=y(r),s=g("./utils/buildPoly"),p=y(s),l=g("./utils/buildRectangle"),c=y(l),m=g("./utils/buildRoundedRectangle"),_=y(m),x=g("./utils/buildCircle"),T=y(x);function y(O){return O&&O.__esModule?O:{default:O}}function w(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function b(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function S(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var E=function(O){S(P,O);function P(C){w(this,P);var A=b(this,O.call(this,C));return A.graphicsDataPool=[],A.primitiveShader=null,A.gl=C.gl,A.CONTEXT_UID=0,A}return P.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new i.default(this.gl)},P.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var A=0;A<this.graphicsDataPool.length;++A)this.graphicsDataPool[A].destroy();this.graphicsDataPool=null},P.prototype.render=function(A){var B=this.renderer,I=B.gl,R=void 0,D=A._webGL[this.CONTEXT_UID];(!D||A.dirty!==D.dirty)&&(this.updateGraphics(A),D=A._webGL[this.CONTEXT_UID]);var L=this.primitiveShader;B.bindShader(L),B.state.setBlendMode(A.blendMode);for(var F=0,N=D.data.length;F<N;F++){R=D.data[F];var U=R.shader;B.bindShader(U),U.uniforms.translationMatrix=A.transform.worldTransform.toArray(!0),U.uniforms.tint=(0,a.hex2rgb)(A.tint),U.uniforms.alpha=A.worldAlpha,B.bindVao(R.vao),R.nativeLines?I.drawArrays(I.LINES,0,R.points.length/6):R.vao.draw(I.TRIANGLE_STRIP,R.indices.length)}},P.prototype.updateGraphics=function(A){var B=this.renderer.gl,I=A._webGL[this.CONTEXT_UID];if(I||(I=A._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:B,clearDirty:-1,dirty:-1}),I.dirty=A.dirty,A.clearDirty!==I.clearDirty){I.clearDirty=A.clearDirty;for(var R=0;R<I.data.length;R++)this.graphicsDataPool.push(I.data[R]);I.data.length=0,I.lastIndex=0}for(var D=void 0,L=void 0,F=I.lastIndex;F<A.graphicsData.length;F++){var N=A.graphicsData[F];D=this.getWebGLData(I,0),N.nativeLines&&N.lineWidth&&(L=this.getWebGLData(I,0,!0),I.lastIndex++),N.type===n.SHAPES.POLY&&(0,p.default)(N,D,L),N.type===n.SHAPES.RECT?(0,c.default)(N,D,L):N.type===n.SHAPES.CIRC||N.type===n.SHAPES.ELIP?(0,T.default)(N,D,L):N.type===n.SHAPES.RREC&&(0,_.default)(N,D,L),I.lastIndex++}this.renderer.bindVao(null);for(var U=0;U<I.data.length;U++)D=I.data[U],D.dirty&&D.upload()},P.prototype.getWebGLData=function(A,B,I){var R=A.data[A.data.length-1];return(!R||R.nativeLines!==I||R.points.length>32e4)&&(R=this.graphicsDataPool.pop()||new u.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),R.nativeLines=I,R.reset(B),A.data.push(R)),R.dirty=!0,R},P}(o.default);t.default=E,v.default.registerPlugin("graphics",E)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(g,e,t){t.__esModule=!0;var a=g("pixi-gl-core"),n=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(h,u,r){o(this,v),this.gl=h,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=n.default.GLBuffer.createVertexBuffer(h),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(h),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=u,this.vao=new n.default.VertexArrayObject(h,r).addIndex(this.indexBuffer).addAttribute(this.buffer,u.attributes.aVertexPosition,h.FLOAT,!1,4*6,0).addAttribute(this.buffer,u.attributes.aColor,h.FLOAT,!1,4*6,2*4)}return v.prototype.reset=function(){this.points.length=0,this.indices.length=0},v.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},v.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},v}();t.default=d},{"pixi-gl-core":15}],59:[function(g,e,t){t.__esModule=!0;var a=g("../../../Shader"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(i){return o(this,r),d(this,u.call(this,i,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return r}(n.default);t.default=h},{"../../../Shader":44}],60:[function(g,e,t){t.__esModule=!0,t.default=v;var a=g("./buildLine"),n=d(a),f=g("../../../const"),o=g("../../../utils");function d(h){return h&&h.__esModule?h:{default:h}}function v(h,u,r){var i=h.shape,s=i.x,p=i.y,l=void 0,c=void 0;if(h.type===f.SHAPES.CIRC?(l=i.radius,c=i.radius):(l=i.width,c=i.height),!(l===0||c===0)){var m=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height)),_=Math.PI*2/m;if(h.fill){var x=(0,o.hex2rgb)(h.fillColor),T=h.fillAlpha,y=x[0]*T,w=x[1]*T,b=x[2]*T,S=u.points,E=u.indices,O=S.length/6;E.push(O);for(var P=0;P<m+1;P++)S.push(s,p,y,w,b,T),S.push(s+Math.sin(_*P)*l,p+Math.cos(_*P)*c,y,w,b,T),E.push(O++,O++);E.push(O-1)}if(h.lineWidth){var C=h.points;h.points=[];for(var A=0;A<m;A++)h.points.push(s+Math.sin(_*-A)*l,p+Math.cos(_*-A)*c);h.points.push(h.points[0],h.points[1]),(0,n.default)(h,u,r),h.points=C}}}},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(g,e,t){t.__esModule=!0,t.default=function(d,v,h){d.nativeLines?o(d,h):f(d,v)};var a=g("../../../math"),n=g("../../../utils");function f(d,v){var h=d.points;if(h.length!==0){var u=new a.Point(h[0],h[1]),r=new a.Point(h[h.length-2],h[h.length-1]);if(u.x===r.x&&u.y===r.y){h=h.slice(),h.pop(),h.pop(),r=new a.Point(h[h.length-2],h[h.length-1]);var i=r.x+(u.x-r.x)*.5,s=r.y+(u.y-r.y)*.5;h.unshift(i,s),h.push(i,s)}var p=v.points,l=v.indices,c=h.length/2,m=h.length,_=p.length/6,x=d.lineWidth/2,T=(0,n.hex2rgb)(d.lineColor),y=d.lineAlpha,w=T[0]*y,b=T[1]*y,S=T[2]*y,E=h[0],O=h[1],P=h[2],C=h[3],A=0,B=0,I=-(O-C),R=E-P,D=0,L=0,F=0,N=0,U=Math.sqrt(I*I+R*R);I/=U,R/=U,I*=x,R*=x;var k=d.lineAlignment,G=(1-k)*2,W=k*2;p.push(E-I*G,O-R*G,w,b,S,y),p.push(E+I*W,O+R*W,w,b,S,y);for(var K=1;K<c-1;++K){E=h[(K-1)*2],O=h[(K-1)*2+1],P=h[K*2],C=h[K*2+1],A=h[(K+1)*2],B=h[(K+1)*2+1],I=-(O-C),R=E-P,U=Math.sqrt(I*I+R*R),I/=U,R/=U,I*=x,R*=x,D=-(C-B),L=P-A,U=Math.sqrt(D*D+L*L),D/=U,L/=U,D*=x,L*=x;var q=-R+O-(-R+C),Q=-I+P-(-I+E),J=(-I+E)*(-R+C)-(-I+P)*(-R+O),V=-L+B-(-L+C),Z=-D+P-(-D+A),$=(-D+A)*(-L+C)-(-D+P)*(-L+B),it=q*Z-V*Q;if(Math.abs(it)<.1){it+=10.1,p.push(P-I*G,C-R*G,w,b,S,y),p.push(P+I*W,C+R*W,w,b,S,y);continue}var nt=(Q*$-Z*J)/it,at=(V*J-q*$)/it,st=(nt-P)*(nt-P)+(at-C)*(at-C);st>196*x*x?(F=I-D,N=R-L,U=Math.sqrt(F*F+N*N),F/=U,N/=U,F*=x,N*=x,p.push(P-F*G,C-N*G),p.push(w,b,S,y),p.push(P+F*W,C+N*W),p.push(w,b,S,y),p.push(P-F*W*G,C-N*G),p.push(w,b,S,y),m++):(p.push(P+(nt-P)*G,C+(at-C)*G),p.push(w,b,S,y),p.push(P-(nt-P)*W,C-(at-C)*W),p.push(w,b,S,y))}E=h[(c-2)*2],O=h[(c-2)*2+1],P=h[(c-1)*2],C=h[(c-1)*2+1],I=-(O-C),R=E-P,U=Math.sqrt(I*I+R*R),I/=U,R/=U,I*=x,R*=x,p.push(P-I*G,C-R*G),p.push(w,b,S,y),p.push(P+I*W,C+R*W),p.push(w,b,S,y),l.push(_);for(var rt=0;rt<m;++rt)l.push(_++);l.push(_-1)}}function o(d,v){var h=0,u=d.points;if(u.length!==0){var r=v.points,i=u.length/2,s=(0,n.hex2rgb)(d.lineColor),p=d.lineAlpha,l=s[0]*p,c=s[1]*p,m=s[2]*p;for(h=1;h<i;h++){var _=u[(h-1)*2],x=u[(h-1)*2+1],T=u[h*2],y=u[h*2+1];r.push(_,x),r.push(l,c,m,p),r.push(T,y),r.push(l,c,m,p)}}}},{"../../../math":70,"../../../utils":125}],62:[function(g,e,t){t.__esModule=!0,t.default=h;var a=g("./buildLine"),n=v(a),f=g("../../../utils"),o=g("earcut"),d=v(o);function v(u){return u&&u.__esModule?u:{default:u}}function h(u,r,i){u.points=u.shape.points.slice();var s=u.points;if(u.fill&&s.length>=6){for(var p=[],l=u.holes,c=0;c<l.length;c++){var m=l[c];p.push(s.length/2),s=s.concat(m.points)}var _=r.points,x=r.indices,T=s.length/2,y=(0,f.hex2rgb)(u.fillColor),w=u.fillAlpha,b=y[0]*w,S=y[1]*w,E=y[2]*w,O=(0,d.default)(s,p,2);if(!O)return;for(var P=_.length/6,C=0;C<O.length;C+=3)x.push(O[C]+P),x.push(O[C]+P),x.push(O[C+1]+P),x.push(O[C+2]+P),x.push(O[C+2]+P);for(var A=0;A<T;A++)_.push(s[A*2],s[A*2+1],b,S,E,w)}u.lineWidth>0&&(0,n.default)(u,r,i)}},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("./buildLine"),n=o(a),f=g("../../../utils");function o(v){return v&&v.__esModule?v:{default:v}}function d(v,h,u){var r=v.shape,i=r.x,s=r.y,p=r.width,l=r.height;if(v.fill){var c=(0,f.hex2rgb)(v.fillColor),m=v.fillAlpha,_=c[0]*m,x=c[1]*m,T=c[2]*m,y=h.points,w=h.indices,b=y.length/6;y.push(i,s),y.push(_,x,T,m),y.push(i+p,s),y.push(_,x,T,m),y.push(i,s+l),y.push(_,x,T,m),y.push(i+p,s+l),y.push(_,x,T,m),w.push(b,b,b+1,b+2,b+3,b+3)}if(v.lineWidth){var S=v.points;v.points=[i,s,i+p,s,i+p,s+l,i,s+l,i,s],(0,n.default)(v,h,u),v.points=S}}},{"../../../utils":125,"./buildLine":61}],64:[function(g,e,t){t.__esModule=!0,t.default=h;var a=g("earcut"),n=v(a),f=g("./buildLine"),o=v(f),d=g("../../../utils");function v(i){return i&&i.__esModule?i:{default:i}}function h(i,s,p){var l=i.shape,c=l.x,m=l.y,_=l.width,x=l.height,T=l.radius,y=[];if(y.push(c,m+T),r(c,m+x-T,c,m+x,c+T,m+x,y),r(c+_-T,m+x,c+_,m+x,c+_,m+x-T,y),r(c+_,m+T,c+_,m,c+_-T,m,y),r(c+T,m,c,m,c,m+T+1e-10,y),i.fill){for(var w=(0,d.hex2rgb)(i.fillColor),b=i.fillAlpha,S=w[0]*b,E=w[1]*b,O=w[2]*b,P=s.points,C=s.indices,A=P.length/6,B=(0,n.default)(y,null,2),I=0,R=B.length;I<R;I+=3)C.push(B[I]+A),C.push(B[I]+A),C.push(B[I+1]+A),C.push(B[I+2]+A),C.push(B[I+2]+A);for(var D=0,L=y.length;D<L;D++)P.push(y[D],y[++D],S,E,O,b)}if(i.lineWidth){var F=i.points;i.points=y,(0,o.default)(i,s,p),i.points=F}}function u(i,s,p){var l=s-i;return i+l*p}function r(i,s,p,l,c,m){for(var _=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],x=20,T=_,y=0,w=0,b=0,S=0,E=0,O=0,P=0,C=0;P<=x;++P)C=P/x,y=u(i,p,C),w=u(s,l,C),b=u(p,c,C),S=u(l,m,C),E=u(y,b,C),O=u(w,S,C),T.push(E,O);return T}},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(g,e,t){t.__esModule=!0,t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var a=g("./const");Object.keys(a).forEach(function(tt){tt==="default"||tt==="__esModule"||Object.defineProperty(t,tt,{enumerable:!0,get:function(){return a[tt]}})});var n=g("./math");Object.keys(n).forEach(function(tt){tt==="default"||tt==="__esModule"||Object.defineProperty(t,tt,{enumerable:!0,get:function(){return n[tt]}})});var f=g("pixi-gl-core");Object.defineProperty(t,"glCore",{enumerable:!0,get:function(){return rt(f).default}});var o=g("./display/Bounds");Object.defineProperty(t,"Bounds",{enumerable:!0,get:function(){return rt(o).default}});var d=g("./display/DisplayObject");Object.defineProperty(t,"DisplayObject",{enumerable:!0,get:function(){return rt(d).default}});var v=g("./display/Container");Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return rt(v).default}});var h=g("./display/Transform");Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return rt(h).default}});var u=g("./display/TransformStatic");Object.defineProperty(t,"TransformStatic",{enumerable:!0,get:function(){return rt(u).default}});var r=g("./display/TransformBase");Object.defineProperty(t,"TransformBase",{enumerable:!0,get:function(){return rt(r).default}});var i=g("./sprites/Sprite");Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return rt(i).default}});var s=g("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return rt(s).default}});var p=g("./sprites/canvas/CanvasTinter");Object.defineProperty(t,"CanvasTinter",{enumerable:!0,get:function(){return rt(p).default}});var l=g("./sprites/webgl/SpriteRenderer");Object.defineProperty(t,"SpriteRenderer",{enumerable:!0,get:function(){return rt(l).default}});var c=g("./text/Text");Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return rt(c).default}});var m=g("./text/TextStyle");Object.defineProperty(t,"TextStyle",{enumerable:!0,get:function(){return rt(m).default}});var _=g("./text/TextMetrics");Object.defineProperty(t,"TextMetrics",{enumerable:!0,get:function(){return rt(_).default}});var x=g("./graphics/Graphics");Object.defineProperty(t,"Graphics",{enumerable:!0,get:function(){return rt(x).default}});var T=g("./graphics/GraphicsData");Object.defineProperty(t,"GraphicsData",{enumerable:!0,get:function(){return rt(T).default}});var y=g("./graphics/webgl/GraphicsRenderer");Object.defineProperty(t,"GraphicsRenderer",{enumerable:!0,get:function(){return rt(y).default}});var w=g("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(t,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return rt(w).default}});var b=g("./textures/Spritesheet");Object.defineProperty(t,"Spritesheet",{enumerable:!0,get:function(){return rt(b).default}});var S=g("./textures/Texture");Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return rt(S).default}});var E=g("./textures/TextureMatrix");Object.defineProperty(t,"TextureMatrix",{enumerable:!0,get:function(){return rt(E).default}});var O=g("./textures/BaseTexture");Object.defineProperty(t,"BaseTexture",{enumerable:!0,get:function(){return rt(O).default}});var P=g("./textures/RenderTexture");Object.defineProperty(t,"RenderTexture",{enumerable:!0,get:function(){return rt(P).default}});var C=g("./textures/BaseRenderTexture");Object.defineProperty(t,"BaseRenderTexture",{enumerable:!0,get:function(){return rt(C).default}});var A=g("./textures/VideoBaseTexture");Object.defineProperty(t,"VideoBaseTexture",{enumerable:!0,get:function(){return rt(A).default}});var B=g("./textures/TextureUvs");Object.defineProperty(t,"TextureUvs",{enumerable:!0,get:function(){return rt(B).default}});var I=g("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(t,"CanvasRenderTarget",{enumerable:!0,get:function(){return rt(I).default}});var R=g("./Shader");Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return rt(R).default}});var D=g("./renderers/webgl/managers/WebGLManager");Object.defineProperty(t,"WebGLManager",{enumerable:!0,get:function(){return rt(D).default}});var L=g("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(t,"ObjectRenderer",{enumerable:!0,get:function(){return rt(L).default}});var F=g("./renderers/webgl/utils/RenderTarget");Object.defineProperty(t,"RenderTarget",{enumerable:!0,get:function(){return rt(F).default}});var N=g("./renderers/webgl/utils/Quad");Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return rt(N).default}});var U=g("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(t,"SpriteMaskFilter",{enumerable:!0,get:function(){return rt(U).default}});var k=g("./renderers/webgl/filters/Filter");Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return rt(k).default}});var G=g("./Application");Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return rt(G).default}});var W=g("./autoDetectRenderer");Object.defineProperty(t,"autoDetectRenderer",{enumerable:!0,get:function(){return W.autoDetectRenderer}});var K=g("./utils"),q=st(K),Q=g("./ticker"),J=st(Q),V=g("./settings"),Z=rt(V),$=g("./renderers/canvas/CanvasRenderer"),it=rt($),nt=g("./renderers/webgl/WebGLRenderer"),at=rt(nt);function st(tt){if(tt&&tt.__esModule)return tt;var ut={};if(tt!=null)for(var ft in tt)Object.prototype.hasOwnProperty.call(tt,ft)&&(ut[ft]=tt[ft]);return ut.default=tt,ut}function rt(tt){return tt&&tt.__esModule?tt:{default:tt}}t.settings=Z.default,t.utils=q,t.ticker=J,t.CanvasRenderer=it.default,t.WebGLRenderer=at.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(g,e,t){t.__esModule=!0;var a=g("./Matrix"),n=f(a);function f(l){return l&&l.__esModule?l:{default:l}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],v=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],r=[];function i(l){return l<0?-1:l>0?1:0}function s(){for(var l=0;l<16;l++){var c=[];r.push(c);for(var m=0;m<16;m++)for(var _=i(o[l]*o[m]+v[l]*d[m]),x=i(d[l]*o[m]+h[l]*d[m]),T=i(o[l]*v[m]+v[l]*h[m]),y=i(d[l]*v[m]+h[l]*h[m]),w=0;w<16;w++)if(o[w]===_&&d[w]===x&&v[w]===T&&h[w]===y){c.push(w);break}}for(var b=0;b<16;b++){var S=new n.default;S.set(o[b],d[b],v[b],h[b],0,0),u.push(S)}}s();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(c){return o[c]},uY:function(c){return d[c]},vX:function(c){return v[c]},vY:function(c){return h[c]},inv:function(c){return c&8?c&15:-c&7},add:function(c,m){return r[c][m]},sub:function(c,m){return r[c][p.inv(m)]},rotate180:function(c){return c^4},isVertical:function(c){return(c&3)===2},byDirection:function(c,m){return Math.abs(c)*2<=Math.abs(m)?m>=0?p.S:p.N:Math.abs(m)*2<=Math.abs(c)?c>0?p.E:p.W:m>0?c>0?p.SE:p.SW:c>0?p.NE:p.NW},matrixAppendRotationInv:function(c,m){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=u[p.inv(m)];T.tx=_,T.ty=x,c.append(T)}};t.default=p},{"./Matrix":67}],67:[function(g,e,t){t.__esModule=!0;var a=function(){function u(r,i){for(var s=0;s<i.length;s++){var p=i[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}return function(r,i,s){return i&&u(r.prototype,i),s&&u(r,s),r}}(),n=g("./Point"),f=d(n),o=g("../const");function d(u){return u&&u.__esModule?u:{default:u}}function v(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var h=function(){function u(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;v(this,u),this.a=r,this.b=i,this.c=s,this.d=p,this.tx=l,this.ty=c,this.array=null}return u.prototype.fromArray=function(i){this.a=i[0],this.b=i[1],this.c=i[3],this.d=i[4],this.tx=i[2],this.ty=i[5]},u.prototype.set=function(i,s,p,l,c,m){return this.a=i,this.b=s,this.c=p,this.d=l,this.tx=c,this.ty=m,this},u.prototype.toArray=function(i,s){this.array||(this.array=new Float32Array(9));var p=s||this.array;return i?(p[0]=this.a,p[1]=this.b,p[2]=0,p[3]=this.c,p[4]=this.d,p[5]=0,p[6]=this.tx,p[7]=this.ty,p[8]=1):(p[0]=this.a,p[1]=this.c,p[2]=this.tx,p[3]=this.b,p[4]=this.d,p[5]=this.ty,p[6]=0,p[7]=0,p[8]=1),p},u.prototype.apply=function(i,s){s=s||new f.default;var p=i.x,l=i.y;return s.x=this.a*p+this.c*l+this.tx,s.y=this.b*p+this.d*l+this.ty,s},u.prototype.applyInverse=function(i,s){s=s||new f.default;var p=1/(this.a*this.d+this.c*-this.b),l=i.x,c=i.y;return s.x=this.d*p*l+-this.c*p*c+(this.ty*this.c-this.tx*this.d)*p,s.y=this.a*p*c+-this.b*p*l+(-this.ty*this.a+this.tx*this.b)*p,s},u.prototype.translate=function(i,s){return this.tx+=i,this.ty+=s,this},u.prototype.scale=function(i,s){return this.a*=i,this.d*=s,this.c*=i,this.b*=s,this.tx*=i,this.ty*=s,this},u.prototype.rotate=function(i){var s=Math.cos(i),p=Math.sin(i),l=this.a,c=this.c,m=this.tx;return this.a=l*s-this.b*p,this.b=l*p+this.b*s,this.c=c*s-this.d*p,this.d=c*p+this.d*s,this.tx=m*s-this.ty*p,this.ty=m*p+this.ty*s,this},u.prototype.append=function(i){var s=this.a,p=this.b,l=this.c,c=this.d;return this.a=i.a*s+i.b*l,this.b=i.a*p+i.b*c,this.c=i.c*s+i.d*l,this.d=i.c*p+i.d*c,this.tx=i.tx*s+i.ty*l+this.tx,this.ty=i.tx*p+i.ty*c+this.ty,this},u.prototype.setTransform=function(i,s,p,l,c,m,_,x,T){return this.a=Math.cos(_+T)*c,this.b=Math.sin(_+T)*c,this.c=-Math.sin(_-x)*m,this.d=Math.cos(_-x)*m,this.tx=i-(p*this.a+l*this.c),this.ty=s-(p*this.b+l*this.d),this},u.prototype.prepend=function(i){var s=this.tx;if(i.a!==1||i.b!==0||i.c!==0||i.d!==1){var p=this.a,l=this.c;this.a=p*i.a+this.b*i.c,this.b=p*i.b+this.b*i.d,this.c=l*i.a+this.d*i.c,this.d=l*i.b+this.d*i.d}return this.tx=s*i.a+this.ty*i.c+i.tx,this.ty=s*i.b+this.ty*i.d+i.ty,this},u.prototype.decompose=function(i){var s=this.a,p=this.b,l=this.c,c=this.d,m=-Math.atan2(-l,c),_=Math.atan2(p,s),x=Math.abs(m+_);return x<1e-5||Math.abs(o.PI_2-x)<1e-5?(i.rotation=_,s<0&&c>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=m,i.skew.y=_),i.scale.x=Math.sqrt(s*s+p*p),i.scale.y=Math.sqrt(l*l+c*c),i.position.x=this.tx,i.position.y=this.ty,i},u.prototype.invert=function(){var i=this.a,s=this.b,p=this.c,l=this.d,c=this.tx,m=i*l-s*p;return this.a=l/m,this.b=-s/m,this.c=-p/m,this.d=i/m,this.tx=(p*this.ty-l*c)/m,this.ty=-(i*this.ty-s*c)/m,this},u.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},u.prototype.clone=function(){var i=new u;return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},u.prototype.copy=function(i){return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a(u,null,[{key:"IDENTITY",get:function(){return new u}},{key:"TEMP_MATRIX",get:function(){return new u}}]),u}();t.default=h},{"../const":46,"./Point":69}],68:[function(g,e,t){t.__esModule=!0;var a=function(){function o(d,v){for(var h=0;h<v.length;h++){var u=v[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,v,h){return v&&o(d.prototype,v),h&&o(d,h),d}}();function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(d,v){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;n(this,o),this._x=h,this._y=u,this.cb=d,this.scope=v}return o.prototype.clone=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=v||this.cb,r=h||this.scope;return new o(u,r,this._x,this._y)},o.prototype.set=function(v,h){var u=v||0,r=h||(h!==0?u:0);(this._x!==u||this._y!==r)&&(this._x=u,this._y=r,this.cb.call(this.scope))},o.prototype.copy=function(v){(this._x!==v.x||this._y!==v.y)&&(this._x=v.x,this._y=v.y,this.cb.call(this.scope))},o.prototype.equals=function(v){return v.x===this._x&&v.y===this._y},a(o,[{key:"x",get:function(){return this._x},set:function(v){this._x!==v&&(this._x=v,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(v){this._y!==v&&(this._y=v,this.cb.call(this.scope))}}]),o}();t.default=f},{}],69:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,f),this.x=o,this.y=d}return f.prototype.clone=function(){return new f(this.x,this.y)},f.prototype.copy=function(d){this.set(d.x,d.y)},f.prototype.equals=function(d){return d.x===this.x&&d.y===this.y},f.prototype.set=function(d,v){this.x=d||0,this.y=v||(v!==0?this.x:0)},f}();t.default=n},{}],70:[function(g,e,t){t.__esModule=!0;var a=g("./Point");Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return i(a).default}});var n=g("./ObservablePoint");Object.defineProperty(t,"ObservablePoint",{enumerable:!0,get:function(){return i(n).default}});var f=g("./Matrix");Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return i(f).default}});var o=g("./GroupD8");Object.defineProperty(t,"GroupD8",{enumerable:!0,get:function(){return i(o).default}});var d=g("./shapes/Circle");Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return i(d).default}});var v=g("./shapes/Ellipse");Object.defineProperty(t,"Ellipse",{enumerable:!0,get:function(){return i(v).default}});var h=g("./shapes/Polygon");Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return i(h).default}});var u=g("./shapes/Rectangle");Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return i(u).default}});var r=g("./shapes/RoundedRectangle");Object.defineProperty(t,"RoundedRectangle",{enumerable:!0,get:function(){return i(r).default}});function i(s){return s&&s.__esModule?s:{default:s}}},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(g,e,t){t.__esModule=!0;var a=g("./Rectangle"),n=o(a),f=g("../../const");function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;d(this,h),this.x=u,this.y=r,this.radius=i,this.type=f.SHAPES.CIRC}return h.prototype.clone=function(){return new h(this.x,this.y,this.radius)},h.prototype.contains=function(r,i){if(this.radius<=0)return!1;var s=this.radius*this.radius,p=this.x-r,l=this.y-i;return p*=p,l*=l,p+l<=s},h.prototype.getBounds=function(){return new n.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},h}();t.default=v},{"../../const":46,"./Rectangle":74}],72:[function(g,e,t){t.__esModule=!0;var a=g("./Rectangle"),n=o(a),f=g("../../const");function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;d(this,h),this.x=u,this.y=r,this.width=i,this.height=s,this.type=f.SHAPES.ELIP}return h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height)},h.prototype.contains=function(r,i){if(this.width<=0||this.height<=0)return!1;var s=(r-this.x)/this.width,p=(i-this.y)/this.height;return s*=s,p*=p,s+p<=1},h.prototype.getBounds=function(){return new n.default(this.x-this.width,this.y-this.height,this.width,this.height)},h}();t.default=v},{"../../const":46,"./Rectangle":74}],73:[function(g,e,t){t.__esModule=!0;var a=g("../Point"),n=o(a),f=g("../../const");function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(){for(var u=arguments.length,r=Array(u),i=0;i<u;i++)r[i]=arguments[i];if(d(this,h),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof n.default){for(var s=[],p=0,l=r.length;p<l;p++)s.push(r[p].x,r[p].y);r=s}this.closed=!0,this.points=r,this.type=f.SHAPES.POLY}return h.prototype.clone=function(){return new h(this.points.slice())},h.prototype.close=function(){var r=this.points;(r[0]!==r[r.length-2]||r[1]!==r[r.length-1])&&r.push(r[0],r[1])},h.prototype.contains=function(r,i){for(var s=!1,p=this.points.length/2,l=0,c=p-1;l<p;c=l++){var m=this.points[l*2],_=this.points[l*2+1],x=this.points[c*2],T=this.points[c*2+1],y=_>i!=T>i&&r<(x-m)*((i-_)/(T-_))+m;y&&(s=!s)}return s},h}();t.default=v},{"../../const":46,"../Point":69}],74:[function(g,e,t){t.__esModule=!0;var a=function(){function d(v,h){for(var u=0;u<h.length;u++){var r=h[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(v,r.key,r)}}return function(v,h,u){return h&&d(v.prototype,h),u&&d(v,u),v}}(),n=g("../../const");function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var o=function(){function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;f(this,d),this.x=Number(v),this.y=Number(h),this.width=Number(u),this.height=Number(r),this.type=n.SHAPES.RECT}return d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.copy=function(h){return this.x=h.x,this.y=h.y,this.width=h.width,this.height=h.height,this},d.prototype.contains=function(h,u){return this.width<=0||this.height<=0?!1:h>=this.x&&h<this.x+this.width&&u>=this.y&&u<this.y+this.height},d.prototype.pad=function(h,u){h=h||0,u=u||(u!==0?h:0),this.x-=h,this.y-=u,this.width+=h*2,this.height+=u*2},d.prototype.fit=function(h){this.x<h.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=h.x),this.y<h.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=h.y),this.x+this.width>h.x+h.width&&(this.width=h.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>h.y+h.height&&(this.height=h.height-this.y,this.height<0&&(this.height=0))},d.prototype.enlarge=function(h){var u=Math.min(this.x,h.x),r=Math.max(this.x+this.width,h.x+h.width),i=Math.min(this.y,h.y),s=Math.max(this.y+this.height,h.y+h.height);this.x=u,this.width=r-u,this.y=i,this.height=s-i},a(d,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new d(0,0,0,0)}}]),d}();t.default=o},{"../../const":46}],75:[function(g,e,t){t.__esModule=!0;var a=g("../../const");function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;n(this,o),this.x=d,this.y=v,this.width=h,this.height=u,this.radius=r,this.type=a.SHAPES.RREC}return o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.radius)},o.prototype.contains=function(v,h){if(this.width<=0||this.height<=0)return!1;if(v>=this.x&&v<=this.x+this.width&&h>=this.y&&h<=this.y+this.height){if(h>=this.y+this.radius&&h<=this.y+this.height-this.radius||v>=this.x+this.radius&&v<=this.x+this.width-this.radius)return!0;var u=v-(this.x+this.radius),r=h-(this.y+this.radius),i=this.radius*this.radius;if(u*u+r*r<=i||(u=v-(this.x+this.width-this.radius),u*u+r*r<=i)||(r=h-(this.y+this.height-this.radius),u*u+r*r<=i)||(u=v-(this.x+this.radius),u*u+r*r<=i))return!0}return!1},o}();t.default=f},{"../../const":46}],76:[function(g,e,t){t.__esModule=!0;var a=function(){function y(w,b){for(var S=0;S<b.length;S++){var E=b[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,S){return b&&y(w.prototype,b),S&&y(w,S),w}}(),n=g("../utils"),f=g("../math"),o=g("../const"),d=g("../settings"),v=l(d),h=g("../display/Container"),u=l(h),r=g("../textures/RenderTexture"),i=l(r),s=g("eventemitter3"),p=l(s);function l(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function m(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function _(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var x=new f.Matrix,T=function(y){_(w,y);function w(b,S,E,O){c(this,w);var P=m(this,y.call(this));return(0,n.sayHello)(b),typeof S=="number"&&(S=Object.assign({width:S,height:E||v.default.RENDER_OPTIONS.height},O)),S=Object.assign({},v.default.RENDER_OPTIONS,S),P.options=S,P.type=o.RENDERER_TYPE.UNKNOWN,P.screen=new f.Rectangle(0,0,S.width,S.height),P.view=S.view||document.createElement("canvas"),P.resolution=S.resolution||v.default.RESOLUTION,P.transparent=S.transparent,P.autoResize=S.autoResize||!1,P.blendModes=null,P.preserveDrawingBuffer=S.preserveDrawingBuffer,P.clearBeforeRender=S.clearBeforeRender,P.roundPixels=S.roundPixels,P._backgroundColor=0,P._backgroundColorRgba=[0,0,0,0],P._backgroundColorString="#000000",P.backgroundColor=S.backgroundColor||P._backgroundColor,P._tempDisplayObjectParent=new u.default,P._lastObjectRendered=P._tempDisplayObjectParent,P}return w.prototype.resize=function(S,E){this.screen.width=S,this.screen.height=E,this.view.width=S*this.resolution,this.view.height=E*this.resolution,this.autoResize&&(this.view.style.width=S+"px",this.view.style.height=E+"px")},w.prototype.generateTexture=function(S,E,O,P){P=P||S.getLocalBounds();var C=i.default.create(P.width|0,P.height|0,E,O);return x.tx=-P.x,x.ty=-P.y,this.render(S,C,!1,x,!!S.parent),C},w.prototype.destroy=function(S){S&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=o.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},a(w,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(S){this._backgroundColor=S,this._backgroundColorString=(0,n.hex2string)(S),(0,n.hex2rgb)(S,this._backgroundColorRgba)}}]),w}(p.default);t.default=T},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(g,e,t){t.__esModule=!0;var a=g("../SystemRenderer"),n=l(a),f=g("./utils/CanvasMaskManager"),o=l(f),d=g("./utils/CanvasRenderTarget"),v=l(d),h=g("./utils/mapCanvasBlendModesToPixi"),u=l(h),r=g("../../utils"),i=g("../../const"),s=g("../../settings"),p=l(s);function l(T){return T&&T.__esModule?T:{default:T}}function c(T,y){if(!(T instanceof y))throw new TypeError("Cannot call a class as a function")}function m(T,y){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:T}function _(T,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);T.prototype=Object.create(y&&y.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(T,y):T.__proto__=y)}var x=function(T){_(y,T);function y(w,b,S){c(this,y);var E=m(this,T.call(this,"Canvas",w,b,S));return E.type=i.RENDERER_TYPE.CANVAS,E.rootContext=E.view.getContext("2d",{alpha:E.transparent}),E.context=E.rootContext,E.refresh=!0,E.maskManager=new o.default(E),E.smoothProperty="imageSmoothingEnabled",E.rootContext.imageSmoothingEnabled||(E.rootContext.webkitImageSmoothingEnabled?E.smoothProperty="webkitImageSmoothingEnabled":E.rootContext.mozImageSmoothingEnabled?E.smoothProperty="mozImageSmoothingEnabled":E.rootContext.oImageSmoothingEnabled?E.smoothProperty="oImageSmoothingEnabled":E.rootContext.msImageSmoothingEnabled&&(E.smoothProperty="msImageSmoothingEnabled")),E.initPlugins(),E.blendModes=(0,u.default)(),E._activeBlendMode=null,E.renderingToScreen=!1,E.resize(E.options.width,E.options.height),E}return y.prototype.render=function(b,S,E,O,P){if(this.view){this.renderingToScreen=!S,this.emit("prerender");var C=this.resolution;S?(S=S.baseTexture||S,S._canvasRenderTarget||(S._canvasRenderTarget=new v.default(S.width,S.height,S.resolution),S.source=S._canvasRenderTarget.canvas,S.valid=!0),this.context=S._canvasRenderTarget.context,this.resolution=S._canvasRenderTarget.resolution):this.context=this.rootContext;var A=this.context;if(S||(this._lastObjectRendered=b),!P){var B=b.parent,I=this._tempDisplayObjectParent.transform.worldTransform;O?(O.copy(I),this._tempDisplayObjectParent.transform._worldID=-1):I.identity(),b.parent=this._tempDisplayObjectParent,b.updateTransform(),b.parent=B}A.save(),A.setTransform(1,0,0,1,0,0),A.globalAlpha=1,this._activeBlendMode=i.BLEND_MODES.NORMAL,A.globalCompositeOperation=this.blendModes[i.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(A.fillStyle="black",A.clear()),(E!==void 0?E:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?A.clearRect(0,0,this.width,this.height):(A.fillStyle=this._backgroundColorString,A.fillRect(0,0,this.width,this.height)));var R=this.context;this.context=A,b.renderCanvas(this),this.context=R,A.restore(),this.resolution=C,this.emit("postrender")}},y.prototype.clear=function(b){var S=this.context;b=b||this._backgroundColorString,!this.transparent&&b?(S.fillStyle=b,S.fillRect(0,0,this.width,this.height)):S.clearRect(0,0,this.width,this.height)},y.prototype.setBlendMode=function(b){this._activeBlendMode!==b&&(this._activeBlendMode=b,this.context.globalCompositeOperation=this.blendModes[b])},y.prototype.destroy=function(b){this.destroyPlugins(),T.prototype.destroy.call(this,b),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},y.prototype.resize=function(b,S){T.prototype.resize.call(this,b,S),this.smoothProperty&&(this.rootContext[this.smoothProperty]=p.default.SCALE_MODE===i.SCALE_MODES.LINEAR)},y.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},y}(n.default);t.default=x,r.pluginTarget.mixin(x)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(g,e,t){t.__esModule=!0;var a=g("../../../const");function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(d){n(this,o),this.renderer=d}return o.prototype.pushMask=function(v){var h=this.renderer;h.context.save();var u=v.alpha,r=v.transform.worldTransform,i=h.resolution;h.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),v._texture||(this.renderGraphicsShape(v),h.context.clip()),v.worldAlpha=u},o.prototype.renderGraphicsShape=function(v){var h=this.renderer.context,u=v.graphicsData.length;if(u!==0){h.beginPath();for(var r=0;r<u;r++){var i=v.graphicsData[r],s=i.shape;if(i.type===a.SHAPES.POLY){var p=s.points;h.moveTo(p[0],p[1]);for(var l=1;l<p.length/2;l++)h.lineTo(p[l*2],p[l*2+1]);p[0]===p[p.length-2]&&p[1]===p[p.length-1]&&h.closePath()}else if(i.type===a.SHAPES.RECT)h.rect(s.x,s.y,s.width,s.height),h.closePath();else if(i.type===a.SHAPES.CIRC)h.arc(s.x,s.y,s.radius,0,2*Math.PI),h.closePath();else if(i.type===a.SHAPES.ELIP){var c=s.width*2,m=s.height*2,_=s.x-c/2,x=s.y-m/2,T=.5522848,y=c/2*T,w=m/2*T,b=_+c,S=x+m,E=_+c/2,O=x+m/2;h.moveTo(_,O),h.bezierCurveTo(_,O-w,E-y,x,E,x),h.bezierCurveTo(E+y,x,b,O-w,b,O),h.bezierCurveTo(b,O+w,E+y,S,E,S),h.bezierCurveTo(E-y,S,_,O+w,_,O),h.closePath()}else if(i.type===a.SHAPES.RREC){var P=s.x,C=s.y,A=s.width,B=s.height,I=s.radius,R=Math.min(A,B)/2|0;I=I>R?R:I,h.moveTo(P,C+I),h.lineTo(P,C+B-I),h.quadraticCurveTo(P,C+B,P+I,C+B),h.lineTo(P+A-I,C+B),h.quadraticCurveTo(P+A,C+B,P+A,C+B-I),h.lineTo(P+A,C+I),h.quadraticCurveTo(P+A,C,P+A-I,C),h.lineTo(P+I,C),h.quadraticCurveTo(P,C,P,C+I),h.closePath()}}}},o.prototype.popMask=function(v){v.context.restore(),v.invalidateBlendMode()},o.prototype.destroy=function(){},o}();t.default=f},{"../../../const":46}],79:[function(g,e,t){t.__esModule=!0;var a=function(){function h(u,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(u,s.key,s)}}return function(u,r,i){return r&&h(u.prototype,r),i&&h(u,i),u}}(),n=g("../../../settings"),f=o(n);function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(u,r,i){d(this,h),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||f.default.RESOLUTION,this.resize(u,r)}return h.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},h.prototype.resize=function(r,i){this.canvas.width=r*this.resolution,this.canvas.height=i*this.resolution},h.prototype.destroy=function(){this.context=null,this.canvas=null},a(h,[{key:"width",get:function(){return this.canvas.width},set:function(r){this.canvas.width=r}},{key:"height",get:function(){return this.canvas.height},set:function(r){this.canvas.height=r}}]),h}();t.default=v},{"../../../settings":101}],80:[function(g,e,t){t.__esModule=!0,t.default=n;function a(f){var o=document.createElement("canvas");o.width=6,o.height=1;var d=o.getContext("2d");return d.fillStyle=f,d.fillRect(0,0,6,1),o}function n(){if(typeof document>"u")return!1;var f=a("#ff00ff"),o=a("#ffff00"),d=document.createElement("canvas");d.width=6,d.height=1;var v=d.getContext("2d");v.globalCompositeOperation="multiply",v.drawImage(f,0,0),v.drawImage(o,2,0);var h=v.getImageData(2,0,1,1);if(!h)return!1;var u=h.data;return u[0]===255&&u[1]===0&&u[2]===0}},{}],81:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("../../../const"),n=g("./canUseNewCanvasBlendModes"),f=o(n);function o(v){return v&&v.__esModule?v:{default:v}}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,f.default)()?(v[a.BLEND_MODES.NORMAL]="source-over",v[a.BLEND_MODES.ADD]="lighter",v[a.BLEND_MODES.MULTIPLY]="multiply",v[a.BLEND_MODES.SCREEN]="screen",v[a.BLEND_MODES.OVERLAY]="overlay",v[a.BLEND_MODES.DARKEN]="darken",v[a.BLEND_MODES.LIGHTEN]="lighten",v[a.BLEND_MODES.COLOR_DODGE]="color-dodge",v[a.BLEND_MODES.COLOR_BURN]="color-burn",v[a.BLEND_MODES.HARD_LIGHT]="hard-light",v[a.BLEND_MODES.SOFT_LIGHT]="soft-light",v[a.BLEND_MODES.DIFFERENCE]="difference",v[a.BLEND_MODES.EXCLUSION]="exclusion",v[a.BLEND_MODES.HUE]="hue",v[a.BLEND_MODES.SATURATION]="saturate",v[a.BLEND_MODES.COLOR]="color",v[a.BLEND_MODES.LUMINOSITY]="luminosity"):(v[a.BLEND_MODES.NORMAL]="source-over",v[a.BLEND_MODES.ADD]="lighter",v[a.BLEND_MODES.MULTIPLY]="source-over",v[a.BLEND_MODES.SCREEN]="source-over",v[a.BLEND_MODES.OVERLAY]="source-over",v[a.BLEND_MODES.DARKEN]="source-over",v[a.BLEND_MODES.LIGHTEN]="source-over",v[a.BLEND_MODES.COLOR_DODGE]="source-over",v[a.BLEND_MODES.COLOR_BURN]="source-over",v[a.BLEND_MODES.HARD_LIGHT]="source-over",v[a.BLEND_MODES.SOFT_LIGHT]="source-over",v[a.BLEND_MODES.DIFFERENCE]="source-over",v[a.BLEND_MODES.EXCLUSION]="source-over",v[a.BLEND_MODES.HUE]="source-over",v[a.BLEND_MODES.SATURATION]="source-over",v[a.BLEND_MODES.COLOR]="source-over",v[a.BLEND_MODES.LUMINOSITY]="source-over"),v[a.BLEND_MODES.NORMAL_NPM]=v[a.BLEND_MODES.NORMAL],v[a.BLEND_MODES.ADD_NPM]=v[a.BLEND_MODES.ADD],v[a.BLEND_MODES.SCREEN_NPM]=v[a.BLEND_MODES.SCREEN],v}},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(g,e,t){t.__esModule=!0;var a=g("../../const"),n=g("../../settings"),f=o(n);function o(h){return h&&h.__esModule?h:{default:h}}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(u){d(this,h),this.renderer=u,this.count=0,this.checkCount=0,this.maxIdle=f.default.GC_MAX_IDLE,this.checkCountMax=f.default.GC_MAX_CHECK_COUNT,this.mode=f.default.GC_MODE}return h.prototype.update=function(){this.count++,this.mode!==a.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},h.prototype.run=function(){for(var r=this.renderer.textureManager,i=r._managedTextures,s=!1,p=0;p<i.length;p++){var l=i[p];!l._glRenderTargets&&this.count-l.touched>this.maxIdle&&(r.destroyTexture(l,!0),i[p]=null,s=!0)}if(s){for(var c=0,m=0;m<i.length;m++)i[m]!==null&&(i[c++]=i[m]);i.length=c}},h.prototype.unload=function(r){var i=this.renderer.textureManager;r._texture&&r._texture._glRenderTargets&&i.destroyTexture(r._texture,!0);for(var s=r.children.length-1;s>=0;s--)this.unload(r.children[s])},h}();t.default=v},{"../../const":46,"../../settings":101}],83:[function(g,e,t){t.__esModule=!0;var a=g("pixi-gl-core"),n=g("../../const"),f=g("./utils/RenderTarget"),o=v(f),d=g("../../utils");function v(r){return r&&r.__esModule?r:{default:r}}function h(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var u=function(){function r(i){h(this,r),this.renderer=i,this.gl=i.gl,this._managedTextures=[]}return r.prototype.bindTexture=function(){},r.prototype.getTexture=function(){},r.prototype.updateTexture=function(s,p){var l=this.gl,c=!!s._glRenderTargets;if(!s.hasLoaded)return null;var m=this.renderer.boundTextures;if(p===void 0){p=0;for(var _=0;_<m.length;++_)if(m[_]===s){p=_;break}}m[p]=s,l.activeTexture(l.TEXTURE0+p);var x=s._glTextures[this.renderer.CONTEXT_UID];if(x)c?s._glRenderTargets[this.renderer.CONTEXT_UID].resize(s.width,s.height):x.upload(s.source);else{if(c){var T=new o.default(this.gl,s.width,s.height,s.scaleMode,s.resolution);T.resize(s.width,s.height),s._glRenderTargets[this.renderer.CONTEXT_UID]=T,x=T.texture}else x=new a.GLTexture(this.gl,null,null,null,null),x.bind(p),x.premultiplyAlpha=!0,x.upload(s.source);s._glTextures[this.renderer.CONTEXT_UID]=x,s.on("update",this.updateTexture,this),s.on("dispose",this.destroyTexture,this),this._managedTextures.push(s),s.isPowerOfTwo?(s.mipmap&&x.enableMipmap(),s.wrapMode===n.WRAP_MODES.CLAMP?x.enableWrapClamp():s.wrapMode===n.WRAP_MODES.REPEAT?x.enableWrapRepeat():x.enableWrapMirrorRepeat()):x.enableWrapClamp(),s.scaleMode===n.SCALE_MODES.NEAREST?x.enableNearestScaling():x.enableLinearScaling()}return x},r.prototype.destroyTexture=function(s,p){if(s=s.baseTexture||s,!!s.hasLoaded){var l=this.renderer.CONTEXT_UID,c=s._glTextures,m=s._glRenderTargets;if(c[l]&&(this.renderer.unbindTexture(s),c[l].destroy(),s.off("update",this.updateTexture,this),s.off("dispose",this.destroyTexture,this),delete c[l],!p)){var _=this._managedTextures.indexOf(s);_!==-1&&(0,d.removeItems)(this._managedTextures,_,1)}m&&m[l]&&(m[l].destroy(),delete m[l])}},r.prototype.removeAll=function(){for(var s=0;s<this._managedTextures.length;++s){var p=this._managedTextures[s];p._glTextures[this.renderer.CONTEXT_UID]&&delete p._glTextures[this.renderer.CONTEXT_UID]}},r.prototype.destroy=function(){for(var s=0;s<this._managedTextures.length;++s){var p=this._managedTextures[s];this.destroyTexture(p,!0),p.off("update",this.updateTexture,this),p.off("dispose",this.destroyTexture,this)}this._managedTextures=null},r}();t.default=u},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(g,e,t){t.__esModule=!0;var a=g("../SystemRenderer"),n=I(a),f=g("./managers/MaskManager"),o=I(f),d=g("./managers/StencilManager"),v=I(d),h=g("./managers/FilterManager"),u=I(h),r=g("./utils/RenderTarget"),i=I(r),s=g("./utils/ObjectRenderer"),p=I(s),l=g("./TextureManager"),c=I(l),m=g("../../textures/BaseTexture"),_=I(m),x=g("./TextureGarbageCollector"),T=I(x),y=g("./WebGLState"),w=I(y),b=g("./utils/mapWebGLDrawModesToPixi"),S=I(b),E=g("./utils/validateContext"),O=I(E),P=g("../../utils"),C=g("pixi-gl-core"),A=I(C),B=g("../../const");function I(U){return U&&U.__esModule?U:{default:U}}function R(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}function D(U,k){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:U}function L(U,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);U.prototype=Object.create(k&&k.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(U,k):U.__proto__=k)}var F=0,N=function(U){L(k,U);function k(G,W,K){R(this,k);var q=D(this,U.call(this,"WebGL",G,W,K));return q.legacy=q.options.legacy,q.legacy&&(A.default.VertexArrayObject.FORCE_NATIVE=!0),q.type=B.RENDERER_TYPE.WEBGL,q.handleContextLost=q.handleContextLost.bind(q),q.handleContextRestored=q.handleContextRestored.bind(q),q.view.addEventListener("webglcontextlost",q.handleContextLost,!1),q.view.addEventListener("webglcontextrestored",q.handleContextRestored,!1),q._contextOptions={alpha:q.transparent,antialias:q.options.antialias,premultipliedAlpha:q.transparent&&q.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:q.options.preserveDrawingBuffer,powerPreference:q.options.powerPreference},q._backgroundColorRgba[3]=q.transparent?0:1,q.maskManager=new o.default(q),q.stencilManager=new v.default(q),q.emptyRenderer=new p.default(q),q.currentRenderer=q.emptyRenderer,q.textureManager=null,q.filterManager=null,q.initPlugins(),q.options.context&&(0,O.default)(q.options.context),q.gl=q.options.context||A.default.createContext(q.view,q._contextOptions),q.CONTEXT_UID=F++,q.state=new w.default(q.gl),q.renderingToScreen=!0,q.boundTextures=null,q._activeShader=null,q._activeVao=null,q._activeRenderTarget=null,q._initContext(),q.drawModes=(0,S.default)(q.gl),q._nextTextureLocation=0,q.setBlendMode(0),q}return k.prototype._initContext=function(){var W=this.gl;W.isContextLost()&&W.getExtension("WEBGL_lose_context")&&W.getExtension("WEBGL_lose_context").restoreContext();var K=W.getParameter(W.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(K),this.emptyTextures=new Array(K),this.textureManager=new c.default(this),this.filterManager=new u.default(this),this.textureGC=new T.default(this),this.state.resetToDefault(),this.rootRenderTarget=new i.default(W,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var q=new A.default.GLTexture.fromData(W,null,1,1),Q={_glTextures:{}};Q._glTextures[this.CONTEXT_UID]={};for(var J=0;J<K;J++){var V=new _.default;V._glTextures[this.CONTEXT_UID]=q,this.boundTextures[J]=Q,this.emptyTextures[J]=V,this.bindTexture(null,J)}this.emit("context",W),this.resize(this.screen.width,this.screen.height)},k.prototype.render=function(W,K,q,Q,J){if(this.renderingToScreen=!K,this.emit("prerender"),!(!this.gl||this.gl.isContextLost())){if(this._nextTextureLocation=0,K||(this._lastObjectRendered=W),!J){var V=W.parent;W.parent=this._tempDisplayObjectParent,W.updateTransform(),W.parent=V}this.bindRenderTexture(K,Q),this.currentRenderer.start(),(q!==void 0?q:this.clearBeforeRender)&&this._activeRenderTarget.clear(),W.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},k.prototype.setObjectRenderer=function(W){this.currentRenderer!==W&&(this.currentRenderer.stop(),this.currentRenderer=W,this.currentRenderer.start())},k.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},k.prototype.resize=function(W,K){n.default.prototype.resize.call(this,W,K),this.rootRenderTarget.resize(W,K),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},k.prototype.setBlendMode=function(W){this.state.setBlendMode(W)},k.prototype.clear=function(W){this._activeRenderTarget.clear(W)},k.prototype.setTransform=function(W){this._activeRenderTarget.transform=W},k.prototype.clearRenderTexture=function(W,K){var q=W.baseTexture,Q=q._glRenderTargets[this.CONTEXT_UID];return Q&&Q.clear(K),this},k.prototype.bindRenderTexture=function(W,K){var q=void 0;if(W){var Q=W.baseTexture;Q._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(Q,0),this.unbindTexture(Q),q=Q._glRenderTargets[this.CONTEXT_UID],q.setFrame(W.frame)}else q=this.rootRenderTarget;return q.transform=K,this.bindRenderTarget(q),this},k.prototype.bindRenderTarget=function(W){return W!==this._activeRenderTarget&&(this._activeRenderTarget=W,W.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=W.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(W.stencilMaskStack)),this},k.prototype.bindShader=function(W,K){return this._activeShader!==W&&(this._activeShader=W,W.bind(),K!==!1&&(W.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},k.prototype.bindTexture=function(W,K,q){if(W=W||this.emptyTextures[K],W=W.baseTexture||W,W.touched=this.textureGC.count,q)K=K||0;else{for(var Q=0;Q<this.boundTextures.length;Q++)if(this.boundTextures[Q]===W)return Q;K===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,K=this.boundTextures.length-this._nextTextureLocation-1)}var J=this.gl,V=W._glTextures[this.CONTEXT_UID];return V?(this.boundTextures[K]=W,J.activeTexture(J.TEXTURE0+K),J.bindTexture(J.TEXTURE_2D,V.texture)):this.textureManager.updateTexture(W,K),K},k.prototype.unbindTexture=function(W){var K=this.gl;W=W.baseTexture||W;for(var q=0;q<this.boundTextures.length;q++)this.boundTextures[q]===W&&(this.boundTextures[q]=this.emptyTextures[q],K.activeTexture(K.TEXTURE0+q),K.bindTexture(K.TEXTURE_2D,this.emptyTextures[q]._glTextures[this.CONTEXT_UID].texture));return this},k.prototype.createVao=function(){return new A.default.VertexArrayObject(this.gl,this.state.attribState)},k.prototype.bindVao=function(W){return this._activeVao===W?this:(W?W.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=W,this)},k.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var W=0;W<this.boundTextures.length;W++)this.boundTextures[W]=this.emptyTextures[W];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},k.prototype.handleContextLost=function(W){W.preventDefault()},k.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},k.prototype.destroy=function(W){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),U.prototype.destroy.call(this,W),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},k}(n.default);t.default=N,P.pluginTarget.mixin(N)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(g,e,t){t.__esModule=!0;var a=g("./utils/mapWebGLBlendModesToPixi"),n=f(a);function f(s){return s&&s.__esModule?s:{default:s}}function o(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}var d=0,v=1,h=2,u=3,r=4,i=function(){function s(p){o(this,s),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=p,this.maxAttribs=p.getParameter(p.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,n.default)(p),this.nativeVaoExtension=p.getExtension("OES_vertex_array_object")||p.getExtension("MOZ_OES_vertex_array_object")||p.getExtension("WEBKIT_OES_vertex_array_object")}return s.prototype.push=function(){var l=this.stack[this.stackIndex];l||(l=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var c=0;c<this.activeState.length;c++)l[c]=this.activeState[c]},s.prototype.pop=function(){var l=this.stack[--this.stackIndex];this.setState(l)},s.prototype.setState=function(l){this.setBlend(l[d]),this.setDepthTest(l[v]),this.setFrontFace(l[h]),this.setCullFace(l[u]),this.setBlendMode(l[r])},s.prototype.setBlend=function(l){l=l?1:0,this.activeState[d]!==l&&(this.activeState[d]=l,this.gl[l?"enable":"disable"](this.gl.BLEND))},s.prototype.setBlendMode=function(l){if(l!==this.activeState[r]){this.activeState[r]=l;var c=this.blendModes[l];c.length===2?this.gl.blendFunc(c[0],c[1]):this.gl.blendFuncSeparate(c[0],c[1],c[2],c[3])}},s.prototype.setDepthTest=function(l){l=l?1:0,this.activeState[v]!==l&&(this.activeState[v]=l,this.gl[l?"enable":"disable"](this.gl.DEPTH_TEST))},s.prototype.setCullFace=function(l){l=l?1:0,this.activeState[u]!==l&&(this.activeState[u]=l,this.gl[l?"enable":"disable"](this.gl.CULL_FACE))},s.prototype.setFrontFace=function(l){l=l?1:0,this.activeState[h]!==l&&(this.activeState[h]=l,this.gl.frontFace(this.gl[l?"CW":"CCW"]))},s.prototype.resetAttributes=function(){for(var l=0;l<this.attribState.tempAttribState.length;l++)this.attribState.tempAttribState[l]=0;for(var c=0;c<this.attribState.attribState.length;c++)this.attribState.attribState[c]=0;for(var m=1;m<this.maxAttribs;m++)this.gl.disableVertexAttribArray(m)},s.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var l=0;l<this.activeState.length;++l)this.activeState[l]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},s}();t.default=i},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(g,e,t){t.__esModule=!0;var a=function(){function p(l,c){for(var m=0;m<c.length;m++){var _=c[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}return function(l,c,m){return c&&p(l.prototype,c),m&&p(l,m),l}}(),n=g("./extractUniformsFromSrc"),f=u(n),o=g("../../../utils"),d=g("../../../const"),v=g("../../../settings"),h=u(v);function u(p){return p&&p.__esModule?p:{default:p}}function r(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}var i={},s=function(){function p(l,c,m){r(this,p),this.vertexSrc=l||p.defaultVertexSrc,this.fragmentSrc=c||p.defaultFragmentSrc,this._blendMode=d.BLEND_MODES.NORMAL,this.uniformData=m||(0,f.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var _ in this.uniformData)this.uniforms[_]=this.uniformData[_].value,this.uniformData[_].type&&(this.uniformData[_].type=this.uniformData[_].type.toLowerCase());this.glShaders={},i[this.vertexSrc+this.fragmentSrc]||(i[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=i[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=h.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return p.prototype.apply=function(c,m,_,x,T){c.applyFilter(this,m,_,x)},a(p,[{key:"blendMode",get:function(){return this._blendMode},set:function(c){this._blendMode=c}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),p}();t.default=s},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("pixi-gl-core"),n=f(a);function f(h){return h&&h.__esModule?h:{default:h}}var o=n.default.shader.defaultValue;function d(h,u,r){var i=v(h),s=v(u);return Object.assign(i,s)}function v(h){for(var u=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},i=void 0,s=h.replace(/\s+/g," ").split(/\s*;\s*/),p=0;p<s.length;p++){var l=s[p].trim();if(l.indexOf("uniform")>-1){var c=l.split(" "),m=c[1],_=c[2],x=1;_.indexOf("[")>-1&&(i=_.split(/\[|]/),_=i[0],x*=Number(i[1])),_.match(u)||(r[_]={value:o(m,x),name:_,type:m})}}return r}},{"pixi-gl-core":15}],88:[function(g,e,t){t.__esModule=!0,t.calculateScreenSpaceMatrix=n,t.calculateNormalizedScreenSpaceMatrix=f,t.calculateSpriteMatrix=o;var a=g("../../../math");function n(d,v,h){var u=d.identity();return u.translate(v.x/h.width,v.y/h.height),u.scale(h.width,h.height),u}function f(d,v,h){var u=d.identity();u.translate(v.x/h.width,v.y/h.height);var r=h.width/v.width,i=h.height/v.height;return u.scale(r,i),u}function o(d,v,h,u){var r=u._texture.orig,i=d.set(h.width,0,0,h.height,v.x,v.y),s=u.worldTransform.copy(a.Matrix.TEMP_MATRIX);return s.invert(),i.prepend(s),i.scale(1/r.width,1/r.height),i.translate(u.anchor.x,u.anchor.y),i}},{"../../../math":70}],89:[function(g,e,t){t.__esModule=!0;var a=g("../Filter"),n=v(a),f=g("../../../../math");g("path");var o=g("../../../../textures/TextureMatrix"),d=v(o);function v(s){return s&&s.__esModule?s:{default:s}}function h(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function u(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function r(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var i=function(s){r(p,s);function p(l){h(this,p);var c=new f.Matrix,m=u(this,s.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return l.renderable=!1,m.maskSprite=l,m.maskMatrix=c,m}return p.prototype.apply=function(c,m,_){var x=this.maskSprite,T=this.maskSprite.texture;T.valid&&(T.transform||(T.transform=new d.default(T,0)),T.transform.update(),this.uniforms.mask=T,this.uniforms.otherMatrix=c.calculateSpriteMatrix(this.maskMatrix,x).prepend(T.transform.mapCoord),this.uniforms.alpha=x.worldAlpha,this.uniforms.maskClamp=T.transform.uClampFrame,c.applyFilter(this,m,_))},p}(n.default);t.default=i},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(g,e,t){t.__esModule=!0;var a=g("./WebGLManager"),n=m(a),f=g("../utils/RenderTarget"),o=m(f),d=g("../utils/Quad"),v=m(d),h=g("../../../math"),u=g("../../../Shader"),r=m(u),i=g("../filters/filterTransforms"),s=c(i),p=g("bit-twiddle"),l=m(p);function c(S){if(S&&S.__esModule)return S;var E={};if(S!=null)for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(E[O]=S[O]);return E.default=S,E}function m(S){return S&&S.__esModule?S:{default:S}}function _(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function x(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}function T(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}var y=function(){function S(){T(this,S),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.filters=[]}return S.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},S}(),w="screen",b=function(S){x(E,S);function E(O){T(this,E);var P=_(this,S.call(this,O));return P.gl=P.renderer.gl,P.quad=new v.default(P.gl,O.state.attribState),P.shaderCache={},P.pool={},P.filterData=null,P.managedFilters=[],P.renderer.on("prerender",P.onPrerender,P),P._screenWidth=O.view.width,P._screenHeight=O.view.height,P}return E.prototype.pushFilter=function(P,C){var A=this.renderer,B=this.filterData;if(!B){B=this.renderer._activeRenderTarget.filterStack;var I=new y;I.sourceFrame=I.destinationFrame=this.renderer._activeRenderTarget.size,I.renderTarget=A._activeRenderTarget,this.renderer._activeRenderTarget.filterData=B={index:0,stack:[I]},this.filterData=B}var R=B.stack[++B.index],D=B.stack[0].destinationFrame;R||(R=B.stack[B.index]=new y);var L=P.filterArea&&P.filterArea.x===0&&P.filterArea.y===0&&P.filterArea.width===A.screen.width&&P.filterArea.height===A.screen.height,F=C[0].resolution,N=C[0].padding|0,U=L?A.screen:P.filterArea||P.getBounds(!0),k=R.sourceFrame,G=R.destinationFrame;k.x=(U.x*F|0)/F,k.y=(U.y*F|0)/F,k.width=(U.width*F|0)/F,k.height=(U.height*F|0)/F,L||(B.stack[0].renderTarget.transform||C[0].autoFit&&k.fit(D),k.pad(N)),G.width=k.width,G.height=k.height;var W=this.getPotRenderTarget(A.gl,k.width,k.height,F);R.target=P,R.filters=C,R.resolution=F,R.renderTarget=W,W.setFrame(G,k),A.bindRenderTarget(W),W.clear()},E.prototype.popFilter=function(){var P=this.filterData,C=P.stack[P.index-1],A=P.stack[P.index];this.quad.map(A.renderTarget.size,A.sourceFrame).upload();var B=A.filters;if(B.length===1)B[0].apply(this,A.renderTarget,C.renderTarget,!1,A),this.freePotRenderTarget(A.renderTarget);else{var I=A.renderTarget,R=this.getPotRenderTarget(this.renderer.gl,A.sourceFrame.width,A.sourceFrame.height,A.resolution);R.setFrame(A.destinationFrame,A.sourceFrame),R.clear();var D=0;for(D=0;D<B.length-1;++D){B[D].apply(this,I,R,!0,A);var L=I;I=R,R=L}B[D].apply(this,I,C.renderTarget,!1,A),this.freePotRenderTarget(I),this.freePotRenderTarget(R)}A.clear(),P.index--,P.index===0&&(this.filterData=null)},E.prototype.applyFilter=function(P,C,A,B){var I=this.renderer,R=I.gl,D=P.glShaders[I.CONTEXT_UID];D||(P.glShaderKey?(D=this.shaderCache[P.glShaderKey],D||(D=new r.default(this.gl,P.vertexSrc,P.fragmentSrc),P.glShaders[I.CONTEXT_UID]=this.shaderCache[P.glShaderKey]=D,this.managedFilters.push(P))):(D=P.glShaders[I.CONTEXT_UID]=new r.default(this.gl,P.vertexSrc,P.fragmentSrc),this.managedFilters.push(P)),I.bindVao(null),this.quad.initVao(D)),I.bindVao(this.quad.vao),I.bindRenderTarget(A),B&&(R.disable(R.SCISSOR_TEST),I.clear(),R.enable(R.SCISSOR_TEST)),A===I.maskManager.scissorRenderTarget&&I.maskManager.pushScissorMask(null,I.maskManager.scissorData),I.bindShader(D);var L=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=L,this.syncUniforms(D,P),I.state.setBlendMode(P.blendMode),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,C.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),R.bindTexture(R.TEXTURE_2D,L._glTextures[this.renderer.CONTEXT_UID].texture)},E.prototype.syncUniforms=function(P,C){var A=C.uniformData,B=C.uniforms,I=1,R=void 0;if(P.uniforms.filterArea){R=this.filterData.stack[this.filterData.index];var D=P.uniforms.filterArea;D[0]=R.renderTarget.size.width,D[1]=R.renderTarget.size.height,D[2]=R.sourceFrame.x,D[3]=R.sourceFrame.y,P.uniforms.filterArea=D}if(P.uniforms.filterClamp){R=R||this.filterData.stack[this.filterData.index];var L=P.uniforms.filterClamp;L[0]=0,L[1]=0,L[2]=(R.sourceFrame.width-1)/R.renderTarget.size.width,L[3]=(R.sourceFrame.height-1)/R.renderTarget.size.height,P.uniforms.filterClamp=L}for(var F in A){var N=A[F].type;if(N==="sampler2d"&&B[F]!==0){if(B[F].baseTexture)P.uniforms[F]=this.renderer.bindTexture(B[F].baseTexture,I);else{P.uniforms[F]=I;var U=this.renderer.gl;this.renderer.boundTextures[I]=this.renderer.emptyTextures[I],U.activeTexture(U.TEXTURE0+I),B[F].texture.bind()}I++}else if(N==="mat3")B[F].a!==void 0?P.uniforms[F]=B[F].toArray(!0):P.uniforms[F]=B[F];else if(N==="vec2")if(B[F].x!==void 0){var k=P.uniforms[F]||new Float32Array(2);k[0]=B[F].x,k[1]=B[F].y,P.uniforms[F]=k}else P.uniforms[F]=B[F];else N==="float"?P.uniforms.data[F].value!==A[F]&&(P.uniforms[F]=B[F]):P.uniforms[F]=B[F]}},E.prototype.getRenderTarget=function(P,C){var A=this.filterData.stack[this.filterData.index],B=this.getPotRenderTarget(this.renderer.gl,A.sourceFrame.width,A.sourceFrame.height,C||A.resolution);return B.setFrame(A.destinationFrame,A.sourceFrame),B},E.prototype.returnRenderTarget=function(P){this.freePotRenderTarget(P)},E.prototype.calculateScreenSpaceMatrix=function(P){var C=this.filterData.stack[this.filterData.index];return s.calculateScreenSpaceMatrix(P,C.sourceFrame,C.renderTarget.size)},E.prototype.calculateNormalizedScreenSpaceMatrix=function(P){var C=this.filterData.stack[this.filterData.index];return s.calculateNormalizedScreenSpaceMatrix(P,C.sourceFrame,C.renderTarget.size,C.destinationFrame)},E.prototype.calculateSpriteMatrix=function(P,C){var A=this.filterData.stack[this.filterData.index];return s.calculateSpriteMatrix(P,A.sourceFrame,A.renderTarget.size,C)},E.prototype.destroy=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=this.renderer,A=this.managedFilters;C.off("prerender",this.onPrerender,this);for(var B=0;B<A.length;B++)P||A[B].glShaders[C.CONTEXT_UID].destroy(),delete A[B].glShaders[C.CONTEXT_UID];this.shaderCache={},P?this.pool={}:this.emptyPool()},E.prototype.getPotRenderTarget=function(P,C,A,B){var I=w;C*=B,A*=B,(C!==this._screenWidth||A!==this._screenHeight)&&(C=l.default.nextPow2(C),A=l.default.nextPow2(A),I=(C&65535)<<16|A&65535),this.pool[I]||(this.pool[I]=[]);var R=this.pool[I].pop();if(!R){var D=this.renderer.boundTextures[0];P.activeTexture(P.TEXTURE0),R=new o.default(P,C,A,null,1),P.bindTexture(P.TEXTURE_2D,D._glTextures[this.renderer.CONTEXT_UID].texture)}return R.resolution=B,R.defaultFrame.width=R.size.width=C/B,R.defaultFrame.height=R.size.height=A/B,R.filterPoolKey=I,R},E.prototype.emptyPool=function(){for(var P in this.pool){var C=this.pool[P];if(C)for(var A=0;A<C.length;A++)C[A].destroy(!0)}this.pool={}},E.prototype.freePotRenderTarget=function(P){this.pool[P.filterPoolKey].push(P)},E.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var P=this.pool[w];if(P)for(var C=0;C<P.length;C++)P[C].destroy(!0);this.pool[w]=[]}},E}(n.default);t.default=b},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(g,e,t){t.__esModule=!0;var a=g("./WebGLManager"),n=d(a),f=g("../filters/spriteMask/SpriteMaskFilter"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(p){v(this,s);var l=h(this,i.call(this,p));return l.scissor=!1,l.scissorData=null,l.scissorRenderTarget=null,l.enableScissor=!0,l.alphaMaskPool=[],l.alphaMaskIndex=0,l}return s.prototype.pushMask=function(l,c){if(c.texture)this.pushSpriteMask(l,c);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&c.isFastRect()){var m=c.worldTransform,_=Math.atan2(m.b,m.a);_=Math.round(_*(180/Math.PI)),_%90?this.pushStencilMask(c):this.pushScissorMask(l,c)}else this.pushStencilMask(c)},s.prototype.popMask=function(l,c){c.texture?this.popSpriteMask(l,c):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(l,c):this.popStencilMask(l,c)},s.prototype.pushSpriteMask=function(l,c){var m=this.alphaMaskPool[this.alphaMaskIndex];m||(m=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(c)]),m[0].resolution=this.renderer.resolution,m[0].maskSprite=c,l.filterArea=c.getBounds(!0),this.renderer.filterManager.pushFilter(l,m),this.alphaMaskIndex++},s.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},s.prototype.pushStencilMask=function(l){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(l)},s.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},s.prototype.pushScissorMask=function(l,c){c.renderable=!0;var m=this.renderer._activeRenderTarget,_=c.getBounds();_.fit(m.size),c.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var x=this.renderer.resolution;this.renderer.gl.scissor(_.x*x,(m.root?m.size.height-_.y-_.height:_.y)*x,_.width*x,_.height*x),this.scissorRenderTarget=m,this.scissorData=c,this.scissor=!0},s.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var l=this.renderer.gl;l.disable(l.SCISSOR_TEST)},s}(n.default);t.default=r},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(g,e,t){t.__esModule=!0;var a=g("./WebGLManager"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(i){o(this,r);var s=d(this,u.call(this,i));return s.stencilMaskStack=null,s}return r.prototype.setMaskStack=function(s){this.stencilMaskStack=s;var p=this.renderer.gl;s.length===0?p.disable(p.STENCIL_TEST):p.enable(p.STENCIL_TEST)},r.prototype.pushStencil=function(s){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var p=this.renderer.gl,l=this.stencilMaskStack.length;l===0&&p.enable(p.STENCIL_TEST),this.stencilMaskStack.push(s),p.colorMask(!1,!1,!1,!1),p.stencilFunc(p.EQUAL,l,this._getBitwiseMask()),p.stencilOp(p.KEEP,p.KEEP,p.INCR),this.renderer.plugins.graphics.render(s),this._useCurrent()},r.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var s=this.renderer.gl,p=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(s.disable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),s.clearStencil(0)):(s.colorMask(!1,!1,!1,!1),s.stencilOp(s.KEEP,s.KEEP,s.DECR),this.renderer.plugins.graphics.render(p),this._useCurrent())},r.prototype._useCurrent=function(){var s=this.renderer.gl;s.colorMask(!0,!0,!0,!0),s.stencilFunc(s.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),s.stencilOp(s.KEEP,s.KEEP,s.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},r.prototype.destroy=function(){n.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r}(n.default);t.default=h},{"./WebGLManager":93}],93:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o){a(this,f),this.renderer=o,this.renderer.on("context",this.onContextChange,this)}return f.prototype.onContextChange=function(){},f.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},f}();t.default=n},{}],94:[function(g,e,t){t.__esModule=!0;var a=g("../managers/WebGLManager"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(){return o(this,r),d(this,u.apply(this,arguments))}return r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.flush=function(){},r.prototype.render=function(s){},r}(n.default);t.default=h},{"../managers/WebGLManager":93}],95:[function(g,e,t){t.__esModule=!0;var a=g("pixi-gl-core"),n=d(a),f=g("../../../utils/createIndicesForQuads"),o=d(f);function d(u){return u&&u.__esModule?u:{default:u}}function v(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var h=function(){function u(r,i){v(this,u),this.gl=r,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(8*2);for(var s=0;s<4;s++)this.interleaved[s*4]=this.vertices[s*2],this.interleaved[s*4+1]=this.vertices[s*2+1],this.interleaved[s*4+2]=this.uvs[s*2],this.interleaved[s*4+3]=this.uvs[s*2+1];this.indices=(0,o.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(r,this.interleaved,r.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(r,this.indices,r.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(r,i)}return u.prototype.initVao=function(i){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,i.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,i.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)},u.prototype.map=function(i,s){var p=0,l=0;return this.uvs[0]=p,this.uvs[1]=l,this.uvs[2]=p+s.width/i.width,this.uvs[3]=l,this.uvs[4]=p+s.width/i.width,this.uvs[5]=l+s.height/i.height,this.uvs[6]=p,this.uvs[7]=l+s.height/i.height,p=s.x,l=s.y,this.vertices[0]=p,this.vertices[1]=l,this.vertices[2]=p+s.width,this.vertices[3]=l,this.vertices[4]=p+s.width,this.vertices[5]=l+s.height,this.vertices[6]=p,this.vertices[7]=l+s.height,this},u.prototype.upload=function(){for(var i=0;i<4;i++)this.interleaved[i*4]=this.vertices[i*2],this.interleaved[i*4+1]=this.vertices[i*2+1],this.interleaved[i*4+2]=this.uvs[i*2],this.interleaved[i*4+3]=this.uvs[i*2+1];return this.vertexBuffer.upload(this.interleaved),this},u.prototype.destroy=function(){var i=this.gl;i.deleteBuffer(this.vertexBuffer),i.deleteBuffer(this.indexBuffer)},u}();t.default=h},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(g,e,t){t.__esModule=!0;var a=g("../../../math"),n=g("../../../const"),f=g("../../../settings"),o=v(f),d=g("pixi-gl-core");function v(r){return r&&r.__esModule?r:{default:r}}function h(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var u=function(){function r(i,s,p,l,c,m){h(this,r),this.gl=i,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=c||o.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=l!==void 0?l:o.default.SCALE_MODE,this.root=m,this.root?(this.frameBuffer=new d.GLFramebuffer(i,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.GLFramebuffer.createRGBA(i,100,100),this.scaleMode===n.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(s,p)}return r.prototype.clear=function(s){var p=s||this.clearColor;this.frameBuffer.clear(p[0],p[1],p[2],p[3])},r.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},r.prototype.setFrame=function(s,p){this.destinationFrame=s||this.destinationFrame||this.defaultFrame,this.sourceFrame=p||this.sourceFrame||this.destinationFrame},r.prototype.activate=function(){var s=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(s.enable(s.SCISSOR_TEST),s.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):s.disable(s.SCISSOR_TEST),s.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},r.prototype.calculateProjection=function(s,p){var l=this.projectionMatrix;p=p||s,l.identity(),this.root?(l.a=1/s.width*2,l.d=-1/s.height*2,l.tx=-1-p.x*l.a,l.ty=1-p.y*l.d):(l.a=1/s.width*2,l.d=1/s.height*2,l.tx=-1-p.x*l.a,l.ty=-1-p.y*l.d)},r.prototype.resize=function(s,p){if(s=s|0,p=p|0,!(this.size.width===s&&this.size.height===p)){this.size.width=s,this.size.height=p,this.defaultFrame.width=s,this.defaultFrame.height=p,this.frameBuffer.resize(s*this.resolution,p*this.resolution);var l=this.frame||this.size;this.calculateProjection(l)}},r.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},r}();t.default=u},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("pixi-gl-core"),n=f(a);function f(h){return h&&h.__esModule?h:{default:h}}var o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function d(h,u){var r=!u;if(h===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var i=document.createElement("canvas");i.width=1,i.height=1,u=n.default.createContext(i)}for(var s=u.createShader(u.FRAGMENT_SHADER);;){var p=o.replace(/%forloop%/gi,v(h));if(u.shaderSource(s,p),u.compileShader(s),!u.getShaderParameter(s,u.COMPILE_STATUS))h=h/2|0;else break}return r&&u.getExtension("WEBGL_lose_context")&&u.getExtension("WEBGL_lose_context").loseContext(),h}function v(h){for(var u="",r=0;r<h;++r)r>0&&(u+=`
else `),r<h-1&&(u+="if(test == "+r+".0){}");return u}},{"pixi-gl-core":15}],98:[function(g,e,t){t.__esModule=!0,t.default=n;var a=g("../../../const");function n(f){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o[a.BLEND_MODES.NORMAL]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.ADD]=[f.ONE,f.DST_ALPHA],o[a.BLEND_MODES.MULTIPLY]=[f.DST_COLOR,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.SCREEN]=[f.ONE,f.ONE_MINUS_SRC_COLOR],o[a.BLEND_MODES.OVERLAY]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.DARKEN]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.LIGHTEN]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.COLOR_DODGE]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.COLOR_BURN]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.HARD_LIGHT]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.SOFT_LIGHT]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.DIFFERENCE]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.EXCLUSION]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.HUE]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.SATURATION]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.COLOR]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.LUMINOSITY]=[f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.NORMAL_NPM]=[f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA],o[a.BLEND_MODES.ADD_NPM]=[f.SRC_ALPHA,f.DST_ALPHA,f.ONE,f.DST_ALPHA],o[a.BLEND_MODES.SCREEN_NPM]=[f.SRC_ALPHA,f.ONE_MINUS_SRC_COLOR,f.ONE,f.ONE_MINUS_SRC_COLOR],o}},{"../../../const":46}],99:[function(g,e,t){t.__esModule=!0,t.default=n;var a=g("../../../const");function n(f){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o[a.DRAW_MODES.POINTS]=f.POINTS,o[a.DRAW_MODES.LINES]=f.LINES,o[a.DRAW_MODES.LINE_LOOP]=f.LINE_LOOP,o[a.DRAW_MODES.LINE_STRIP]=f.LINE_STRIP,o[a.DRAW_MODES.TRIANGLES]=f.TRIANGLES,o[a.DRAW_MODES.TRIANGLE_STRIP]=f.TRIANGLE_STRIP,o[a.DRAW_MODES.TRIANGLE_FAN]=f.TRIANGLE_FAN,o}},{"../../../const":46}],100:[function(g,e,t){t.__esModule=!0,t.default=a;function a(n){var f=n.getContextAttributes();f.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],101:[function(g,e,t){t.__esModule=!0;var a=g("./utils/maxRecommendedTextures"),n=d(a),f=g("./utils/canUploadSameBuffer"),o=d(f);function d(v){return v&&v.__esModule?v:{default:v}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(g,e,t){t.__esModule=!0;var a=function(){function m(_,x){for(var T=0;T<x.length;T++){var y=x[T];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(_,y.key,y)}}return function(_,x,T){return x&&m(_.prototype,x),T&&m(_,T),_}}(),n=g("../math"),f=g("../utils"),o=g("../const"),d=g("../textures/Texture"),v=r(d),h=g("../display/Container"),u=r(h);function r(m){return m&&m.__esModule?m:{default:m}}function i(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function s(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function p(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var l=new n.Point,c=function(m){p(_,m);function _(x){i(this,_);var T=s(this,m.call(this));return T._anchor=new n.ObservablePoint(T._onAnchorUpdate,T,x?x.defaultAnchor.x:0,x?x.defaultAnchor.y:0),T._texture=null,T._width=0,T._height=0,T._tint=null,T._tintRGB=null,T.tint=16777215,T.blendMode=o.BLEND_MODES.NORMAL,T.shader=null,T.cachedTint=16777215,T.texture=x||v.default.EMPTY,T.vertexData=new Float32Array(8),T.vertexTrimmedData=null,T._transformID=-1,T._textureID=-1,T._transformTrimmedID=-1,T._textureTrimmedID=-1,T.pluginName="sprite",T}return _.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,f.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,f.sign)(this.scale.y)*this._height/this._texture.orig.height)},_.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},_.prototype.calculateVertices=function(){if(!(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var T=this._texture,y=this.transform.worldTransform,w=y.a,b=y.b,S=y.c,E=y.d,O=y.tx,P=y.ty,C=this.vertexData,A=T.trim,B=T.orig,I=this._anchor,R=0,D=0,L=0,F=0;A?(D=A.x-I._x*B.width,R=D+A.width,F=A.y-I._y*B.height,L=F+A.height):(D=-I._x*B.width,R=D+B.width,F=-I._y*B.height,L=F+B.height),C[0]=w*D+S*F+O,C[1]=E*F+b*D+P,C[2]=w*R+S*F+O,C[3]=E*F+b*R+P,C[4]=w*R+S*L+O,C[5]=E*L+b*R+P,C[6]=w*D+S*L+O,C[7]=E*L+b*D+P}},_.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var T=this._texture,y=this.vertexTrimmedData,w=T.orig,b=this._anchor,S=this.transform.worldTransform,E=S.a,O=S.b,P=S.c,C=S.d,A=S.tx,B=S.ty,I=-b._x*w.width,R=I+w.width,D=-b._y*w.height,L=D+w.height;y[0]=E*I+P*D+A,y[1]=C*D+O*I+B,y[2]=E*R+P*D+A,y[3]=C*D+O*R+B,y[4]=E*R+P*L+A,y[5]=C*L+O*R+B,y[6]=E*I+P*L+A,y[7]=C*L+O*I+B},_.prototype._renderWebGL=function(T){this.calculateVertices(),T.setObjectRenderer(T.plugins[this.pluginName]),T.plugins[this.pluginName].render(this)},_.prototype._renderCanvas=function(T){T.plugins[this.pluginName].render(this)},_.prototype._calculateBounds=function(){var T=this._texture.trim,y=this._texture.orig;!T||T.width===y.width&&T.height===y.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},_.prototype.getLocalBounds=function(T){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),T||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),T=this._localBoundsRect),this._bounds.getRectangle(T)):m.prototype.getLocalBounds.call(this,T)},_.prototype.containsPoint=function(T){this.worldTransform.applyInverse(T,l);var y=this._texture.orig.width,w=this._texture.orig.height,b=-y*this.anchor.x,S=0;return l.x>=b&&l.x<b+y&&(S=-w*this.anchor.y,l.y>=S&&l.y<S+w)},_.prototype.destroy=function(T){m.prototype.destroy.call(this,T),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var y=typeof T=="boolean"?T:T&&T.texture;if(y){var w=typeof T=="boolean"?T:T&&T.baseTexture;this._texture.destroy(!!w)}this._texture=null,this.shader=null},_.from=function(T){return new _(v.default.from(T))},_.fromFrame=function(T){var y=f.TextureCache[T];if(!y)throw new Error('The frameId "'+T+'" does not exist in the texture cache');return new _(y)},_.fromImage=function(T,y,w){return new _(v.default.fromImage(T,y,w))},a(_,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(T){var y=(0,f.sign)(this.scale.x)||1;this.scale.x=y*T/this._texture.orig.width,this._width=T}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(T){var y=(0,f.sign)(this.scale.y)||1;this.scale.y=y*T/this._texture.orig.height,this._height=T}},{key:"anchor",get:function(){return this._anchor},set:function(T){this._anchor.copy(T)}},{key:"tint",get:function(){return this._tint},set:function(T){this._tint=T,this._tintRGB=(T>>16)+(T&65280)+((T&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(T){this._texture!==T&&(this._texture=T||v.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,T&&(T.baseTexture.hasLoaded?this._onTextureUpdate():T.once("update",this._onTextureUpdate,this)))}}]),_}(u.default);t.default=c},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(g,e,t){t.__esModule=!0;var a=g("../../renderers/canvas/CanvasRenderer"),n=h(a),f=g("../../const"),o=g("../../math"),d=g("./CanvasTinter"),v=h(d);function h(s){return s&&s.__esModule?s:{default:s}}function u(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}var r=new o.Matrix,i=function(){function s(p){u(this,s),this.renderer=p}return s.prototype.render=function(l){var c=l._texture,m=this.renderer,_=c._frame.width,x=c._frame.height,T=l.transform.worldTransform,y=0,w=0;if(!(c.orig.width<=0||c.orig.height<=0||!c.baseTexture.source)&&(m.setBlendMode(l.blendMode),c.valid)){m.context.globalAlpha=l.worldAlpha;var b=c.baseTexture.scaleMode===f.SCALE_MODES.LINEAR;m.smoothProperty&&m.context[m.smoothProperty]!==b&&(m.context[m.smoothProperty]=b),c.trim?(y=c.trim.width/2+c.trim.x-l.anchor.x*c.orig.width,w=c.trim.height/2+c.trim.y-l.anchor.y*c.orig.height):(y=(.5-l.anchor.x)*c.orig.width,w=(.5-l.anchor.y)*c.orig.height),c.rotate&&(T.copy(r),T=r,o.GroupD8.matrixAppendRotationInv(T,c.rotate,y,w),y=0,w=0),y-=_/2,w-=x/2,m.roundPixels?(m.context.setTransform(T.a,T.b,T.c,T.d,T.tx*m.resolution|0,T.ty*m.resolution|0),y=y|0,w=w|0):m.context.setTransform(T.a,T.b,T.c,T.d,T.tx*m.resolution,T.ty*m.resolution);var S=c.baseTexture.resolution;l.tint!==16777215?((l.cachedTint!==l.tint||l.tintedTexture.tintId!==l._texture._updateID)&&(l.cachedTint=l.tint,l.tintedTexture=v.default.getTintedTexture(l,l.tint)),m.context.drawImage(l.tintedTexture,0,0,_*S,x*S,y*m.resolution,w*m.resolution,_*m.resolution,x*m.resolution)):m.context.drawImage(c.baseTexture.source,c._frame.x*S,c._frame.y*S,_*S,x*S,y*m.resolution,w*m.resolution,_*m.resolution,x*m.resolution)}},s.prototype.destroy=function(){this.renderer=null},s}();t.default=i,n.default.registerPlugin("sprite",i)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(g,e,t){t.__esModule=!0;var a=g("../../utils"),n=g("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),f=o(n);function o(v){return v&&v.__esModule?v:{default:v}}var d={getTintedTexture:function(h,u){var r=h._texture;u=d.roundColor(u);var i="#"+("00000"+(u|0).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var s=r.tintCache[i],p=void 0;if(s){if(s.tintId===r._updateID)return r.tintCache[i];p=r.tintCache[i]}else p=d.canvas||document.createElement("canvas");if(d.tintMethod(r,u,p),p.tintId=r._updateID,d.convertTintToImage){var l=new Image;l.src=p.toDataURL(),r.tintCache[i]=l}else r.tintCache[i]=p,d.canvas=null;return p},tintWithMultiply:function(h,u,r){var i=r.getContext("2d"),s=h._frame.clone(),p=h.baseTexture.resolution;s.x*=p,s.y*=p,s.width*=p,s.height*=p,r.width=Math.ceil(s.width),r.height=Math.ceil(s.height),i.save(),i.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),i.fillRect(0,0,s.width,s.height),i.globalCompositeOperation="multiply",i.drawImage(h.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),i.globalCompositeOperation="destination-atop",i.drawImage(h.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),i.restore()},tintWithOverlay:function(h,u,r){var i=r.getContext("2d"),s=h._frame.clone(),p=h.baseTexture.resolution;s.x*=p,s.y*=p,s.width*=p,s.height*=p,r.width=Math.ceil(s.width),r.height=Math.ceil(s.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),i.fillRect(0,0,s.width,s.height),i.globalCompositeOperation="destination-atop",i.drawImage(h.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),i.restore()},tintWithPerPixel:function(h,u,r){var i=r.getContext("2d"),s=h._frame.clone(),p=h.baseTexture.resolution;s.x*=p,s.y*=p,s.width*=p,s.height*=p,r.width=Math.ceil(s.width),r.height=Math.ceil(s.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(h.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),i.restore();for(var l=(0,a.hex2rgb)(u),c=l[0],m=l[1],_=l[2],x=i.getImageData(0,0,s.width,s.height),T=x.data,y=0;y<T.length;y+=4)T[y+0]*=c,T[y+1]*=m,T[y+2]*=_;i.putImageData(x,0,0)},roundColor:function(h){var u=d.cacheStepsPerColorChannel,r=(0,a.hex2rgb)(h);return r[0]=Math.min(255,r[0]/u*u),r[1]=Math.min(255,r[1]/u*u),r[2]=Math.min(255,r[2]/u*u),(0,a.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,f.default)(),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel,t.default=d},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o){a(this,f),this.vertices=new ArrayBuffer(o),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return f.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},f}();t.default=n},{}],106:[function(g,e,t){t.__esModule=!0;var a=g("../../renderers/webgl/utils/ObjectRenderer"),n=w(a),f=g("../../renderers/webgl/WebGLRenderer"),o=w(f),d=g("../../utils/createIndicesForQuads"),v=w(d),h=g("./generateMultiTextureShader"),u=w(h),r=g("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),i=w(r),s=g("./BatchBuffer"),p=w(s),l=g("../../settings"),c=w(l),m=g("../../utils"),_=g("pixi-gl-core"),x=w(_),T=g("bit-twiddle"),y=w(T);function w(A){return A&&A.__esModule?A:{default:A}}function b(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}function S(A,B){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:A}function E(A,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(A,B):A.__proto__=B)}var O=0,P=0,C=function(A){E(B,A);function B(I){b(this,B);var R=S(this,A.call(this,I));R.vertSize=5,R.vertByteSize=R.vertSize*4,R.size=c.default.SPRITE_BATCH_SIZE,R.buffers=[];for(var D=1;D<=y.default.nextPow2(R.size);D*=2)R.buffers.push(new p.default(D*4*R.vertByteSize));R.indices=(0,v.default)(R.size),R.shader=null,R.currentIndex=0,R.groups=[];for(var L=0;L<R.size;L++)R.groups[L]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return R.sprites=[],R.vertexBuffers=[],R.vaos=[],R.vaoMax=2,R.vertexCount=0,R.renderer.on("prerender",R.onPrerender,R),R}return B.prototype.onContextChange=function(){var R=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS),c.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,i.default)(this.MAX_TEXTURES,R)),this.shader=(0,u.default)(R,this.MAX_TEXTURES),this.indexBuffer=x.default.GLBuffer.createIndexBuffer(R,this.indices,R.STATIC_DRAW),this.renderer.bindVao(null);for(var D=this.shader.attributes,L=0;L<this.vaoMax;L++){var F=this.vertexBuffers[L]=x.default.GLBuffer.createVertexBuffer(R,null,R.STREAM_DRAW),N=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,D.aVertexPosition,R.FLOAT,!1,this.vertByteSize,0).addAttribute(F,D.aTextureCoord,R.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(F,D.aColor,R.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);D.aTextureId&&N.addAttribute(F,D.aTextureId,R.FLOAT,!1,this.vertByteSize,4*4),this.vaos[L]=N}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},B.prototype.onPrerender=function(){this.vertexCount=0},B.prototype.render=function(R){this.currentIndex>=this.size&&this.flush(),R._texture._uvs&&(this.sprites[this.currentIndex++]=R)},B.prototype.flush=function(){if(this.currentIndex!==0){var R=this.renderer.gl,D=this.MAX_TEXTURES,L=y.default.nextPow2(this.currentIndex),F=y.default.log2(L),N=this.buffers[F],U=this.sprites,k=this.groups,G=N.float32View,W=N.uint32View,K=this.boundTextures,q=this.renderer.boundTextures,Q=this.renderer.textureGC.count,J=0,V=void 0,Z=void 0,$=1,it=0,nt=k[0],at=void 0,st=void 0,rt=m.premultiplyBlendMode[U[0]._texture.baseTexture.premultipliedAlpha?1:0][U[0].blendMode];nt.textureCount=0,nt.start=0,nt.blend=rt,O++;var tt=void 0;for(tt=0;tt<D;++tt){var ut=q[tt];if(ut._enabled===O){K[tt]=this.renderer.emptyTextures[tt];continue}K[tt]=ut,ut._virtalBoundId=tt,ut._enabled=O}for(O++,tt=0;tt<this.currentIndex;++tt){var ft=U[tt];U[tt]=null,V=ft._texture.baseTexture;var _t=m.premultiplyBlendMode[Number(V.premultipliedAlpha)][ft.blendMode];if(rt!==_t&&(rt=_t,Z=null,it=D,O++),Z!==V&&(Z=V,V._enabled!==O)){if(it===D&&(O++,nt.size=tt-nt.start,it=0,nt=k[$++],nt.blend=rt,nt.textureCount=0,nt.start=tt),V.touched=Q,V._virtalBoundId===-1)for(var vt=0;vt<D;++vt){var Ct=(vt+P)%D,He=K[Ct];if(He._enabled!==O){P++,He._virtalBoundId=-1,V._virtalBoundId=Ct,K[Ct]=V;break}}V._enabled=O,nt.textureCount++,nt.ids[it]=V._virtalBoundId,nt.textures[it++]=V}if(at=ft.vertexData,st=ft._texture._uvs.uvsUint32,this.renderer.roundPixels){var St=this.renderer.resolution;G[J]=(at[0]*St|0)/St,G[J+1]=(at[1]*St|0)/St,G[J+5]=(at[2]*St|0)/St,G[J+6]=(at[3]*St|0)/St,G[J+10]=(at[4]*St|0)/St,G[J+11]=(at[5]*St|0)/St,G[J+15]=(at[6]*St|0)/St,G[J+16]=(at[7]*St|0)/St}else G[J]=at[0],G[J+1]=at[1],G[J+5]=at[2],G[J+6]=at[3],G[J+10]=at[4],G[J+11]=at[5],G[J+15]=at[6],G[J+16]=at[7];W[J+2]=st[0],W[J+7]=st[1],W[J+12]=st[2],W[J+17]=st[3];var Ce=Math.min(ft.worldAlpha,1),dr=Ce<1&&V.premultipliedAlpha?(0,m.premultiplyTint)(ft._tintRGB,Ce):ft._tintRGB+(Ce*255<<24);W[J+3]=W[J+8]=W[J+13]=W[J+18]=dr,G[J+4]=G[J+9]=G[J+14]=G[J+19]=V._virtalBoundId,J+=20}if(nt.size=tt-nt.start,c.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(N.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var Me=this.shader.attributes,Ye=this.vertexBuffers[this.vertexCount]=x.default.GLBuffer.createVertexBuffer(R,null,R.STREAM_DRAW),kr=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(Ye,Me.aVertexPosition,R.FLOAT,!1,this.vertByteSize,0).addAttribute(Ye,Me.aTextureCoord,R.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(Ye,Me.aColor,R.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);Me.aTextureId&&kr.addAttribute(Ye,Me.aTextureId,R.FLOAT,!1,this.vertByteSize,4*4),this.vaos[this.vertexCount]=kr}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(N.vertices,0,!1),this.vertexCount++}for(tt=0;tt<D;++tt)q[tt]._virtalBoundId=-1;for(tt=0;tt<$;++tt){for(var ue=k[tt],dn=ue.textureCount,Re=0;Re<dn;Re++)Z=ue.textures[Re],q[ue.ids[Re]]!==Z&&this.renderer.bindTexture(Z,ue.ids[Re],!0),Z._virtalBoundId=-1;this.renderer.state.setBlendMode(ue.blend),R.drawElements(R.TRIANGLES,ue.size*6,R.UNSIGNED_SHORT,ue.start*6*2)}this.currentIndex=0}},B.prototype.start=function(){this.renderer.bindShader(this.shader),c.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},B.prototype.stop=function(){this.flush()},B.prototype.destroy=function(){for(var R=0;R<this.vaoMax;R++)this.vertexBuffers[R]&&this.vertexBuffers[R].destroy(),this.vaos[R]&&this.vaos[R].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),A.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var D=0;D<this.buffers.length;++D)this.buffers[D].destroy()},B}(n.default);t.default=C,o.default.registerPlugin("sprite",C)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("../../Shader"),n=f(a);g("path");function f(h){return h&&h.__esModule?h:{default:h}}var o=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`);function d(h,u){var r=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor;
}
`,i=o;i=i.replace(/%count%/gi,u),i=i.replace(/%forloop%/gi,v(u));for(var s=new n.default(h,r,i),p=[],l=0;l<u;l++)p[l]=l;return s.bind(),s.uniforms.uSamplers=p,s}function v(h){var u="";u+=`
`,u+=`
`;for(var r=0;r<h;r++)r>0&&(u+=`
else `),r<h-1&&(u+="if(textureId == "+r+".0)"),u+=`
{`,u+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",u+=`
}`;return u+=`
`,u+=`
`,u}},{"../../Shader":44,path:8}],108:[function(g,e,t){t.__esModule=!0;var a=function(){function E(O,P){for(var C=0;C<P.length;C++){var A=P[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,P,C){return P&&E(O.prototype,P),C&&E(O,C),O}}(),n=g("../sprites/Sprite"),f=x(n),o=g("../textures/Texture"),d=x(o),v=g("../math"),h=g("../utils"),u=g("../const"),r=g("../settings"),i=x(r),s=g("./TextStyle"),p=x(s),l=g("./TextMetrics"),c=x(l),m=g("../utils/trimCanvas"),_=x(m);function x(E){return E&&E.__esModule?E:{default:E}}function T(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function y(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function w(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var b={texture:!0,children:!1,baseTexture:!0},S=function(E){w(O,E);function O(P,C,A){T(this,O),A=A||document.createElement("canvas"),A.width=3,A.height=3;var B=d.default.fromCanvas(A,i.default.SCALE_MODE,"text");B.orig=new v.Rectangle,B.trim=new v.Rectangle;var I=y(this,E.call(this,B));return d.default.addToCache(I._texture,I._texture.baseTexture.textureCacheIds[0]),I.canvas=A,I.context=I.canvas.getContext("2d"),I.resolution=i.default.RESOLUTION,I._text=null,I._style=null,I._styleListener=null,I._font="",I.text=P,I.style=C,I.localStyleID=-1,I}return O.prototype.updateText=function(C){var A=this._style;if(this.localStyleID!==A.styleID&&(this.dirty=!0,this.localStyleID=A.styleID),!(!this.dirty&&C)){this._font=this._style.toFontString();var B=this.context,I=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),R=I.width,D=I.height,L=I.lines,F=I.lineHeight,N=I.lineWidths,U=I.maxLineWidth,k=I.fontProperties;this.canvas.width=Math.ceil((Math.max(1,R)+A.padding*2)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,D)+A.padding*2)*this.resolution),B.scale(this.resolution,this.resolution),B.clearRect(0,0,this.canvas.width,this.canvas.height),B.font=this._font,B.strokeStyle=A.stroke,B.lineWidth=A.strokeThickness,B.textBaseline=A.textBaseline,B.lineJoin=A.lineJoin,B.miterLimit=A.miterLimit;var G=void 0,W=void 0;if(A.dropShadow){B.fillStyle=A.dropShadowColor,B.globalAlpha=A.dropShadowAlpha,B.shadowBlur=A.dropShadowBlur,A.dropShadowBlur>0&&(B.shadowColor=A.dropShadowColor);for(var K=Math.cos(A.dropShadowAngle)*A.dropShadowDistance,q=Math.sin(A.dropShadowAngle)*A.dropShadowDistance,Q=0;Q<L.length;Q++)G=A.strokeThickness/2,W=A.strokeThickness/2+Q*F+k.ascent,A.align==="right"?G+=U-N[Q]:A.align==="center"&&(G+=(U-N[Q])/2),A.fill&&(this.drawLetterSpacing(L[Q],G+K+A.padding,W+q+A.padding),A.stroke&&A.strokeThickness&&(B.strokeStyle=A.dropShadowColor,this.drawLetterSpacing(L[Q],G+K+A.padding,W+q+A.padding,!0),B.strokeStyle=A.stroke))}B.shadowBlur=0,B.globalAlpha=1,B.fillStyle=this._generateFillStyle(A,L);for(var J=0;J<L.length;J++)G=A.strokeThickness/2,W=A.strokeThickness/2+J*F+k.ascent,A.align==="right"?G+=U-N[J]:A.align==="center"&&(G+=(U-N[J])/2),A.stroke&&A.strokeThickness&&this.drawLetterSpacing(L[J],G+A.padding,W+A.padding,!0),A.fill&&this.drawLetterSpacing(L[J],G+A.padding,W+A.padding);this.updateTexture()}},O.prototype.drawLetterSpacing=function(C,A,B){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,R=this._style,D=R.letterSpacing;if(D===0){I?this.context.strokeText(C,A,B):this.context.fillText(C,A,B);return}for(var L=String.prototype.split.call(C,""),F=A,N=0,U="";N<C.length;)U=L[N++],I?this.context.strokeText(U,F,B):this.context.fillText(U,F,B),F+=this.context.measureText(U).width+D},O.prototype.updateTexture=function(){var C=this.canvas;if(this._style.trim){var A=(0,_.default)(C);A.data&&(C.width=A.width,C.height=A.height,this.context.putImageData(A.data,0,0))}var B=this._texture,I=this._style,R=I.trim?0:I.padding,D=B.baseTexture;D.hasLoaded=!0,D.resolution=this.resolution,D.realWidth=C.width,D.realHeight=C.height,D.width=C.width/this.resolution,D.height=C.height/this.resolution,B.trim.width=B._frame.width=C.width/this.resolution,B.trim.height=B._frame.height=C.height/this.resolution,B.trim.x=-R,B.trim.y=-R,B.orig.width=B._frame.width-R*2,B.orig.height=B._frame.height-R*2,this._onTextureUpdate(),D.emit("update",D),this.dirty=!1},O.prototype.renderWebGL=function(C){this.resolution!==C.resolution&&(this.resolution=C.resolution,this.dirty=!0),this.updateText(!0),E.prototype.renderWebGL.call(this,C)},O.prototype._renderCanvas=function(C){this.resolution!==C.resolution&&(this.resolution=C.resolution,this.dirty=!0),this.updateText(!0),E.prototype._renderCanvas.call(this,C)},O.prototype.getLocalBounds=function(C){return this.updateText(!0),E.prototype.getLocalBounds.call(this,C)},O.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},O.prototype._onStyleChange=function(){this.dirty=!0},O.prototype._generateFillStyle=function(C,A){if(!Array.isArray(C.fill))return C.fill;if(navigator.isCocoonJS)return C.fill[0];var B=void 0,I=void 0,R=void 0,D=void 0,L=this.canvas.width/this.resolution,F=this.canvas.height/this.resolution,N=C.fill.slice(),U=C.fillGradientStops.slice();if(!U.length)for(var k=N.length+1,G=1;G<k;++G)U.push(G/k);if(N.unshift(C.fill[0]),U.unshift(0),N.push(C.fill[C.fill.length-1]),U.push(1),C.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){B=this.context.createLinearGradient(L/2,0,L/2,F),I=(N.length+1)*A.length,R=0;for(var W=0;W<A.length;W++){R+=1;for(var K=0;K<N.length;K++)typeof U[K]=="number"?D=U[K]/A.length+W/A.length:D=R/I,B.addColorStop(D,N[K]),R++}}else{B=this.context.createLinearGradient(0,F/2,L,F/2),I=N.length+1,R=1;for(var q=0;q<N.length;q++)typeof U[q]=="number"?D=U[q]:D=R/I,B.addColorStop(D,N[q]),R++}return B},O.prototype.destroy=function(C){typeof C=="boolean"&&(C={children:C}),C=Object.assign({},b,C),E.prototype.destroy.call(this,C),this.context=null,this.canvas=null,this._style=null},a(O,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(C){this.updateText(!0);var A=(0,h.sign)(this.scale.x)||1;this.scale.x=A*C/this._texture.orig.width,this._width=C}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(C){this.updateText(!0);var A=(0,h.sign)(this.scale.y)||1;this.scale.y=A*C/this._texture.orig.height,this._height=C}},{key:"style",get:function(){return this._style},set:function(C){C=C||{},C instanceof p.default?this._style=C:this._style=new p.default(C),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(C){C=String(C===""||C===null||C===void 0?" ":C),this._text!==C&&(this._text=C,this.dirty=!0)}}]),O}(f.default);t.default=S},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(g,e,t){t.__esModule=!0;function a(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var n=function(){function o(d,v,h,u,r,i,s,p,l){a(this,o),this.text=d,this.style=v,this.width=h,this.height=u,this.lines=r,this.lineWidths=i,this.lineHeight=s,this.maxLineWidth=p,this.fontProperties=l}return o.measureText=function(v,h,u){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o._canvas;u=u??h.wordWrap;var i=h.toFontString(),s=o.measureFont(i),p=r.getContext("2d");p.font=i;for(var l=u?o.wordWrap(v,h,r):v,c=l.split(/(?:\r\n|\r|\n)/),m=new Array(c.length),_=0,x=0;x<c.length;x++){var T=p.measureText(c[x]).width+(c[x].length-1)*h.letterSpacing;m[x]=T,_=Math.max(_,T)}var y=_+h.strokeThickness;h.dropShadow&&(y+=h.dropShadowDistance);var w=h.lineHeight||s.fontSize+h.strokeThickness,b=Math.max(w,s.fontSize+h.strokeThickness)+(c.length-1)*(w+h.leading);return h.dropShadow&&(b+=h.dropShadowDistance),new o(v,h,y,b,c,m,w+h.leading,_,s)},o.wordWrap=function(v,h){for(var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o._canvas,r=u.getContext("2d"),i=0,s="",p="",l={},c=h.letterSpacing,m=h.whiteSpace,_=o.collapseSpaces(m),x=o.collapseNewlines(m),T=!_,y=h.wordWrapWidth+c,w=o.tokenize(v),b=0;b<w.length;b++){var S=w[b];if(o.isNewline(S)){if(!x){p+=o.addLine(s),T=!_,s="",i=0;continue}S=" "}if(_){var E=o.isBreakingSpace(S),O=o.isBreakingSpace(s[s.length-1]);if(E&&O)continue}var P=o.getFromCache(S,c,l,r);if(P>y)if(s!==""&&(p+=o.addLine(s),s="",i=0),o.canBreakWords(S,h.breakWords))for(var C=S.split(""),A=0;A<C.length;A++){for(var B=C[A],I=1;C[A+I];){var R=C[A+I],D=B[B.length-1];if(!o.canBreakChars(D,R,S,A,h.breakWords))B+=R;else break;I++}A+=B.length-1;var L=o.getFromCache(B,c,l,r);L+i>y&&(p+=o.addLine(s),T=!1,s="",i=0),s+=B,i+=L}else{s.length>0&&(p+=o.addLine(s),s="",i=0);var F=b===w.length-1;p+=o.addLine(S,!F),T=!1,s="",i=0}else P+i>y&&(T=!1,p+=o.addLine(s),s="",i=0),(s.length>0||!o.isBreakingSpace(S)||T)&&(s+=S,i+=P)}return p+=o.addLine(s,!1),p},o.addLine=function(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return v=o.trimRight(v),v=h?v+`
`:v,v},o.getFromCache=function(v,h,u,r){var i=u[v];if(i===void 0){var s=v.length*h;i=r.measureText(v).width+s,u[v]=i}return i},o.collapseSpaces=function(v){return v==="normal"||v==="pre-line"},o.collapseNewlines=function(v){return v==="normal"},o.trimRight=function(v){if(typeof v!="string")return"";for(var h=v.length-1;h>=0;h--){var u=v[h];if(!o.isBreakingSpace(u))break;v=v.slice(0,-1)}return v},o.isNewline=function(v){return typeof v!="string"?!1:o._newlines.indexOf(v.charCodeAt(0))>=0},o.isBreakingSpace=function(v){return typeof v!="string"?!1:o._breakingSpaces.indexOf(v.charCodeAt(0))>=0},o.tokenize=function(v){var h=[],u="";if(typeof v!="string")return h;for(var r=0;r<v.length;r++){var i=v[r];if(o.isBreakingSpace(i)||o.isNewline(i)){u!==""&&(h.push(u),u=""),h.push(i);continue}u+=i}return u!==""&&h.push(u),h},o.canBreakWords=function(v,h){return h},o.canBreakChars=function(v,h,u,r,i){return!0},o.measureFont=function(v){if(o._fonts[v])return o._fonts[v];var h={},u=o._canvas,r=o._context;r.font=v;var i=o.METRICS_STRING+o.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width),p=Math.ceil(r.measureText(o.BASELINE_SYMBOL).width),l=2*p;p=p*o.BASELINE_MULTIPLIER|0,u.width=s,u.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=v,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,p);var c=r.getImageData(0,0,s,l).data,m=c.length,_=s*4,x=0,T=0,y=!1;for(x=0;x<p;++x){for(var w=0;w<_;w+=4)if(c[T+w]!==255){y=!0;break}if(!y)T+=_;else break}for(h.ascent=p-x,T=m-_,y=!1,x=l;x>p;--x){for(var b=0;b<_;b+=4)if(c[T+b]!==255){y=!0;break}if(!y)T-=_;else break}return h.descent=x-p,h.fontSize=h.ascent+h.descent,o._fonts[v]=h,h},o.clearMetrics=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";v?delete o._fonts[v]:o._fonts={}},o}();t.default=n;var f=document.createElement("canvas");f.width=f.height=10,n._canvas=f,n._context=f.getContext("2d"),n._fonts={},n.METRICS_STRING="|Éq",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(g,e,t){t.__esModule=!0;var a=function(){function p(l,c){for(var m=0;m<c.length;m++){var _=c[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}return function(l,c,m){return c&&p(l.prototype,c),m&&p(l,m),l}}(),n=g("../const"),f=g("../utils");function o(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}var d={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},v=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],h=function(){function p(l){o(this,p),this.styleID=0,this.reset(),s(this,l,l)}return p.prototype.clone=function(){var c={};return s(c,this,d),new p(c)},p.prototype.reset=function(){s(this,d,d)},p.prototype.toFontString=function(){var c=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,m=this.fontFamily;Array.isArray(this.fontFamily)||(m=this.fontFamily.split(","));for(var _=m.length-1;_>=0;_--){var x=m[_].trim();!/([\"\'])[^\'\"]+\1/.test(x)&&v.indexOf(x)<0&&(x='"'+x+'"'),m[_]=x}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+c+" "+m.join(",")},a(p,[{key:"align",get:function(){return this._align},set:function(c){this._align!==c&&(this._align=c,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(c){this._breakWords!==c&&(this._breakWords=c,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(c){this._dropShadow!==c&&(this._dropShadow=c,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(c){this._dropShadowAlpha!==c&&(this._dropShadowAlpha=c,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(c){this._dropShadowAngle!==c&&(this._dropShadowAngle=c,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(c){this._dropShadowBlur!==c&&(this._dropShadowBlur=c,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(c){var m=r(c);this._dropShadowColor!==m&&(this._dropShadowColor=m,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(c){this._dropShadowDistance!==c&&(this._dropShadowDistance=c,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(c){var m=r(c);this._fill!==m&&(this._fill=m,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(c){this._fillGradientType!==c&&(this._fillGradientType=c,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(c){i(this._fillGradientStops,c)||(this._fillGradientStops=c,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(c){this.fontFamily!==c&&(this._fontFamily=c,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(c){this._fontSize!==c&&(this._fontSize=c,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(c){this._fontStyle!==c&&(this._fontStyle=c,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(c){this._fontVariant!==c&&(this._fontVariant=c,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(c){this._fontWeight!==c&&(this._fontWeight=c,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(c){this._letterSpacing!==c&&(this._letterSpacing=c,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(c){this._lineHeight!==c&&(this._lineHeight=c,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(c){this._leading!==c&&(this._leading=c,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(c){this._lineJoin!==c&&(this._lineJoin=c,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(c){this._miterLimit!==c&&(this._miterLimit=c,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(c){this._padding!==c&&(this._padding=c,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(c){var m=r(c);this._stroke!==m&&(this._stroke=m,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(c){this._strokeThickness!==c&&(this._strokeThickness=c,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(c){this._textBaseline!==c&&(this._textBaseline=c,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(c){this._trim!==c&&(this._trim=c,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(c){this._whiteSpace!==c&&(this._whiteSpace=c,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(c){this._wordWrap!==c&&(this._wordWrap=c,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(c){this._wordWrapWidth!==c&&(this._wordWrapWidth=c,this.styleID++)}}]),p}();t.default=h;function u(p){return typeof p=="number"?(0,f.hex2string)(p):(typeof p=="string"&&p.indexOf("0x")===0&&(p=p.replace("0x","#")),p)}function r(p){if(Array.isArray(p)){for(var l=0;l<p.length;++l)p[l]=u(p[l]);return p}else return u(p)}function i(p,l){if(!Array.isArray(p)||!Array.isArray(l)||p.length!==l.length)return!1;for(var c=0;c<p.length;++c)if(p[c]!==l[c])return!1;return!0}function s(p,l,c){for(var m in c)Array.isArray(l[m])?p[m]=l[m].slice():p[m]=l[m]}},{"../const":46,"../utils":125}],111:[function(g,e,t){t.__esModule=!0;var a=g("./BaseTexture"),n=d(a),f=g("../settings"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,c=arguments[2],m=arguments[3];v(this,s);var _=h(this,i.call(this,null,c));return _.resolution=m||o.default.RESOLUTION,_.width=Math.ceil(p),_.height=Math.ceil(l),_.realWidth=_.width*_.resolution,_.realHeight=_.height*_.resolution,_.scaleMode=c!==void 0?c:o.default.SCALE_MODE,_.hasLoaded=!0,_._glRenderTargets={},_._canvasRenderTarget=null,_.valid=!1,_}return s.prototype.resize=function(l,c){l=Math.ceil(l),c=Math.ceil(c),!(l===this.width&&c===this.height)&&(this.valid=l>0&&c>0,this.width=l,this.height=c,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},s.prototype.destroy=function(){i.prototype.destroy.call(this,!0),this.renderer=null},s}(n.default);t.default=r},{"../settings":101,"./BaseTexture":112}],112:[function(g,e,t){t.__esModule=!0;var a=g("../utils"),n=g("../settings"),f=i(n),o=g("eventemitter3"),d=i(o),v=g("../utils/determineCrossOrigin"),h=i(v),u=g("bit-twiddle"),r=i(u);function i(m){return m&&m.__esModule?m:{default:m}}function s(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function p(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function l(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var c=function(m){l(_,m);function _(x,T,y){s(this,_);var w=p(this,m.call(this));return w.uid=(0,a.uid)(),w.touched=0,w.resolution=y||f.default.RESOLUTION,w.width=100,w.height=100,w.realWidth=100,w.realHeight=100,w.scaleMode=T!==void 0?T:f.default.SCALE_MODE,w.hasLoaded=!1,w.isLoading=!1,w.source=null,w.origSource=null,w.imageType=null,w.sourceScale=1,w.premultipliedAlpha=!0,w.imageUrl=null,w.isPowerOfTwo=!1,w.mipmap=f.default.MIPMAP_TEXTURES,w.wrapMode=f.default.WRAP_MODE,w._glTextures={},w._enabled=0,w._virtalBoundId=-1,w._destroyed=!1,w.textureCacheIds=[],x&&w.loadSource(x),w}return _.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},_.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=r.default.isPow2(this.realWidth)&&r.default.isPow2(this.realHeight)},_.prototype.loadSource=function(T){var y=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,y&&this.source&&(this.source.onload=null,this.source.onerror=null);var w=!this.source;if(this.source=T,(T.src&&T.complete||T.getContext)&&T.width&&T.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),w&&this.emit("loaded",this);else if(!T.getContext){this.isLoading=!0;var b=this;if(T.onload=function(){if(b._updateImageType(),T.onload=null,T.onerror=null,!!b.isLoading){if(b.isLoading=!1,b._sourceLoaded(),b.imageType==="svg"){b._loadSvgSource();return}b.emit("loaded",b)}},T.onerror=function(){T.onload=null,T.onerror=null,b.isLoading&&(b.isLoading=!1,b.emit("error",b))},T.complete&&T.src){if(T.onload=null,T.onerror=null,b.imageType==="svg"){b._loadSvgSource();return}this.isLoading=!1,T.width&&T.height?(this._sourceLoaded(),y&&this.emit("loaded",this)):y&&this.emit("error",this)}}},_.prototype._updateImageType=function(){if(this.imageUrl){var T=(0,a.decomposeDataUri)(this.imageUrl),y=void 0;if(T&&T.mediaType==="image"){var w=T.subType.split("+")[0];if(y=(0,a.getUrlFileExtension)("."+w),!y)throw new Error("Invalid image type in data URI.")}else y=(0,a.getUrlFileExtension)(this.imageUrl),y||(y="png");this.imageType=y}},_.prototype._loadSvgSource=function(){if(this.imageType==="svg"){var T=(0,a.decomposeDataUri)(this.imageUrl);T?this._loadSvgSourceUsingDataUri(T):this._loadSvgSourceUsingXhr()}},_.prototype._loadSvgSourceUsingDataUri=function(T){var y=void 0;if(T.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");y=atob(T.data)}else y=T.data;this._loadSvgSourceUsingString(y)},_.prototype._loadSvgSourceUsingXhr=function(){var T=this,y=new XMLHttpRequest;y.onload=function(){if(y.readyState!==y.DONE||y.status!==200)throw new Error("Failed to load SVG using XHR.");T._loadSvgSourceUsingString(y.response)},y.onerror=function(){return T.emit("error",T)},y.open("GET",this.imageUrl,!0),y.send()},_.prototype._loadSvgSourceUsingString=function(T){var y=(0,a.getSvgSize)(T),w=y.width,b=y.height;if(!w||!b)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(w*this.sourceScale),this.realHeight=Math.round(b*this.sourceScale),this._updateDimensions();var S=document.createElement("canvas");S.width=this.realWidth,S.height=this.realHeight,S._pixiId="canvas_"+(0,a.uid)(),S.getContext("2d").drawImage(this.source,0,0,w,b,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=S,_.addToCache(this,S._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},_.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},_.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),_.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},_.prototype.dispose=function(){this.emit("dispose",this)},_.prototype.updateSourceImage=function(T){this.source.src=T,this.loadSource(this.source)},_.fromImage=function(T,y,w,b){var S=a.BaseTextureCache[T];if(!S){var E=new Image;y===void 0&&T.indexOf("data:")!==0?E.crossOrigin=(0,h.default)(T):y&&(E.crossOrigin=typeof y=="string"?y:"anonymous"),S=new _(E,w),S.imageUrl=T,b&&(S.sourceScale=b),S.resolution=(0,a.getResolutionOfUrl)(T),E.src=T,_.addToCache(S,T)}return S},_.fromCanvas=function(T,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";T._pixiId||(T._pixiId=w+"_"+(0,a.uid)());var b=a.BaseTextureCache[T._pixiId];return b||(b=new _(T,y),_.addToCache(b,T._pixiId)),b},_.from=function(T,y,w){if(typeof T=="string")return _.fromImage(T,void 0,y,w);if(T instanceof HTMLImageElement){var b=T.src,S=a.BaseTextureCache[b];return S||(S=new _(T,y),S.imageUrl=b,w&&(S.sourceScale=w),S.resolution=(0,a.getResolutionOfUrl)(b),_.addToCache(S,b)),S}else if(T instanceof HTMLCanvasElement)return _.fromCanvas(T,y);return T},_.addToCache=function(T,y){y&&(T.textureCacheIds.indexOf(y)===-1&&T.textureCacheIds.push(y),a.BaseTextureCache[y]&&console.warn("BaseTexture added to the cache with an id ["+y+"] that already had an entry"),a.BaseTextureCache[y]=T)},_.removeFromCache=function(T){if(typeof T=="string"){var y=a.BaseTextureCache[T];if(y){var w=y.textureCacheIds.indexOf(T);return w>-1&&y.textureCacheIds.splice(w,1),delete a.BaseTextureCache[T],y}}else if(T&&T.textureCacheIds){for(var b=0;b<T.textureCacheIds.length;++b)delete a.BaseTextureCache[T.textureCacheIds[b]];return T.textureCacheIds.length=0,T}return null},_}(d.default);t.default=c},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(g,e,t){t.__esModule=!0;var a=g("./BaseRenderTexture"),n=d(a),f=g("./Texture"),o=d(f);function d(i){return i&&i.__esModule?i:{default:i}}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(p,l){v(this,s);var c=null;if(!(p instanceof n.default)){var m=arguments[1],_=arguments[2],x=arguments[3],T=arguments[4];console.warn("Please use RenderTexture.create("+m+", "+_+") instead of the ctor directly."),c=arguments[0],l=null,p=new n.default(m,_,x,T)}var y=h(this,i.call(this,p,l));return y.legacyRenderer=c,y.valid=!0,y._updateUvs(),y}return s.prototype.resize=function(l,c,m){l=Math.ceil(l),c=Math.ceil(c),this.valid=l>0&&c>0,this._frame.width=this.orig.width=l,this._frame.height=this.orig.height=c,m||this.baseTexture.resize(l,c),this._updateUvs()},s.create=function(l,c,m,_){return new s(new n.default(l,c,m,_))},s}(o.default);t.default=r},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(g,e,t){t.__esModule=!0;var a=function(){function v(h,u){for(var r=0;r<u.length;r++){var i=u[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}return function(h,u,r){return u&&v(h.prototype,u),r&&v(h,r),h}}(),n=g("../"),f=g("../utils");function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){a(v,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function v(h,u){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;o(this,v),this.baseTexture=h,this.textures={},this.animations={},this.data=u,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return v.prototype._updateResolution=function(u){var r=this.data.meta.scale,i=(0,f.getResolutionOfUrl)(u,null);return i===null&&(i=r!==void 0?parseFloat(r):1),i!==1&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},v.prototype.parse=function(u){this._batchIndex=0,this._callback=u,this._frameKeys.length<=v.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},v.prototype._processFrames=function(u){for(var r=u,i=v.BATCH_SIZE,s=this.baseTexture.sourceScale;r-u<i&&r<this._frameKeys.length;){var p=this._frameKeys[r],l=this._frames[p],c=l.frame;if(c){var m=null,_=null,x=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,T=new n.Rectangle(0,0,Math.floor(x.w*s)/this.resolution,Math.floor(x.h*s)/this.resolution);l.rotated?m=new n.Rectangle(Math.floor(c.x*s)/this.resolution,Math.floor(c.y*s)/this.resolution,Math.floor(c.h*s)/this.resolution,Math.floor(c.w*s)/this.resolution):m=new n.Rectangle(Math.floor(c.x*s)/this.resolution,Math.floor(c.y*s)/this.resolution,Math.floor(c.w*s)/this.resolution,Math.floor(c.h*s)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(_=new n.Rectangle(Math.floor(l.spriteSourceSize.x*s)/this.resolution,Math.floor(l.spriteSourceSize.y*s)/this.resolution,Math.floor(c.w*s)/this.resolution,Math.floor(c.h*s)/this.resolution)),this.textures[p]=new n.Texture(this.baseTexture,m,T,_,l.rotated?2:0,l.anchor),n.Texture.addToCache(this.textures[p],p)}r++}},v.prototype._processAnimations=function(){var u=this.data.animations||{};for(var r in u){this.animations[r]=[];for(var p=u[r],i=Array.isArray(p),s=0,p=i?p:p[Symbol.iterator]();;){var l;if(i){if(s>=p.length)break;l=p[s++]}else{if(s=p.next(),s.done)break;l=s.value}var c=l;this.animations[r].push(this.textures[c])}}},v.prototype._parseComplete=function(){var u=this._callback;this._callback=null,this._batchIndex=0,u.call(this,this.textures)},v.prototype._nextBatch=function(){var u=this;this._processFrames(this._batchIndex*v.BATCH_SIZE),this._batchIndex++,setTimeout(function(){u._batchIndex*v.BATCH_SIZE<u._frameKeys.length?u._nextBatch():(u._processAnimations(),u._parseComplete())},0)},v.prototype.destroy=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,u&&this.baseTexture.destroy(),this.baseTexture=null},v}();t.default=d},{"../":65,"../utils":125}],115:[function(g,e,t){t.__esModule=!0;var a=function(){function b(S,E){for(var O=0;O<E.length;O++){var P=E[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,E,O){return E&&b(S.prototype,E),O&&b(S,O),S}}(),n=g("./BaseTexture"),f=c(n),o=g("./VideoBaseTexture"),d=c(o),v=g("./TextureUvs"),h=c(v),u=g("eventemitter3"),r=c(u),i=g("../math"),s=g("../utils"),p=g("../settings"),l=c(p);function c(b){return b&&b.__esModule?b:{default:b}}function m(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function _(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function x(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var T=function(b){x(S,b);function S(E,O,P,C,A,B){m(this,S);var I=_(this,b.call(this));if(I.noFrame=!1,O||(I.noFrame=!0,O=new i.Rectangle(0,0,1,1)),E instanceof S&&(E=E.baseTexture),I.baseTexture=E,I._frame=O,I.trim=C,I.valid=!1,I.requiresUpdate=!1,I._uvs=null,I.orig=P||O,I._rotate=Number(A||0),A===!0)I._rotate=2;else if(I._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return E.hasLoaded?(I.noFrame&&(O=new i.Rectangle(0,0,E.width,E.height),E.on("update",I.onBaseTextureUpdated,I)),I.frame=O):E.once("loaded",I.onBaseTextureLoaded,I),I.defaultAnchor=B?new i.Point(B.x,B.y):new i.Point(0,0),I._updateID=0,I.transform=null,I.textureCacheIds=[],I}return S.prototype.update=function(){this.baseTexture.update()},S.prototype.onBaseTextureLoaded=function(O){this._updateID++,this.noFrame?this.frame=new i.Rectangle(0,0,O.width,O.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},S.prototype.onBaseTextureUpdated=function(O){this._updateID++,this._frame.width=O.width,this._frame.height=O.height,this.emit("update",this)},S.prototype.destroy=function(O){this.baseTexture&&(O&&(s.TextureCache[this.baseTexture.imageUrl]&&S.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,S.removeFromCache(this),this.textureCacheIds=null},S.prototype.clone=function(){return new S(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},S.prototype._updateUvs=function(){this._uvs||(this._uvs=new h.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},S.fromImage=function(O,P,C,A){var B=s.TextureCache[O];return B||(B=new S(f.default.fromImage(O,P,C,A)),S.addToCache(B,O)),B},S.fromFrame=function(O){var P=s.TextureCache[O];if(!P)throw new Error('The frameId "'+O+'" does not exist in the texture cache');return P},S.fromCanvas=function(O,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new S(f.default.fromCanvas(O,P,C))},S.fromVideo=function(O,P){return typeof O=="string"?S.fromVideoUrl(O,P):new S(d.default.fromVideo(O,P))},S.fromVideoUrl=function(O,P){return new S(d.default.fromUrl(O,P))},S.from=function(O){if(typeof O=="string"){var P=s.TextureCache[O];if(!P){var C=O.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return C?S.fromVideoUrl(O):S.fromImage(O)}return P}else{if(O instanceof HTMLImageElement)return new S(f.default.from(O));if(O instanceof HTMLCanvasElement)return S.fromCanvas(O,l.default.SCALE_MODE,"HTMLCanvasElement");if(O instanceof HTMLVideoElement)return S.fromVideo(O);if(O instanceof f.default)return new S(O)}return O},S.fromLoader=function(O,P,C){var A=new f.default(O,void 0,(0,s.getResolutionOfUrl)(P)),B=new S(A);return A.imageUrl=P,C||(C=P),f.default.addToCache(B.baseTexture,C),S.addToCache(B,C),C!==P&&(f.default.addToCache(B.baseTexture,P),S.addToCache(B,P)),B},S.addToCache=function(O,P){P&&(O.textureCacheIds.indexOf(P)===-1&&O.textureCacheIds.push(P),s.TextureCache[P]&&console.warn("Texture added to the cache with an id ["+P+"] that already had an entry"),s.TextureCache[P]=O)},S.removeFromCache=function(O){if(typeof O=="string"){var P=s.TextureCache[O];if(P){var C=P.textureCacheIds.indexOf(O);return C>-1&&P.textureCacheIds.splice(C,1),delete s.TextureCache[O],P}}else if(O&&O.textureCacheIds){for(var A=0;A<O.textureCacheIds.length;++A)s.TextureCache[O.textureCacheIds[A]]===O&&delete s.TextureCache[O.textureCacheIds[A]];return O.textureCacheIds.length=0,O}return null},a(S,[{key:"frame",get:function(){return this._frame},set:function(O){this._frame=O,this.noFrame=!1;var P=O.x,C=O.y,A=O.width,B=O.height,I=P+A>this.baseTexture.width,R=C+B>this.baseTexture.height;if(I||R){var D=I&&R?"and":"or",L="X: "+P+" + "+A+" = "+(P+A)+" > "+this.baseTexture.width,F="Y: "+C+" + "+B+" = "+(C+B)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(L+" "+D+" "+F))}this.valid=A&&B&&this.baseTexture.hasLoaded,!this.trim&&!this.rotate&&(this.orig=O),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(O){this._rotate=O,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),S}(r.default);t.default=T;function y(){var b=document.createElement("canvas");b.width=10,b.height=10;var S=b.getContext("2d");return S.fillStyle="white",S.fillRect(0,0,10,10),new T(new f.default(b))}function w(b){b.destroy=function(){},b.on=function(){},b.once=function(){},b.emit=function(){}}T.EMPTY=new T(new f.default),w(T.EMPTY),w(T.EMPTY.baseTexture),T.WHITE=y(),w(T.WHITE),w(T.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(g,e,t){t.__esModule=!0;var a=function(){function u(r,i){for(var s=0;s<i.length;s++){var p=i[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}return function(r,i,s){return i&&u(r.prototype,i),s&&u(r,s),r}}(),n=g("../math/Matrix"),f=o(n);function o(u){return u&&u.__esModule?u:{default:u}}function d(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var v=new f.default,h=function(){function u(r,i){d(this,u),this._texture=r,this.mapCoord=new f.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i}return u.prototype.multiplyUvs=function(i,s){s===void 0&&(s=i);for(var p=this.mapCoord,l=0;l<i.length;l+=2){var c=i[l],m=i[l+1];s[l]=c*p.a+m*p.c+p.tx,s[l+1]=c*p.b+m*p.d+p.ty}return s},u.prototype.update=function(i){var s=this._texture;if(!s||!s.valid||!i&&this._lastTextureID===s._updateID)return!1;this._lastTextureID=s._updateID;var p=s._uvs;this.mapCoord.set(p.x1-p.x0,p.y1-p.y0,p.x3-p.x0,p.y3-p.y0,p.x0,p.y0);var l=s.orig,c=s.trim;c&&(v.set(l.width/c.width,0,0,l.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(v));var m=s.baseTexture,_=this.uClampFrame,x=this.clampMargin/m.resolution,T=this.clampOffset;return _[0]=(s._frame.x+x+T)/m.width,_[1]=(s._frame.y+x+T)/m.height,_[2]=(s._frame.x+s._frame.width-x+T)/m.width,_[3]=(s._frame.y+s._frame.height-x+T)/m.height,this.uClampOffset[0]=T/m.realWidth,this.uClampOffset[1]=T/m.realHeight,!0},a(u,[{key:"texture",get:function(){return this._texture},set:function(i){this._texture=i,this._lastTextureID=-1}}]),u}();t.default=h},{"../math/Matrix":67}],117:[function(g,e,t){t.__esModule=!0;var a=g("../math/GroupD8"),n=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(){o(this,v),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return v.prototype.set=function(u,r,i){var s=r.width,p=r.height;if(i){var l=u.width/2/s,c=u.height/2/p,m=u.x/s+l,_=u.y/p+c;i=n.default.add(i,n.default.NW),this.x0=m+l*n.default.uX(i),this.y0=_+c*n.default.uY(i),i=n.default.add(i,2),this.x1=m+l*n.default.uX(i),this.y1=_+c*n.default.uY(i),i=n.default.add(i,2),this.x2=m+l*n.default.uX(i),this.y2=_+c*n.default.uY(i),i=n.default.add(i,2),this.x3=m+l*n.default.uX(i),this.y3=_+c*n.default.uY(i)}else this.x0=u.x/s,this.y0=u.y/p,this.x1=(u.x+u.width)/s,this.y1=u.y/p,this.x2=(u.x+u.width)/s,this.y2=(u.y+u.height)/p,this.x3=u.x/s,this.y3=(u.y+u.height)/p;this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535,this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535,this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535,this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535},v}();t.default=d},{"../math/GroupD8":66}],118:[function(g,e,t){t.__esModule=!0;var a=function(){function m(_,x){for(var T=0;T<x.length;T++){var y=x[T];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(_,y.key,y)}}return function(_,x,T){return x&&m(_.prototype,x),T&&m(_,T),_}}(),n=g("./BaseTexture"),f=r(n),o=g("../utils"),d=g("../ticker"),v=g("../const"),h=g("../utils/determineCrossOrigin"),u=r(h);function r(m){return m&&m.__esModule?m:{default:m}}function i(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function s(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function p(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var l=function(m){p(_,m);function _(x,T){if(i(this,_),!x)throw new Error("No video source element specified.");(x.readyState===x.HAVE_ENOUGH_DATA||x.readyState===x.HAVE_FUTURE_DATA)&&x.width&&x.height&&(x.complete=!0);var y=s(this,m.call(this,x,T));return y.width=x.videoWidth,y.height=x.videoHeight,y._autoUpdate=!0,y._isAutoUpdating=!1,y.autoPlay=!0,y.update=y.update.bind(y),y._onCanPlay=y._onCanPlay.bind(y),x.addEventListener("play",y._onPlayStart.bind(y)),x.addEventListener("pause",y._onPlayStop.bind(y)),y.hasLoaded=!1,y.__loaded=!1,y._isSourceReady()?y._onCanPlay():(x.addEventListener("canplay",y._onCanPlay),x.addEventListener("canplaythrough",y._onCanPlay)),y}return _.prototype._isSourcePlaying=function(){var T=this.source;return T.currentTime>0&&T.paused===!1&&T.ended===!1&&T.readyState>2},_.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},_.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(d.shared.add(this.update,this,v.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},_.prototype._onPlayStop=function(){this._isAutoUpdating&&(d.shared.remove(this.update,this),this._isAutoUpdating=!1)},_.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},_.prototype.destroy=function(){this._isAutoUpdating&&d.shared.remove(this.update,this),this.source&&this.source._pixiId&&(f.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),m.prototype.destroy.call(this)},_.fromVideo=function(T,y){T._pixiId||(T._pixiId="video_"+(0,o.uid)());var w=o.BaseTextureCache[T._pixiId];return w||(w=new _(T,y),f.default.addToCache(w,T._pixiId)),w},_.fromUrl=function(T,y,w){var b=document.createElement("video");b.setAttribute("webkit-playsinline",""),b.setAttribute("playsinline","");var S=Array.isArray(T)?T[0].src||T[0]:T.src||T;if(w===void 0&&S.indexOf("data:")!==0?b.crossOrigin=(0,u.default)(S):w&&(b.crossOrigin=typeof w=="string"?w:"anonymous"),Array.isArray(T))for(var E=0;E<T.length;++E)b.appendChild(c(T[E].src||T[E],T[E].mime));else b.appendChild(c(S,T.mime));return b.load(),_.fromVideo(b,y)},a(_,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(T){T!==this._autoUpdate&&(this._autoUpdate=T,!this._autoUpdate&&this._isAutoUpdating?(d.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(d.shared.add(this.update,this,v.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),_}(f.default);t.default=l,l.fromUrls=l.fromUrl;function c(m,_){_||(m=m.split("?").shift().toLowerCase(),_="video/"+m.substr(m.lastIndexOf(".")+1));var x=document.createElement("source");return x.src=m,x.type=_,x}},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("../settings"),f=h(n),o=g("../const"),d=g("./TickerListener"),v=h(d);function h(i){return i&&i.__esModule?i:{default:i}}function u(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function(){function i(){var s=this;u(this,i),this._head=new v.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/f.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(p){s._requestId=null,s.started&&(s.update(p),s.started&&s._requestId===null&&s._head.next&&(s._requestId=requestAnimationFrame(s._tick)))}}return i.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(p,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new v.default(p,l,c))},i.prototype.addOnce=function(p,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new v.default(p,l,c,!0))},i.prototype._addListener=function(p){var l=this._head.next,c=this._head;if(!l)p.connect(c);else{for(;l;){if(p.priority>l.priority){p.connect(c);break}c=l,l=l.next}p.previous||p.connect(c)}return this._startIfPossible(),this},i.prototype.remove=function(p,l){for(var c=this._head.next;c;)c.match(p,l)?c=c.destroy():c=c.next;return this._head.next||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.destroy=function(){this.stop();for(var p=this._head.next;p;)p=p.destroy(!0);this._head.destroy(),this._head=null},i.prototype.update=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),l=void 0;if(p>this.lastTime){l=this.elapsedMS=p-this.lastTime,l>this._maxElapsedMS&&(l=this._maxElapsedMS),this.deltaTime=l*f.default.TARGET_FPMS*this.speed;for(var c=this._head,m=c.next;m;)m=m.emit(this.deltaTime);c.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=p},a(i,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(p){var l=Math.min(Math.max(0,p)/1e3,f.default.TARGET_FPMS);this._maxElapsedMS=1/l}}]),i}();t.default=r},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;a(this,f),this.fn=o,this.context=d,this.priority=v,this.once=h,this.next=null,this.previous=null,this._destroyed=!1}return f.prototype.match=function(d,v){return v=v||null,this.fn===d&&this.context===v},f.prototype.emit=function(d){this.fn&&(this.context?this.fn.call(this.context,d):this.fn(d));var v=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),v},f.prototype.connect=function(d){this.previous=d,d.next&&(d.next.previous=this),this.next=d.next,d.next=this},f.prototype.destroy=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var v=this.next;return this.next=d?null:v,this.previous=null,v},f}();t.default=n},{}],121:[function(g,e,t){t.__esModule=!0,t.Ticker=t.shared=void 0;var a=g("./Ticker"),n=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var o=new n.default;o.autoStart=!0,o.destroy=function(){},t.shared=o,t.Ticker=n.default},{"./Ticker":119}],122:[function(g,e,t){t.__esModule=!0,t.default=a;function a(){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!n}},{}],123:[function(g,e,t){t.__esModule=!0,t.default=a;function a(n){for(var f=n*6,o=new Uint16Array(f),d=0,v=0;d<f;d+=6,v+=4)o[d+0]=v+0,o[d+1]=v+1,o[d+2]=v+2,o[d+3]=v+0,o[d+4]=v+2,o[d+5]=v+3;return o}},{}],124:[function(g,e,t){t.__esModule=!0,t.default=d;var a=g("url"),n=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var o=void 0;function d(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(v.indexOf("data:")===0)return"";h=h||window.location,o||(o=document.createElement("a")),o.href=v,v=n.default.parse(o.href);var u=!v.port&&h.port===""||v.port===h.port;return v.hostname!==h.hostname||!u||v.protocol!==h.protocol?"anonymous":""}},{url:38}],125:[function(g,e,t){t.__esModule=!0,t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.earcut=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=void 0,t.uid=S,t.hex2rgb=E,t.hex2string=O,t.rgb2hex=P,t.getResolutionOfUrl=C,t.decomposeDataUri=A,t.getUrlFileExtension=B,t.getSvgSize=I,t.skipHello=R,t.sayHello=D,t.isWebGLSupported=L,t.sign=F,t.destroyTextureCache=k,t.clearTextureCache=G,t.correctBlendMode=K,t.premultiplyTint=q,t.premultiplyRgba=Q,t.premultiplyTintToRgba=J;var a=g("../const"),n=g("../settings"),f=y(n),o=g("eventemitter3"),d=y(o),v=g("./pluginTarget"),h=y(v),u=g("./mixin"),r=T(u),i=g("ismobilejs"),s=T(i),p=g("remove-array-items"),l=y(p),c=g("./mapPremultipliedBlendModes"),m=y(c),_=g("earcut"),x=y(_);function T(V){if(V&&V.__esModule)return V;var Z={};if(V!=null)for(var $ in V)Object.prototype.hasOwnProperty.call(V,$)&&(Z[$]=V[$]);return Z.default=V,Z}function y(V){return V&&V.__esModule?V:{default:V}}var w=0,b=!1;t.isMobile=s,t.removeItems=l.default,t.EventEmitter=d.default,t.pluginTarget=h.default,t.mixins=r,t.earcut=x.default;function S(){return++w}function E(V,Z){return Z=Z||[],Z[0]=(V>>16&255)/255,Z[1]=(V>>8&255)/255,Z[2]=(V&255)/255,Z}function O(V){return V=V.toString(16),V="000000".substr(0,6-V.length)+V,"#"+V}function P(V){return(V[0]*255<<16)+(V[1]*255<<8)+(V[2]*255|0)}function C(V,Z){var $=f.default.RETINA_PREFIX.exec(V);return $?parseFloat($[1]):Z!==void 0?Z:1}function A(V){var Z=a.DATA_URI.exec(V);if(Z)return{mediaType:Z[1]?Z[1].toLowerCase():void 0,subType:Z[2]?Z[2].toLowerCase():void 0,charset:Z[3]?Z[3].toLowerCase():void 0,encoding:Z[4]?Z[4].toLowerCase():void 0,data:Z[5]}}function B(V){var Z=a.URL_FILE_EXTENSION.exec(V);if(Z)return Z[1].toLowerCase()}function I(V){var Z=a.SVG_SIZE.exec(V),$={};return Z&&($[Z[1]]=Math.round(parseFloat(Z[3])),$[Z[5]]=Math.round(parseFloat(Z[7]))),$}function R(){b=!0}function D(V){if(!b){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=[`
 %c %c %c PixiJS `+a.VERSION+" - ✰ "+V+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,Z)}else window.console&&window.console.log("PixiJS "+a.VERSION+" - "+V+" - http://www.pixijs.com/");b=!0}}function L(){var V={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var Z=document.createElement("canvas"),$=Z.getContext("webgl",V)||Z.getContext("experimental-webgl",V),it=!!($&&$.getContextAttributes().stencil);if($){var nt=$.getExtension("WEBGL_lose_context");nt&&nt.loseContext()}return $=null,it}catch{return!1}}function F(V){return V===0?0:V<0?-1:1}var N=t.TextureCache=Object.create(null),U=t.BaseTextureCache=Object.create(null);function k(){var V=void 0;for(V in N)N[V].destroy();for(V in U)U[V].destroy()}function G(){var V=void 0;for(V in N)delete N[V];for(V in U)delete U[V]}var W=t.premultiplyBlendMode=(0,m.default)();function K(V,Z){return W[Z?1:0][V]}function q(V,Z){if(Z===1)return(Z*255<<24)+V;if(Z===0)return 0;var $=V>>16&255,it=V>>8&255,nt=V&255;return $=$*Z+.5|0,it=it*Z+.5|0,nt=nt*Z+.5|0,(Z*255<<24)+($<<16)+(it<<8)+nt}function Q(V,Z,$,it){return $=$||new Float32Array(4),it||it===void 0?($[0]=V[0]*Z,$[1]=V[1]*Z,$[2]=V[2]*Z):($[0]=V[0],$[1]=V[1],$[2]=V[2]),$[3]=Z,$}function J(V,Z,$,it){return $=$||new Float32Array(4),$[0]=(V>>16&255)/255,$[1]=(V>>8&255)/255,$[2]=(V&255)/255,(it||it===void 0)&&($[0]*=Z,$[1]*=Z,$[2]*=Z),$[3]=Z,$}},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(g,e,t){t.__esModule=!0,t.default=n;var a=g("../const");function n(){for(var f=[],o=[],d=0;d<32;d++)f[d]=d,o[d]=d;f[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL,f[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD,f[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN,o[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM,o[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM,o[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;var v=[];return v.push(o),v.push(f),v}},{"../const":46}],127:[function(g,e,t){t.__esModule=!0,t.default=o;var a=g("ismobilejs"),n=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function o(d){return n.default.tablet||n.default.phone?4:d}},{ismobilejs:4}],128:[function(g,e,t){t.__esModule=!0,t.mixin=a,t.delayMixin=f,t.performMixins=o;function a(d,v){if(!(!d||!v))for(var h=Object.keys(v),u=0;u<h.length;++u){var r=h[u];Object.defineProperty(d,r,Object.getOwnPropertyDescriptor(v,r))}}var n=[];function f(d,v){n.push(d,v)}function o(){for(var d=0;d<n.length;d+=2)a(n[d],n[d+1]);n.length=0}},{}],129:[function(g,e,t){t.__esModule=!0;function a(n){n.__plugins={},n.registerPlugin=function(o,d){n.__plugins[o]=d},n.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var o in n.__plugins)this.plugins[o]=new n.__plugins[o](this)},n.prototype.destroyPlugins=function(){for(var o in this.plugins)this.plugins[o].destroy(),this.plugins[o]=null;this.plugins=null}}t.default={mixin:function(f){a(f)}}},{}],130:[function(g,e,t){t.__esModule=!0,t.default=a;function a(n){var f=n.width,o=n.height,d=n.getContext("2d"),v=d.getImageData(0,0,f,o),h=v.data,u=h.length,r={top:null,left:null,right:null,bottom:null},i=null,s=void 0,p=void 0,l=void 0;for(s=0;s<u;s+=4)h[s+3]!==0&&(p=s/4%f,l=~~(s/4/f),r.top===null&&(r.top=l),(r.left===null||p<r.left)&&(r.left=p),(r.right===null||r.right<p)&&(r.right=p+1),(r.bottom===null||r.bottom<l)&&(r.bottom=l));return r.top!==null&&(f=r.right-r.left,o=r.bottom-r.top+1,i=d.getImageData(r.left,r.top,f,o)),{height:o,width:f,data:i}}},{}],131:[function(g,e,t){t.__esModule=!0,t.default=f;var a={};function n(o){if(!a[o]){var d=new Error().stack;typeof d>"u"?console.warn("Deprecation Warning: ",o):(d=d.split(`
`).splice(3).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o),console.warn(d),console.groupEnd()):(console.warn("Deprecation Warning: ",o),console.warn(d))),a[o]=!0}}function f(o){var d=o.mesh,v=o.particles,h=o.extras,u=o.filters,r=o.prepare,i=o.loaders,s=o.interaction;Object.defineProperties(o,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),o.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),o.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),d.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),d.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),v.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),h.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),h.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),h.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),o.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),o.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),o.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),o.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),o}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),o.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS},set:function(y){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS=y}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION},set:function(y){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION=y}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION},set:function(y){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION=y}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES},set:function(y){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES=y}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE},set:function(y){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE=y}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES},set:function(y){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES=y}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX},set:function(y){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX=y}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),o.settings.RENDER_OPTIONS}}});for(var p=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(y){var w=p[y];Object.defineProperty(o[w.parent],"DEFAULT",{get:function(){return n("PIXI."+w.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+w.target)),o.settings[w.target]},set:function(S){n("PIXI."+w.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+w.target)),o.settings[w.target]=S}})},c=0;c<p.length;c++)l(c);Object.defineProperties(o.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),o.settings.PRECISION_FRAGMENT},set:function(y){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),o.settings.PRECISION_FRAGMENT=y}}}),h.AnimatedSprite&&Object.defineProperties(h,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),h.AnimatedSprite}}}),h&&Object.defineProperties(h,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),o.TextureMatrix}}}),o.DisplayObject.prototype.generateTexture=function(y,w,b){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),y.generateTexture(this,w,b)},o.Graphics.prototype.generateTexture=function(y,w){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(y,w)},o.GroupD8.isSwapWidthHeight=function(y){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),o.GroupD8.isVertical(y)},o.RenderTexture.prototype.render=function(y,w,b,S){this.legacyRenderer.render(y,this,b,w,!S),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},o.RenderTexture.prototype.getImage=function(y){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(y)},o.RenderTexture.prototype.getBase64=function(y){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(y)},o.RenderTexture.prototype.getCanvas=function(y){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(y)},o.RenderTexture.prototype.getPixels=function(y){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(y)},o.Sprite.prototype.setTexture=function(y){this.texture=y,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},h.BitmapText&&(h.BitmapText.prototype.setText=function(y){this.text=y,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),o.Text.prototype.setText=function(y){this.text=y,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},o.Text.calculateFontProperties=function(y){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),o.TextMetrics.measureFont(y)},Object.defineProperties(o.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),o.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),o.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),o.TextMetrics._context}}}),o.Text.prototype.setStyle=function(y){this.style=y,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},o.Text.prototype.determineFontProperties=function(y){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),o.TextMetrics.measureFont(y)},o.Text.getFontStyle=function(y){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),y=y||{},y instanceof o.TextStyle||(y=new o.TextStyle(y)),y.toFontString()},Object.defineProperties(o.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var y=typeof this._fontSize=="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+y+" "+this._fontFamily},set:function(y){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),y.indexOf("italic")>1?this._fontStyle="italic":y.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",y.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var w=y.split(" "),b=-1;this._fontSize=26;for(var S=0;S<w.length;++S)if(w[S].match(/(px|pt|em|%)/)){b=S,this._fontSize=w[S];break}this._fontWeight="normal";for(var E=0;E<b;++E)if(w[E].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=w[E];break}if(b>-1&&b<w.length-1){this._fontFamily="";for(var O=b+1;O<w.length;++O)this._fontFamily+=w[O]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),o.Texture.prototype.setFrame=function(y){this.frame=y,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},o.Texture.addTextureToCache=function(y,w){o.Texture.addToCache(y,w),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},o.Texture.removeTextureFromCache=function(y){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),o.BaseTexture.removeFromCache(y),o.Texture.removeFromCache(y)},Object.defineProperties(u,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),o.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),u.AlphaFilter}}}),o.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),o.utils.uid()},o.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),o.CanvasTinter.canUseMultiply};var m=!0;if(Object.defineProperty(o.utils,"_saidHello",{set:function(y){y&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),m=y},get:function(){return m}}),r.BasePrepare&&(r.BasePrepare.prototype.register=function(y,w){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),y&&this.registerFindHook(y),w&&this.registerUploadHook(w),this}),r.canvas&&Object.defineProperty(r.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),r.webgl&&Object.defineProperty(r.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),i.Loader){var _=i.Resource,x=i.Loader;Object.defineProperties(_.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===_.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===_.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===_.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===_.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===_.TYPE.VIDEO}}}),Object.defineProperties(x.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}s.interactiveTarget&&Object.defineProperty(s.interactiveTarget,"defaultCursor",{set:function(y){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=y},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),s.InteractionManager&&(Object.defineProperty(s.InteractionManager,"defaultCursorStyle",{set:function(y){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=y},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(s.InteractionManager,"currentCursorStyle",{set:function(y){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=y},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},{}],132:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=f(a);function f(h){if(h&&h.__esModule)return h;var u={};if(h!=null)for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(u[r]=h[r]);return u.default=h,u}function o(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var d=new n.Rectangle,v=function(){function h(u){o(this,h),this.renderer=u,u.extract=this}return h.prototype.image=function(r){var i=new Image;return i.src=this.base64(r),i},h.prototype.base64=function(r){return this.canvas(r).toDataURL()},h.prototype.canvas=function(r){var i=this.renderer,s=void 0,p=void 0,l=void 0,c=void 0;r&&(r instanceof n.RenderTexture?c=r:c=i.generateTexture(r)),c?(s=c.baseTexture._canvasRenderTarget.context,p=c.baseTexture._canvasRenderTarget.resolution,l=c.frame):(s=i.rootContext,l=d,l.width=this.renderer.width,l.height=this.renderer.height);var m=l.width*p,_=l.height*p,x=new n.CanvasRenderTarget(m,_,1),T=s.getImageData(l.x*p,l.y*p,m,_);return x.context.putImageData(T,0,0),x.canvas},h.prototype.pixels=function(r){var i=this.renderer,s=void 0,p=void 0,l=void 0,c=void 0;return r&&(r instanceof n.RenderTexture?c=r:c=i.generateTexture(r)),c?(s=c.baseTexture._canvasRenderTarget.context,p=c.baseTexture._canvasRenderTarget.resolution,l=c.frame):(s=i.rootContext,l=d,l.width=i.width,l.height=i.height),s.getImageData(0,0,l.width*p,l.height*p).data},h.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},h}();t.default=v,n.CanvasRenderer.registerPlugin("extract",v)},{"../../core":65}],133:[function(g,e,t){t.__esModule=!0;var a=g("./webgl/WebGLExtract");Object.defineProperty(t,"webgl",{enumerable:!0,get:function(){return f(a).default}});var n=g("./canvas/CanvasExtract");Object.defineProperty(t,"canvas",{enumerable:!0,get:function(){return f(n).default}});function f(o){return o&&o.__esModule?o:{default:o}}},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=f(a);function f(u){if(u&&u.__esModule)return u;var r={};if(u!=null)for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r[i]=u[i]);return r.default=u,r}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var d=new n.Rectangle,v=4,h=function(){function u(r){o(this,u),this.renderer=r,r.extract=this}return u.prototype.image=function(i){var s=new Image;return s.src=this.base64(i),s},u.prototype.base64=function(i){return this.canvas(i).toDataURL()},u.prototype.canvas=function(i){var s=this.renderer,p=void 0,l=void 0,c=void 0,m=!1,_=void 0,x=!1;i&&(i instanceof n.RenderTexture?_=i:(_=this.renderer.generateTexture(i),x=!0)),_?(p=_.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],l=p.resolution,c=_.frame,m=!1):(p=this.renderer.rootRenderTarget,l=p.resolution,m=!0,c=d,c.width=p.size.width,c.height=p.size.height);var T=c.width*l,y=c.height*l,w=new n.CanvasRenderTarget(T,y,1);if(p){s.bindRenderTarget(p);var b=new Uint8Array(v*T*y),S=s.gl;S.readPixels(c.x*l,c.y*l,T,y,S.RGBA,S.UNSIGNED_BYTE,b);var E=w.context.getImageData(0,0,T,y);E.data.set(b),w.context.putImageData(E,0,0),m&&(w.context.scale(1,-1),w.context.drawImage(w.canvas,0,-y))}return x&&_.destroy(!0),w.canvas},u.prototype.pixels=function(i){var s=this.renderer,p=void 0,l=void 0,c=void 0,m=void 0,_=!1;i&&(i instanceof n.RenderTexture?m=i:(m=this.renderer.generateTexture(i),_=!0)),m?(p=m.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],l=p.resolution,c=m.frame):(p=this.renderer.rootRenderTarget,l=p.resolution,c=d,c.width=p.size.width,c.height=p.size.height);var x=c.width*l,T=c.height*l,y=new Uint8Array(v*x*T);if(p){s.bindRenderTarget(p);var w=s.gl;w.readPixels(c.x*l,c.y*l,x,T,w.RGBA,w.UNSIGNED_BYTE,y)}return _&&m.destroy(!0),y},u.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},u}();t.default=h,n.WebGLRenderer.registerPlugin("extract",h)},{"../../core":65}],135:[function(g,e,t){t.__esModule=!0;var a=function(){function r(i,s){for(var p=0;p<s.length;p++){var l=s[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,p){return s&&r(i.prototype,s),p&&r(i,p),i}}(),n=g("../core"),f=o(n);function o(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function d(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function v(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function h(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=function(r){h(i,r);function i(s,p){d(this,i);var l=v(this,r.call(this,s[0]instanceof f.Texture?s[0]:s[0].texture));return l._textures=null,l._durations=null,l.textures=s,l._autoUpdate=p!==!1,l.animationSpeed=1,l.loop=!0,l.onComplete=null,l.onFrameChange=null,l.onLoop=null,l._currentTime=0,l.playing=!1,l}return i.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&f.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&f.ticker.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH))},i.prototype.gotoAndStop=function(p){this.stop();var l=this.currentFrame;this._currentTime=p,l!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(p){var l=this.currentFrame;this._currentTime=p,l!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(p){var l=this.animationSpeed*p,c=this.currentFrame;if(this._durations!==null){var m=this._currentTime%1*this._durations[this.currentFrame];for(m+=l/60*1e3;m<0;)this._currentTime--,m+=this._durations[this.currentFrame];var _=Math.sign(this.animationSpeed*p);for(this._currentTime=Math.floor(this._currentTime);m>=this._durations[this.currentFrame];)m-=this._durations[this.currentFrame]*_,this._currentTime+=_;this._currentTime+=m/this._durations[this.currentFrame]}else this._currentTime+=l;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())},i.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},i.prototype.destroy=function(p){this.stop(),r.prototype.destroy.call(this,p)},i.fromFrames=function(p){for(var l=[],c=0;c<p.length;++c)l.push(f.Texture.fromFrame(p[c]));return new i(l)},i.fromImages=function(p){for(var l=[],c=0;c<p.length;++c)l.push(f.Texture.fromImage(p[c]));return new i(l)},a(i,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(p){if(p[0]instanceof f.Texture)this._textures=p,this._durations=null;else{this._textures=[],this._durations=[];for(var l=0;l<p.length;l++)this._textures.push(p[l].texture),this._durations.push(p[l].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var p=Math.floor(this._currentTime)%this._textures.length;return p<0&&(p+=this._textures.length),p}}]),i}(f.Sprite);t.default=u},{"../core":65}],136:[function(g,e,t){t.__esModule=!0;var a=function(){function m(_,x){for(var T=0;T<x.length;T++){var y=x[T];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(_,y.key,y)}}return function(_,x,T){return x&&m(_.prototype,x),T&&m(_,T),_}}(),n=g("../core"),f=i(n),o=g("../core/math/ObservablePoint"),d=r(o),v=g("../core/utils"),h=g("../core/settings"),u=r(h);function r(m){return m&&m.__esModule?m:{default:m}}function i(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(_[x]=m[x]);return _.default=m,_}function s(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function p(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function l(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var c=function(m){l(_,m);function _(x){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,_);var y=p(this,m.call(this));return y._textWidth=0,y._textHeight=0,y._glyphs=[],y._font={tint:T.tint!==void 0?T.tint:16777215,align:T.align||"left",name:null,size:0},y.font=T.font,y._text=x,y._maxWidth=0,y._maxLineHeight=0,y._letterSpacing=0,y._anchor=new d.default(function(){y.dirty=!0},y,0,0),y.dirty=!1,y.updateText(),y}return _.prototype.updateText=function(){for(var T=_.fonts[this._font.name],y=this._font.size/T.size,w=new f.Point,b=[],S=[],E=this.text.replace(/(?:\r\n|\r)/g,`
`),O=E.length,P=this._maxWidth*T.size/this._font.size,C=null,A=0,B=0,I=0,R=-1,D=0,L=0,F=0,N=0;N<O;N++){var U=E.charCodeAt(N),k=E.charAt(N);if(/(?:\s)/.test(k)&&(R=N,D=A),k==="\r"||k===`
`){S.push(A),B=Math.max(B,A),++I,++L,w.x=0,w.y+=T.lineHeight,C=null;continue}var G=T.chars[U];G&&(C&&G.kerning[C]&&(w.x+=G.kerning[C]),b.push({texture:G.texture,line:I,charCode:U,position:new f.Point(w.x+G.xOffset+this._letterSpacing/2,w.y+G.yOffset)}),w.x+=G.xAdvance+this._letterSpacing,A=w.x,F=Math.max(F,G.yOffset+G.texture.height),C=U,R!==-1&&P>0&&w.x>P&&(++L,f.utils.removeItems(b,1+R-L,1+N-R),N=R,R=-1,S.push(D),B=Math.max(B,D),I++,w.x=0,w.y+=T.lineHeight,C=null))}var W=E.charAt(E.length-1);W!=="\r"&&W!==`
`&&(/(?:\s)/.test(W)&&(A=D),S.push(A),B=Math.max(B,A));for(var K=[],q=0;q<=I;q++){var Q=0;this._font.align==="right"?Q=B-S[q]:this._font.align==="center"&&(Q=(B-S[q])/2),K.push(Q)}for(var J=b.length,V=this.tint,Z=0;Z<J;Z++){var $=this._glyphs[Z];$?$.texture=b[Z].texture:($=new f.Sprite(b[Z].texture),this._glyphs.push($)),$.position.x=(b[Z].position.x+K[b[Z].line])*y,$.position.y=b[Z].position.y*y,$.scale.x=$.scale.y=y,$.tint=V,$.parent||this.addChild($)}for(var it=J;it<this._glyphs.length;++it)this.removeChild(this._glyphs[it]);if(this._textWidth=B*y,this._textHeight=(w.y+T.lineHeight)*y,this.anchor.x!==0||this.anchor.y!==0)for(var nt=0;nt<J;nt++)this._glyphs[nt].x-=this._textWidth*this.anchor.x,this._glyphs[nt].y-=this._textHeight*this.anchor.y;this._maxLineHeight=F*y},_.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},_.prototype.getLocalBounds=function(){return this.validate(),m.prototype.getLocalBounds.call(this)},_.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},_.registerFont=function(T,y){var w={},b=T.getElementsByTagName("info")[0],S=T.getElementsByTagName("common")[0],E=T.getElementsByTagName("page"),O=(0,v.getResolutionOfUrl)(E[0].getAttribute("file"),u.default.RESOLUTION),P={};w.font=b.getAttribute("face"),w.size=parseInt(b.getAttribute("size"),10),w.lineHeight=parseInt(S.getAttribute("lineHeight"),10)/O,w.chars={},y instanceof f.Texture&&(y=[y]);for(var C=0;C<E.length;C++){var A=E[C].getAttribute("id"),B=E[C].getAttribute("file");P[A]=y instanceof Array?y[C]:y[B]}for(var I=T.getElementsByTagName("char"),R=0;R<I.length;R++){var D=I[R],L=parseInt(D.getAttribute("id"),10),F=D.getAttribute("page")||0,N=new f.Rectangle(parseInt(D.getAttribute("x"),10)/O+P[F].frame.x/O,parseInt(D.getAttribute("y"),10)/O+P[F].frame.y/O,parseInt(D.getAttribute("width"),10)/O,parseInt(D.getAttribute("height"),10)/O);w.chars[L]={xOffset:parseInt(D.getAttribute("xoffset"),10)/O,yOffset:parseInt(D.getAttribute("yoffset"),10)/O,xAdvance:parseInt(D.getAttribute("xadvance"),10)/O,kerning:{},texture:new f.Texture(P[F].baseTexture,N),page:F}}for(var U=T.getElementsByTagName("kerning"),k=0;k<U.length;k++){var G=U[k],W=parseInt(G.getAttribute("first"),10)/O,K=parseInt(G.getAttribute("second"),10)/O,q=parseInt(G.getAttribute("amount"),10)/O;w.chars[K]&&(w.chars[K].kerning[W]=q)}return _.fonts[w.font]=w,w},a(_,[{key:"tint",get:function(){return this._font.tint},set:function(T){this._font.tint=typeof T=="number"&&T>=0?T:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(T){this._font.align=T||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(T){typeof T=="number"?this._anchor.set(T):this._anchor.copy(T)}},{key:"font",get:function(){return this._font},set:function(T){T&&(typeof T=="string"?(T=T.split(" "),this._font.name=T.length===1?T[0]:T.slice(1).join(" "),this._font.size=T.length>=2?parseInt(T[0],10):_.fonts[this._font.name].size):(this._font.name=T.name,this._font.size=typeof T.size=="number"?T.size:parseInt(T.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(T){T=T.toString()||" ",this._text!==T&&(this._text=T,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(T){this._maxWidth!==T&&(this._maxWidth=T,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(T){this._letterSpacing!==T&&(this._letterSpacing=T,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),_}(f.Container);t.default=c,c.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(g,e,t){t.__esModule=!0;var a=function(){function l(c,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,m,_){return m&&l(c.prototype,m),_&&l(c,_),c}}(),n=g("../core"),f=h(n),o=g("../core/sprites/canvas/CanvasTinter"),d=v(o);function v(l){return l&&l.__esModule?l:{default:l}}function h(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(c[m]=l[m]);return c.default=l,c}function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function r(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function i(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var s=new f.Point,p=function(l){i(c,l);function c(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;u(this,c);var T=r(this,l.call(this,m));return T.tileTransform=new f.TransformStatic,T._width=_,T._height=x,T._canvasPattern=null,T.uvTransform=m.transform||new f.TextureMatrix(m),T.pluginName="tilingSprite",T.uvRespectAnchor=!1,T}return c.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},c.prototype._renderWebGL=function(_){var x=this._texture;!x||!x.valid||(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),_.setObjectRenderer(_.plugins[this.pluginName]),_.plugins[this.pluginName].render(this))},c.prototype._renderCanvas=function(_){var x=this._texture;if(x.baseTexture.hasLoaded){var T=_.context,y=this.worldTransform,w=_.resolution,b=x.baseTexture,S=b.resolution,E=this.tilePosition.x/this.tileScale.x%x._frame.width*S,O=this.tilePosition.y/this.tileScale.y%x._frame.height*S;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var P=new f.CanvasRenderTarget(x._frame.width,x._frame.height,S);this.tint!==16777215?(this.tintedTexture=d.default.getTintedTexture(this,this.tint),P.context.drawImage(this.tintedTexture,0,0)):P.context.drawImage(b.source,-x._frame.x*S,-x._frame.y*S),this.cachedTint=this.tint,this._canvasPattern=P.context.createPattern(P.canvas,"repeat")}T.globalAlpha=this.worldAlpha,T.setTransform(y.a*w,y.b*w,y.c*w,y.d*w,y.tx*w,y.ty*w),_.setBlendMode(this.blendMode),T.fillStyle=this._canvasPattern,T.scale(this.tileScale.x/S,this.tileScale.y/S);var C=this.anchor.x*-this._width,A=this.anchor.y*-this._height;this.uvRespectAnchor?(T.translate(E,O),T.fillRect(-E+C,-O+A,this._width/this.tileScale.x*S,this._height/this.tileScale.y*S)):(T.translate(E+C,O+A),T.fillRect(-E,-O,this._width/this.tileScale.x*S,this._height/this.tileScale.y*S))}},c.prototype._calculateBounds=function(){var _=this._width*-this._anchor._x,x=this._height*-this._anchor._y,T=this._width*(1-this._anchor._x),y=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,_,x,T,y)},c.prototype.getLocalBounds=function(_){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),_||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),_=this._localBoundsRect),this._bounds.getRectangle(_)):l.prototype.getLocalBounds.call(this,_)},c.prototype.containsPoint=function(_){this.worldTransform.applyInverse(_,s);var x=this._width,T=this._height,y=-x*this.anchor._x;if(s.x>=y&&s.x<y+x){var w=-T*this.anchor._y;if(s.y>=w&&s.y<w+T)return!0}return!1},c.prototype.destroy=function(_){l.prototype.destroy.call(this,_),this.tileTransform=null,this.uvTransform=null},c.from=function(_,x,T){return new c(f.Texture.from(_),x,T)},c.fromFrame=function(_,x,T){var y=f.utils.TextureCache[_];if(!y)throw new Error('The frameId "'+_+'" does not exist in the texture cache '+this);return new c(y,x,T)},c.fromImage=function(_,x,T,y,w){return new c(f.Texture.fromImage(_,y,w),x,T)},a(c,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(_){this.uvTransform.clampMargin=_,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(_){this.tileTransform.scale.copy(_)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(_){this.tileTransform.position.copy(_)}},{key:"width",get:function(){return this._width},set:function(_){this._width=_}},{key:"height",get:function(){return this._height},set:function(_){this._height=_}}]),c}(f.Sprite);t.default=p},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(g,e,t){var a=g("../core"),n=r(a),f=g("../core/textures/Texture"),o=u(f),d=g("../core/textures/BaseTexture"),v=u(d),h=g("../core/utils");function u(c){return c&&c.__esModule?c:{default:c}}function r(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function i(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}var s=n.DisplayObject,p=new n.Matrix;s.prototype._cacheAsBitmap=!1,s.prototype._cacheData=!1;var l=function c(){i(this,c),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(s.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(m){if(this._cacheAsBitmap!==m){this._cacheAsBitmap=m;var _=void 0;m?(this._cacheData||(this._cacheData=new l),_=this._cacheData,_.originalRenderWebGL=this.renderWebGL,_.originalRenderCanvas=this.renderCanvas,_.originalUpdateTransform=this.updateTransform,_.originalCalculateBounds=this._calculateBounds,_.originalGetLocalBounds=this.getLocalBounds,_.originalDestroy=this.destroy,_.originalContainsPoint=this.containsPoint,_.originalMask=this._mask,_.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(_=this._cacheData,_.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=_.originalRenderWebGL,this.renderCanvas=_.originalRenderCanvas,this._calculateBounds=_.originalCalculateBounds,this.getLocalBounds=_.originalGetLocalBounds,this.destroy=_.originalDestroy,this.updateTransform=_.originalUpdateTransform,this.containsPoint=_.originalContainsPoint,this._mask=_.originalMask,this.filterArea=_.originalFilterArea)}}}}),s.prototype._renderCachedWebGL=function(m){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(m),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(m))},s.prototype._initCachedDisplayObject=function(m){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.alpha;this.alpha=1,m.currentRenderer.flush();var x=this.getLocalBounds().clone();if(this._filters){var T=this._filters[0].padding;x.pad(T)}var y=m._activeRenderTarget,w=m.filterManager.filterStack,b=n.RenderTexture.create(x.width|0,x.height|0),S="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=S,v.default.addToCache(b.baseTexture,S),o.default.addToCache(b,S);var E=p;E.tx=-x.x,E.ty=-x.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,m.render(this,b,!0,E,!0),m.bindRenderTarget(y),m.filterManager.filterStack=w,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var O=new n.Sprite(b);O.transform.worldTransform=this.transform.worldTransform,O.anchor.x=-(x.x/x.width),O.anchor.y=-(x.y/x.height),O.alpha=_,O._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=O,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=m._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=O.containsPoint.bind(O)}},s.prototype._renderCachedCanvas=function(m){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(m),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(m))},s.prototype._initCachedDisplayObjectCanvas=function(m){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.getLocalBounds(),x=this.alpha;this.alpha=1;var T=m.context,y=n.RenderTexture.create(_.width|0,_.height|0),w="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=w,v.default.addToCache(y.baseTexture,w),o.default.addToCache(y,w);var b=p;this.transform.localTransform.copy(b),b.invert(),b.tx-=_.x,b.ty-=_.y,this.renderCanvas=this._cacheData.originalRenderCanvas,m.render(this,y,!0,b,!1),m.context=T,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var S=new n.Sprite(y);S.transform.worldTransform=this.transform.worldTransform,S.anchor.x=-(_.x/_.width),S.anchor.y=-(_.y/_.height),S._bounds=this._bounds,S.alpha=x,this.parent?this.updateTransform():(this.parent=m._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=S,this.containsPoint=S.containsPoint.bind(S)}},s.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},s.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},s.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,v.default.removeFromCache(this._cacheData.textureCacheId),o.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},s.prototype._cacheAsBitmapDestroy=function(m){this.cacheAsBitmap=!1,this.destroy(m)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(g,e,t){var a=g("../core"),n=f(a);function f(o){if(o&&o.__esModule)return o;var d={};if(o!=null)for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&(d[v]=o[v]);return d.default=o,d}n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(d){for(var v=0;v<this.children.length;v++)if(this.children[v].name===d)return this.children[v];return null}},{"../core":65}],140:[function(g,e,t){var a=g("../core"),n=f(a);function f(o){if(o&&o.__esModule)return o;var d={};if(o!=null)for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&(d[v]=o[v]);return d.default=o,d}n.DisplayObject.prototype.getGlobalPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new n.Point,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.parent?this.parent.toGlobal(this.position,d,v):(d.x=this.position.x,d.y=this.position.y),d}},{"../core":65}],141:[function(g,e,t){t.__esModule=!0,t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.AnimatedSprite=void 0;var a=g("./AnimatedSprite");Object.defineProperty(t,"AnimatedSprite",{enumerable:!0,get:function(){return d(a).default}});var n=g("./TilingSprite");Object.defineProperty(t,"TilingSprite",{enumerable:!0,get:function(){return d(n).default}});var f=g("./webgl/TilingSpriteRenderer");Object.defineProperty(t,"TilingSpriteRenderer",{enumerable:!0,get:function(){return d(f).default}});var o=g("./BitmapText");Object.defineProperty(t,"BitmapText",{enumerable:!0,get:function(){return d(o).default}}),g("./cacheAsBitmap"),g("./getChildByName"),g("./getGlobalPosition");function d(v){return v&&v.__esModule?v:{default:v}}},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=o(a),f=g("../../core/const");g("path");function o(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s.default=i,s}function d(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function v(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function h(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var u=new n.Matrix,r=function(i){h(s,i);function s(p){d(this,s);var l=v(this,i.call(this,p));return l.shader=null,l.simpleShader=null,l.quad=null,l}return s.prototype.onContextChange=function(){var l=this.renderer.gl;this.shader=new n.Shader(l,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`),this.simpleShader=new n.Shader(l,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`),this.renderer.bindVao(null),this.quad=new n.Quad(l,this.renderer.state.attribState),this.quad.initVao(this.shader)},s.prototype.render=function(l){var c=this.renderer,m=this.quad;c.bindVao(m.vao);var _=m.vertices;_[0]=_[6]=l._width*-l.anchor.x,_[1]=_[3]=l._height*-l.anchor.y,_[2]=_[4]=l._width*(1-l.anchor.x),_[5]=_[7]=l._height*(1-l.anchor.y),l.uvRespectAnchor&&(_=m.uvs,_[0]=_[6]=-l.anchor.x,_[1]=_[3]=-l.anchor.y,_[2]=_[4]=1-l.anchor.x,_[5]=_[7]=1-l.anchor.y),m.upload();var x=l._texture,T=x.baseTexture,y=l.tileTransform.localTransform,w=l.uvTransform,b=T.isPowerOfTwo&&x.frame.width===T.width&&x.frame.height===T.height;b&&(T._glTextures[c.CONTEXT_UID]?b=T.wrapMode!==f.WRAP_MODES.CLAMP:T.wrapMode===f.WRAP_MODES.CLAMP&&(T.wrapMode=f.WRAP_MODES.REPEAT));var S=b?this.simpleShader:this.shader;c.bindShader(S);var E=x.width,O=x.height,P=l._width,C=l._height;u.set(y.a*E/P,y.b*E/C,y.c*O/P,y.d*O/C,y.tx/P,y.ty/C),u.invert(),b?u.prepend(w.mapCoord):(S.uniforms.uMapCoord=w.mapCoord.toArray(!0),S.uniforms.uClampFrame=w.uClampFrame,S.uniforms.uClampOffset=w.uClampOffset),S.uniforms.uTransform=u.toArray(!0),S.uniforms.uColor=n.utils.premultiplyTintToRgba(l.tint,l.worldAlpha,S.uniforms.uColor,T.premultipliedAlpha),S.uniforms.translationMatrix=l.transform.worldTransform.toArray(!0),S.uniforms.uSampler=c.bindTexture(x),c.setBlendMode(n.utils.correctBlendMode(l.blendMode,T.premultipliedAlpha)),m.vao.draw(this.renderer.gl.TRIANGLES,6,0)},s}(n.ObjectRenderer);t.default=r,n.WebGLRenderer.registerPlugin("tilingSprite",r)},{"../../core":65,"../../core/const":46,path:8}],143:[function(g,e,t){t.__esModule=!0;var a=function(){function r(i,s){for(var p=0;p<s.length;p++){var l=s[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,p){return s&&r(i.prototype,s),p&&r(i,p),i}}(),n=g("../../core"),f=o(n);g("path");function o(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function d(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function v(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function h(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=function(r){h(i,r);function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d(this,i);var p=v(this,r.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`));return p.alpha=s,p.glShaderKey="alpha",p}return a(i,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(p){this.uniforms.uAlpha=p}}]),i}(f.Filter);t.default=u},{"../../core":65,path:8}],144:[function(g,e,t){t.__esModule=!0;var a=function(){function c(m,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,_,x){return _&&c(m.prototype,_),x&&c(m,x),m}}(),n=g("../../core"),f=r(n),o=g("./BlurXFilter"),d=u(o),v=g("./BlurYFilter"),h=u(v);function u(c){return c&&c.__esModule?c:{default:c}}function r(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function i(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function s(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function p(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var l=function(c){p(m,c);function m(_,x,T,y){i(this,m);var w=s(this,c.call(this));return w.blurXFilter=new d.default(_,x,T,y),w.blurYFilter=new h.default(_,x,T,y),w.padding=0,w.resolution=T||f.settings.RESOLUTION,w.quality=x||4,w.blur=_||8,w}return m.prototype.apply=function(x,T,y){var w=x.getRenderTarget(!0);this.blurXFilter.apply(x,T,w,!0),this.blurYFilter.apply(x,w,y,!1),x.returnRenderTarget(w)},a(m,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(x){this.blurXFilter.blur=this.blurYFilter.blur=x,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(x){this.blurXFilter.quality=this.blurYFilter.quality=x}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(x){this.blurXFilter.blur=x,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(x){this.blurYFilter.blur=x,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(x){this.blurYFilter._blendMode=x}}]),m}(f.Filter);t.default=l},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(g,e,t){t.__esModule=!0;var a=function(){function _(x,T){for(var y=0;y<T.length;y++){var w=T[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,T,y){return T&&_(x.prototype,T),y&&_(x,y),x}}(),n=g("../../core"),f=s(n),o=g("./generateBlurVertSource"),d=i(o),v=g("./generateBlurFragSource"),h=i(v),u=g("./getMaxBlurKernelSize"),r=i(u);function i(_){return _&&_.__esModule?_:{default:_}}function s(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(x[T]=_[T]);return x.default=_,x}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function l(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function c(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var m=function(_){c(x,_);function x(T,y,w,b){p(this,x),b=b||5;var S=(0,d.default)(b,!0),E=(0,h.default)(b),O=l(this,_.call(this,S,E));return O.resolution=w||f.settings.RESOLUTION,O._quality=0,O.quality=y||4,O.strength=T||8,O.firstRun=!0,O}return x.prototype.apply=function(y,w,b,S){if(this.firstRun){var E=y.renderer.gl,O=(0,r.default)(E);this.vertexSrc=(0,d.default)(O,!0),this.fragmentSrc=(0,h.default)(O),this.firstRun=!1}if(this.uniforms.strength=1/b.size.width*(b.size.width/w.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)y.applyFilter(this,w,b,S);else{for(var P=y.getRenderTarget(!0),C=w,A=P,B=0;B<this.passes-1;B++){y.applyFilter(this,C,A,!0);var I=A;A=C,C=I}y.applyFilter(this,C,b,S),y.returnRenderTarget(P)}},a(x,[{key:"blur",get:function(){return this.strength},set:function(y){this.padding=Math.abs(y)*2,this.strength=y}},{key:"quality",get:function(){return this._quality},set:function(y){this._quality=y,this.passes=y}}]),x}(f.Filter);t.default=m},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(g,e,t){t.__esModule=!0;var a=function(){function _(x,T){for(var y=0;y<T.length;y++){var w=T[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,T,y){return T&&_(x.prototype,T),y&&_(x,y),x}}(),n=g("../../core"),f=s(n),o=g("./generateBlurVertSource"),d=i(o),v=g("./generateBlurFragSource"),h=i(v),u=g("./getMaxBlurKernelSize"),r=i(u);function i(_){return _&&_.__esModule?_:{default:_}}function s(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(x[T]=_[T]);return x.default=_,x}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function l(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function c(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var m=function(_){c(x,_);function x(T,y,w,b){p(this,x),b=b||5;var S=(0,d.default)(b,!1),E=(0,h.default)(b),O=l(this,_.call(this,S,E));return O.resolution=w||f.settings.RESOLUTION,O._quality=0,O.quality=y||4,O.strength=T||8,O.firstRun=!0,O}return x.prototype.apply=function(y,w,b,S){if(this.firstRun){var E=y.renderer.gl,O=(0,r.default)(E);this.vertexSrc=(0,d.default)(O,!1),this.fragmentSrc=(0,h.default)(O),this.firstRun=!1}if(this.uniforms.strength=1/b.size.height*(b.size.height/w.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)y.applyFilter(this,w,b,S);else{for(var P=y.getRenderTarget(!0),C=w,A=P,B=0;B<this.passes-1;B++){y.applyFilter(this,C,A,!0);var I=A;A=C,C=I}y.applyFilter(this,C,b,S),y.returnRenderTarget(P)}},a(x,[{key:"blur",get:function(){return this.strength},set:function(y){this.padding=Math.abs(y)*2,this.strength=y}},{key:"quality",get:function(){return this._quality},set:function(y){this._quality=y,this.passes=y}}]),x}(f.Filter);t.default=m},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(g,e,t){t.__esModule=!0,t.default=f;var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function f(o){for(var d=a[o],v=d.length,h=n,u="",r="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",i=void 0,s=0;s<o;s++){var p=r.replace("%index%",s);i=s,s>=v&&(i=o-s-1),p=p.replace("%value%",d[i]),u+=p,u+=`
`}return h=h.replace("%blur%",u),h=h.replace("%size%",o),h}},{}],148:[function(g,e,t){t.__esModule=!0,t.default=n;var a=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`);function n(f,o){var d=Math.ceil(f/2),v=a,h="",u=void 0;o?u="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":u="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var r=0;r<f;r++){var i=u.replace("%index%",r);i=i.replace("%sampleIndex%",r-(d-1)+".0"),h+=i,h+=`
`}return v=v.replace("%blur%",h),v=v.replace("%size%",f),v}},{}],149:[function(g,e,t){t.__esModule=!0,t.default=a;function a(n){for(var f=n.getParameter(n.MAX_VARYING_VECTORS),o=15;o>f;)o-=2;return o}},{}],150:[function(g,e,t){t.__esModule=!0;var a=function(){function r(i,s){for(var p=0;p<s.length;p++){var l=s[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,p){return s&&r(i.prototype,s),p&&r(i,p),i}}(),n=g("../../core"),f=o(n);g("path");function o(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function d(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function v(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function h(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=function(r){h(i,r);function i(){d(this,i);var s=v(this,r.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`));return s.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],s.alpha=1,s}return i.prototype._loadMatrix=function(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=p;l&&(this._multiply(c,this.uniforms.m,p),c=this._colorMatrix(c)),this.uniforms.m=c},i.prototype._multiply=function(p,l,c){return p[0]=l[0]*c[0]+l[1]*c[5]+l[2]*c[10]+l[3]*c[15],p[1]=l[0]*c[1]+l[1]*c[6]+l[2]*c[11]+l[3]*c[16],p[2]=l[0]*c[2]+l[1]*c[7]+l[2]*c[12]+l[3]*c[17],p[3]=l[0]*c[3]+l[1]*c[8]+l[2]*c[13]+l[3]*c[18],p[4]=l[0]*c[4]+l[1]*c[9]+l[2]*c[14]+l[3]*c[19]+l[4],p[5]=l[5]*c[0]+l[6]*c[5]+l[7]*c[10]+l[8]*c[15],p[6]=l[5]*c[1]+l[6]*c[6]+l[7]*c[11]+l[8]*c[16],p[7]=l[5]*c[2]+l[6]*c[7]+l[7]*c[12]+l[8]*c[17],p[8]=l[5]*c[3]+l[6]*c[8]+l[7]*c[13]+l[8]*c[18],p[9]=l[5]*c[4]+l[6]*c[9]+l[7]*c[14]+l[8]*c[19]+l[9],p[10]=l[10]*c[0]+l[11]*c[5]+l[12]*c[10]+l[13]*c[15],p[11]=l[10]*c[1]+l[11]*c[6]+l[12]*c[11]+l[13]*c[16],p[12]=l[10]*c[2]+l[11]*c[7]+l[12]*c[12]+l[13]*c[17],p[13]=l[10]*c[3]+l[11]*c[8]+l[12]*c[13]+l[13]*c[18],p[14]=l[10]*c[4]+l[11]*c[9]+l[12]*c[14]+l[13]*c[19]+l[14],p[15]=l[15]*c[0]+l[16]*c[5]+l[17]*c[10]+l[18]*c[15],p[16]=l[15]*c[1]+l[16]*c[6]+l[17]*c[11]+l[18]*c[16],p[17]=l[15]*c[2]+l[16]*c[7]+l[17]*c[12]+l[18]*c[17],p[18]=l[15]*c[3]+l[16]*c[8]+l[17]*c[13]+l[18]*c[18],p[19]=l[15]*c[4]+l[16]*c[9]+l[17]*c[14]+l[18]*c[19]+l[19],p},i.prototype._colorMatrix=function(p){var l=new Float32Array(p);return l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,l},i.prototype.brightness=function(p,l){var c=[p,0,0,0,0,0,p,0,0,0,0,0,p,0,0,0,0,0,1,0];this._loadMatrix(c,l)},i.prototype.greyscale=function(p,l){var c=[p,p,p,0,0,p,p,p,0,0,p,p,p,0,0,0,0,0,1,0];this._loadMatrix(c,l)},i.prototype.blackAndWhite=function(p){var l=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.hue=function(p,l){p=(p||0)/180*Math.PI;var c=Math.cos(p),m=Math.sin(p),_=Math.sqrt,x=1/3,T=_(x),y=c+(1-c)*x,w=x*(1-c)-T*m,b=x*(1-c)+T*m,S=x*(1-c)+T*m,E=c+x*(1-c),O=x*(1-c)-T*m,P=x*(1-c)-T*m,C=x*(1-c)+T*m,A=c+x*(1-c),B=[y,w,b,0,0,S,E,O,0,0,P,C,A,0,0,0,0,0,1,0];this._loadMatrix(B,l)},i.prototype.contrast=function(p,l){var c=(p||0)+1,m=-.5*(c-1),_=[c,0,0,0,m,0,c,0,0,m,0,0,c,0,m,0,0,0,1,0];this._loadMatrix(_,l)},i.prototype.saturate=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments[1],c=p*2/3+1,m=(c-1)*-.5,_=[c,m,m,0,0,m,c,m,0,0,m,m,c,0,0,0,0,0,1,0];this._loadMatrix(_,l)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(p){var l=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.sepia=function(p){var l=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.technicolor=function(p){var l=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.polaroid=function(p){var l=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.toBGR=function(p){var l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.kodachrome=function(p){var l=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.browni=function(p){var l=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.vintage=function(p){var l=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.colorTone=function(p,l,c,m,_){p=p||.2,l=l||.15,c=c||16770432,m=m||3375104;var x=(c>>16&255)/255,T=(c>>8&255)/255,y=(c&255)/255,w=(m>>16&255)/255,b=(m>>8&255)/255,S=(m&255)/255,E=[.3,.59,.11,0,0,x,T,y,p,0,w,b,S,l,0,x-w,T-b,y-S,0,0];this._loadMatrix(E,_)},i.prototype.night=function(p,l){p=p||.1;var c=[p*-2,-p,0,0,0,-p,0,p,0,0,0,p,p*2,0,0,0,0,0,1,0];this._loadMatrix(c,l)},i.prototype.predator=function(p,l){var c=[11.224130630493164*p,-4.794486999511719*p,-2.8746118545532227*p,0*p,.40342438220977783*p,-3.6330697536468506*p,9.193157196044922*p,-2.951810836791992*p,0*p,-1.316135048866272*p,-3.2184197902679443*p,-4.2375030517578125*p,7.476448059082031*p,0*p,.8044459223747253*p,0,0,0,1,0];this._loadMatrix(c,l)},i.prototype.lsd=function(p){var l=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(l,p)},i.prototype.reset=function(){var p=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(p,!1)},a(i,[{key:"matrix",get:function(){return this.uniforms.m},set:function(p){this.uniforms.m=p}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(p){this.uniforms.uAlpha=p}}]),i}(f.Filter);t.default=u,u.prototype.grayscale=u.prototype.greyscale},{"../../core":65,path:8}],151:[function(g,e,t){t.__esModule=!0;var a=function(){function r(i,s){for(var p=0;p<s.length;p++){var l=s[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,p){return s&&r(i.prototype,s),p&&r(i,p),i}}(),n=g("../../core"),f=o(n);g("path");function o(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function d(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function v(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function h(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=function(r){h(i,r);function i(s,p){d(this,i);var l=new f.Matrix;s.renderable=!1;var c=v(this,r.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy *= scale / filterArea.xy;

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`));return c.maskSprite=s,c.maskMatrix=l,c.uniforms.mapSampler=s._texture,c.uniforms.filterMatrix=l,c.uniforms.scale={x:1,y:1},p==null&&(p=20),c.scale=new f.Point(p,p),c}return i.prototype.apply=function(p,l,c){this.uniforms.filterMatrix=p.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,p.applyFilter(this,l,c)},a(i,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(p){this.uniforms.mapSampler=p}}]),i}(f.Filter);t.default=u},{"../../core":65,path:8}],152:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=f(a);g("path");function f(u){if(u&&u.__esModule)return u;var r={};if(u!=null)for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r[i]=u[i]);return r.default=u,r}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(){return o(this,r),d(this,u.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return r}(n.Filter);t.default=h},{"../../core":65,path:8}],153:[function(g,e,t){t.__esModule=!0;var a=g("./fxaa/FXAAFilter");Object.defineProperty(t,"FXAAFilter",{enumerable:!0,get:function(){return r(a).default}});var n=g("./noise/NoiseFilter");Object.defineProperty(t,"NoiseFilter",{enumerable:!0,get:function(){return r(n).default}});var f=g("./displacement/DisplacementFilter");Object.defineProperty(t,"DisplacementFilter",{enumerable:!0,get:function(){return r(f).default}});var o=g("./blur/BlurFilter");Object.defineProperty(t,"BlurFilter",{enumerable:!0,get:function(){return r(o).default}});var d=g("./blur/BlurXFilter");Object.defineProperty(t,"BlurXFilter",{enumerable:!0,get:function(){return r(d).default}});var v=g("./blur/BlurYFilter");Object.defineProperty(t,"BlurYFilter",{enumerable:!0,get:function(){return r(v).default}});var h=g("./colormatrix/ColorMatrixFilter");Object.defineProperty(t,"ColorMatrixFilter",{enumerable:!0,get:function(){return r(h).default}});var u=g("./alpha/AlphaFilter");Object.defineProperty(t,"AlphaFilter",{enumerable:!0,get:function(){return r(u).default}});function r(i){return i&&i.__esModule?i:{default:i}}},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(g,e,t){t.__esModule=!0;var a=function(){function r(i,s){for(var p=0;p<s.length;p++){var l=s[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,p){return s&&r(i.prototype,s),p&&r(i,p),i}}(),n=g("../../core"),f=o(n);g("path");function o(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function d(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function v(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function h(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=function(r){h(i,r);function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();d(this,i);var l=v(this,r.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`));return l.noise=s,l.seed=p,l}return a(i,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(p){this.uniforms.uNoise=p}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(p){this.uniforms.uSeed=p}}]),i}(f.Filter);t.default=u},{"../../core":65,path:8}],155:[function(g,e,t){t.__esModule=!0;var a=function(){function h(u,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(u,s.key,s)}}return function(u,r,i){return r&&h(u.prototype,r),i&&h(u,i),u}}(),n=g("../core"),f=o(n);function o(h){if(h&&h.__esModule)return h;var u={};if(h!=null)for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(u[r]=h[r]);return u.default=h,u}function d(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}var v=function(){function h(){d(this,h),this.global=new f.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return h.prototype.getLocalPosition=function(r,i,s){return r.worldTransform.applyInverse(s||this.global,i)},h.prototype.copyEvent=function(r){r.isPrimary&&(this.isPrimary=!0),this.button=r.button,this.buttons=Number.isInteger(r.buttons)?r.buttons:r.which,this.width=r.width,this.height=r.height,this.tiltX=r.tiltX,this.tiltY=r.tiltY,this.pointerType=r.pointerType,this.pressure=r.pressure,this.rotationAngle=r.rotationAngle,this.twist=r.twist||0,this.tangentialPressure=r.tangentialPressure||0},h.prototype.reset=function(){this.isPrimary=!1},a(h,[{key:"pointerId",get:function(){return this.identifier}}]),h}();t.default=v},{"../core":65}],156:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(){a(this,f),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return f.prototype.stopPropagation=function(){this.stopped=!0},f.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},f}();t.default=n},{}],157:[function(g,e,t){t.__esModule=!0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n=g("../core"),f=m(n),o=g("./InteractionData"),d=c(o),v=g("./InteractionEvent"),h=c(v),u=g("./InteractionTrackingData"),r=c(u),i=g("eventemitter3"),s=c(i),p=g("./interactiveTarget"),l=c(p);function c(S){return S&&S.__esModule?S:{default:S}}function m(S){if(S&&S.__esModule)return S;var E={};if(S!=null)for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(E[O]=S[O]);return E.default=S,E}function _(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function x(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function T(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}f.utils.mixins.delayMixin(f.DisplayObject.prototype,l.default);var y=1,w={target:null,data:{global:null}},b=function(S){T(E,S);function E(O,P){_(this,E);var C=x(this,S.call(this));return P=P||{},C.renderer=O,C.autoPreventDefault=P.autoPreventDefault!==void 0?P.autoPreventDefault:!0,C.interactionFrequency=P.interactionFrequency||10,C.mouse=new d.default,C.mouse.identifier=y,C.mouse.global.set(-999999),C.activeInteractionData={},C.activeInteractionData[y]=C.mouse,C.interactionDataPool=[],C.eventData=new h.default,C.interactionDOMElement=null,C.moveWhenInside=!1,C.eventsAdded=!1,C.mouseOverRenderer=!1,C.supportsTouchEvents="ontouchstart"in window,C.supportsPointerEvents=!!window.PointerEvent,C.onPointerUp=C.onPointerUp.bind(C),C.processPointerUp=C.processPointerUp.bind(C),C.onPointerCancel=C.onPointerCancel.bind(C),C.processPointerCancel=C.processPointerCancel.bind(C),C.onPointerDown=C.onPointerDown.bind(C),C.processPointerDown=C.processPointerDown.bind(C),C.onPointerMove=C.onPointerMove.bind(C),C.processPointerMove=C.processPointerMove.bind(C),C.onPointerOut=C.onPointerOut.bind(C),C.processPointerOverOut=C.processPointerOverOut.bind(C),C.onPointerOver=C.onPointerOver.bind(C),C.cursorStyles={default:"inherit",pointer:"pointer"},C.currentCursorMode=null,C.cursor=null,C._tempPoint=new f.Point,C.resolution=1,C.setTargetElement(C.renderer.view,C.renderer.resolution),C}return E.prototype.hitTest=function(P,C){return w.target=null,w.data.global=P,C||(C=this.renderer._lastObjectRendered),this.processInteractive(w,C,null,!0),w.target},E.prototype.setTargetElement=function(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=P,this.resolution=C,this.addEvents()},E.prototype.addEvents=function(){this.interactionDOMElement&&(f.ticker.shared.add(this.update,this,f.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},E.prototype.removeEvents=function(){this.interactionDOMElement&&(f.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},E.prototype.update=function(P){if(this._deltaTime+=P,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var C in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(C)){var A=this.activeInteractionData[C];if(A.originalEvent&&A.pointerType!=="touch"){var B=this.configureInteractionEventForDOMEvent(this.eventData,A.originalEvent,A);this.processInteractive(B,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},E.prototype.setCursorMode=function(P){if(P=P||"default",this.currentCursorMode!==P){this.currentCursorMode=P;var C=this.cursorStyles[P];if(C)switch(typeof C>"u"?"undefined":a(C)){case"string":this.interactionDOMElement.style.cursor=C;break;case"function":C(P);break;case"object":Object.assign(this.interactionDOMElement.style,C);break}else typeof P=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,P)&&(this.interactionDOMElement.style.cursor=P)}},E.prototype.dispatchEvent=function(P,C,A){A.stopped||(A.currentTarget=P,A.type=C,P.emit(C,A),P[C]&&P[C](A))},E.prototype.mapPositionToPoint=function(P,C,A){var B=void 0;this.interactionDOMElement.parentElement?B=this.interactionDOMElement.getBoundingClientRect():B={x:0,y:0,width:0,height:0};var I=navigator.isCocoonJS?this.resolution:1/this.resolution;P.x=(C-B.left)*(this.interactionDOMElement.width/B.width)*I,P.y=(A-B.top)*(this.interactionDOMElement.height/B.height)*I},E.prototype.processInteractive=function(P,C,A,B,I){if(!C||!C.visible)return!1;var R=P.data.global;I=C.interactive||I;var D=!1,L=I,F=!0;if(C.hitArea?(B&&(C.worldTransform.applyInverse(R,this._tempPoint),C.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?D=!0:(B=!1,F=!1)),L=!1):C._mask&&B&&(C._mask.containsPoint(R)||(B=!1,F=!1)),F&&C.interactiveChildren&&C.children)for(var N=C.children,U=N.length-1;U>=0;U--){var k=N[U],G=this.processInteractive(P,k,A,B,L);if(G){if(!k.parent)continue;L=!1,G&&(P.target&&(B=!1),D=!0)}}return I&&(B&&!P.target&&!C.hitArea&&C.containsPoint&&C.containsPoint(R)&&(D=!0),C.interactive&&(D&&!P.target&&(P.target=C),A&&A(P,C,!!D))),D},E.prototype.onPointerDown=function(P){if(!(this.supportsTouchEvents&&P.pointerType==="touch")){var C=this.normalizeToPointerData(P);this.autoPreventDefault&&C[0].isNormalized&&P.preventDefault();for(var A=C.length,B=0;B<A;B++){var I=C[B],R=this.getInteractionDataForPointerId(I),D=this.configureInteractionEventForDOMEvent(this.eventData,I,R);if(D.data.originalEvent=P,this.processInteractive(D,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",D),I.pointerType==="touch")this.emit("touchstart",D);else if(I.pointerType==="mouse"||I.pointerType==="pen"){var L=I.button===2;this.emit(L?"rightdown":"mousedown",this.eventData)}}}},E.prototype.processPointerDown=function(P,C,A){var B=P.data,I=P.data.identifier;if(A){if(C.trackedPointers[I]||(C.trackedPointers[I]=new r.default(I)),this.dispatchEvent(C,"pointerdown",P),B.pointerType==="touch")this.dispatchEvent(C,"touchstart",P);else if(B.pointerType==="mouse"||B.pointerType==="pen"){var R=B.button===2;R?C.trackedPointers[I].rightDown=!0:C.trackedPointers[I].leftDown=!0,this.dispatchEvent(C,R?"rightdown":"mousedown",P)}}},E.prototype.onPointerComplete=function(P,C,A){for(var B=this.normalizeToPointerData(P),I=B.length,R=P.target!==this.interactionDOMElement?"outside":"",D=0;D<I;D++){var L=B[D],F=this.getInteractionDataForPointerId(L),N=this.configureInteractionEventForDOMEvent(this.eventData,L,F);if(N.data.originalEvent=P,this.processInteractive(N,this.renderer._lastObjectRendered,A,C||!R),this.emit(C?"pointercancel":"pointerup"+R,N),L.pointerType==="mouse"||L.pointerType==="pen"){var U=L.button===2;this.emit(U?"rightup"+R:"mouseup"+R,N)}else L.pointerType==="touch"&&(this.emit(C?"touchcancel":"touchend"+R,N),this.releaseInteractionDataForPointerId(L.pointerId,F))}},E.prototype.onPointerCancel=function(P){this.supportsTouchEvents&&P.pointerType==="touch"||this.onPointerComplete(P,!0,this.processPointerCancel)},E.prototype.processPointerCancel=function(P,C){var A=P.data,B=P.data.identifier;C.trackedPointers[B]!==void 0&&(delete C.trackedPointers[B],this.dispatchEvent(C,"pointercancel",P),A.pointerType==="touch"&&this.dispatchEvent(C,"touchcancel",P))},E.prototype.onPointerUp=function(P){this.supportsTouchEvents&&P.pointerType==="touch"||this.onPointerComplete(P,!1,this.processPointerUp)},E.prototype.processPointerUp=function(P,C,A){var B=P.data,I=P.data.identifier,R=C.trackedPointers[I],D=B.pointerType==="touch",L=B.pointerType==="mouse"||B.pointerType==="pen",F=!1;if(L){var N=B.button===2,U=r.default.FLAGS,k=N?U.RIGHT_DOWN:U.LEFT_DOWN,G=R!==void 0&&R.flags&k;A?(this.dispatchEvent(C,N?"rightup":"mouseup",P),G&&(this.dispatchEvent(C,N?"rightclick":"click",P),F=!0)):G&&this.dispatchEvent(C,N?"rightupoutside":"mouseupoutside",P),R&&(N?R.rightDown=!1:R.leftDown=!1)}A?(this.dispatchEvent(C,"pointerup",P),D&&this.dispatchEvent(C,"touchend",P),R&&((!L||F)&&this.dispatchEvent(C,"pointertap",P),D&&(this.dispatchEvent(C,"tap",P),R.over=!1))):R&&(this.dispatchEvent(C,"pointerupoutside",P),D&&this.dispatchEvent(C,"touchendoutside",P)),R&&R.none&&delete C.trackedPointers[I]},E.prototype.onPointerMove=function(P){if(!(this.supportsTouchEvents&&P.pointerType==="touch")){var C=this.normalizeToPointerData(P);(C[0].pointerType==="mouse"||C[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var A=C.length,B=0;B<A;B++){var I=C[B],R=this.getInteractionDataForPointerId(I),D=this.configureInteractionEventForDOMEvent(this.eventData,I,R);D.data.originalEvent=P;var L=I.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(D,this.renderer._lastObjectRendered,this.processPointerMove,L),this.emit("pointermove",D),I.pointerType==="touch"&&this.emit("touchmove",D),(I.pointerType==="mouse"||I.pointerType==="pen")&&this.emit("mousemove",D)}C[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},E.prototype.processPointerMove=function(P,C,A){var B=P.data,I=B.pointerType==="touch",R=B.pointerType==="mouse"||B.pointerType==="pen";R&&this.processPointerOverOut(P,C,A),(!this.moveWhenInside||A)&&(this.dispatchEvent(C,"pointermove",P),I&&this.dispatchEvent(C,"touchmove",P),R&&this.dispatchEvent(C,"mousemove",P))},E.prototype.onPointerOut=function(P){if(!(this.supportsTouchEvents&&P.pointerType==="touch")){var C=this.normalizeToPointerData(P),A=C[0];A.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var B=this.getInteractionDataForPointerId(A),I=this.configureInteractionEventForDOMEvent(this.eventData,A,B);I.data.originalEvent=A,this.processInteractive(I,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",I),A.pointerType==="mouse"||A.pointerType==="pen"?this.emit("mouseout",I):this.releaseInteractionDataForPointerId(B.identifier)}},E.prototype.processPointerOverOut=function(P,C,A){var B=P.data,I=P.data.identifier,R=B.pointerType==="mouse"||B.pointerType==="pen",D=C.trackedPointers[I];A&&!D&&(D=C.trackedPointers[I]=new r.default(I)),D!==void 0&&(A&&this.mouseOverRenderer?(D.over||(D.over=!0,this.dispatchEvent(C,"pointerover",P),R&&this.dispatchEvent(C,"mouseover",P)),R&&this.cursor===null&&(this.cursor=C.cursor)):D.over&&(D.over=!1,this.dispatchEvent(C,"pointerout",this.eventData),R&&this.dispatchEvent(C,"mouseout",P),D.none&&delete C.trackedPointers[I]))},E.prototype.onPointerOver=function(P){var C=this.normalizeToPointerData(P),A=C[0],B=this.getInteractionDataForPointerId(A),I=this.configureInteractionEventForDOMEvent(this.eventData,A,B);I.data.originalEvent=A,A.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",I),(A.pointerType==="mouse"||A.pointerType==="pen")&&this.emit("mouseover",I)},E.prototype.getInteractionDataForPointerId=function(P){var C=P.pointerId,A=void 0;return C===y||P.pointerType==="mouse"?A=this.mouse:this.activeInteractionData[C]?A=this.activeInteractionData[C]:(A=this.interactionDataPool.pop()||new d.default,A.identifier=C,this.activeInteractionData[C]=A),A.copyEvent(P),A},E.prototype.releaseInteractionDataForPointerId=function(P){var C=this.activeInteractionData[P];C&&(delete this.activeInteractionData[P],C.reset(),this.interactionDataPool.push(C))},E.prototype.configureInteractionEventForDOMEvent=function(P,C,A){return P.data=A,this.mapPositionToPoint(A.global,C.clientX,C.clientY),navigator.isCocoonJS&&C.pointerType==="touch"&&(A.global.x=A.global.x/this.resolution,A.global.y=A.global.y/this.resolution),C.pointerType==="touch"&&(C.globalX=A.global.x,C.globalY=A.global.y),A.originalEvent=C,P.reset(),P},E.prototype.normalizeToPointerData=function(P){var C=[];if(this.supportsTouchEvents&&P instanceof TouchEvent)for(var A=0,B=P.changedTouches.length;A<B;A++){var I=P.changedTouches[A];typeof I.button>"u"&&(I.button=P.touches.length?1:0),typeof I.buttons>"u"&&(I.buttons=P.touches.length?1:0),typeof I.isPrimary>"u"&&(I.isPrimary=P.touches.length===1&&P.type==="touchstart"),typeof I.width>"u"&&(I.width=I.radiusX||1),typeof I.height>"u"&&(I.height=I.radiusY||1),typeof I.tiltX>"u"&&(I.tiltX=0),typeof I.tiltY>"u"&&(I.tiltY=0),typeof I.pointerType>"u"&&(I.pointerType="touch"),typeof I.pointerId>"u"&&(I.pointerId=I.identifier||0),typeof I.pressure>"u"&&(I.pressure=I.force||.5),I.twist=0,I.tangentialPressure=0,typeof I.layerX>"u"&&(I.layerX=I.offsetX=I.clientX),typeof I.layerY>"u"&&(I.layerY=I.offsetY=I.clientY),I.isNormalized=!0,C.push(I)}else P instanceof MouseEvent&&(!this.supportsPointerEvents||!(P instanceof window.PointerEvent))&&(typeof P.isPrimary>"u"&&(P.isPrimary=!0),typeof P.width>"u"&&(P.width=1),typeof P.height>"u"&&(P.height=1),typeof P.tiltX>"u"&&(P.tiltX=0),typeof P.tiltY>"u"&&(P.tiltY=0),typeof P.pointerType>"u"&&(P.pointerType="mouse"),typeof P.pointerId>"u"&&(P.pointerId=y),typeof P.pressure>"u"&&(P.pressure=.5),P.twist=0,P.tangentialPressure=0,P.isNormalized=!0),C.push(P);return C},E.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},E}(s.default);t.default=b,f.WebGLRenderer.registerPlugin("interaction",b),f.CanvasRenderer.registerPlugin("interaction",b)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(g,e,t){t.__esModule=!0;var a=function(){function o(d,v){for(var h=0;h<v.length;h++){var u=v[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,v,h){return v&&o(d.prototype,v),h&&o(d,h),d}}();function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var f=function(){function o(d){n(this,o),this._pointerId=d,this._flags=o.FLAGS.NONE}return o.prototype._doSet=function(v,h){h?this._flags=this._flags|v:this._flags=this._flags&~v},a(o,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(v){this._flags=v}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function(v){this._doSet(this.constructor.FLAGS.OVER,v)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function(v){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,v)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function(v){this._doSet(this.constructor.FLAGS.LEFT_DOWN,v)}}]),o}();t.default=f,f.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(g,e,t){t.__esModule=!0;var a=g("./InteractionData");Object.defineProperty(t,"InteractionData",{enumerable:!0,get:function(){return v(a).default}});var n=g("./InteractionManager");Object.defineProperty(t,"InteractionManager",{enumerable:!0,get:function(){return v(n).default}});var f=g("./interactiveTarget");Object.defineProperty(t,"interactiveTarget",{enumerable:!0,get:function(){return v(f).default}});var o=g("./InteractionTrackingData");Object.defineProperty(t,"InteractionTrackingData",{enumerable:!0,get:function(){return v(o).default}});var d=g("./InteractionEvent");Object.defineProperty(t,"InteractionEvent",{enumerable:!0,get:function(){return v(d).default}});function v(h){return h&&h.__esModule?h:{default:h}}},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(g,e,t){t.__esModule=!0,t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(a){a?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(g,e,t){t.__esModule=!0,t.parse=v,t.default=function(){return function(u,r){if(!u.data||u.type!==f.Resource.TYPE.XML){r();return}if(u.data.getElementsByTagName("page").length===0||u.data.getElementsByTagName("info").length===0||u.data.getElementsByTagName("info")[0].getAttribute("face")===null){r();return}var i=u.isDataUrl?"":n.dirname(u.url);u.isDataUrl&&(i==="."&&(i=""),this.baseUrl&&i&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(i+="/")),i=i.replace(this.baseUrl,""),i&&i.charAt(i.length-1)!=="/"&&(i+="/");for(var s=u.data.getElementsByTagName("page"),p={},l=function(S){p[S.metadata.pageFile]=S.texture,Object.keys(p).length===s.length&&(v(u,p),r())},c=0;c<s.length;++c){var m=s[c].getAttribute("file"),_=i+m,x=!1;for(var T in this.resources){var y=this.resources[T];if(y.url===_){y.metadata.pageFile=m,y.texture?l(y):y.onAfterMiddleware.add(l),x=!0;break}}if(!x){var w={crossOrigin:u.crossOrigin,loadType:f.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:m},u.metadata.imageMetadata),parentResource:u};this.add(_,w,l)}}}};var a=g("path"),n=d(a),f=g("resource-loader"),o=g("../extras");function d(h){if(h&&h.__esModule)return h;var u={};if(h!=null)for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(u[r]=h[r]);return u.default=h,u}function v(h,u){h.bitmapFont=o.BitmapText.registerFont(h.data,u)}},{"../extras":141,path:8,"resource-loader":36}],162:[function(g,e,t){t.__esModule=!0,t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var a=g("./bitmapFontParser");Object.defineProperty(t,"bitmapFontParser",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(t,"parseBitmapFontData",{enumerable:!0,get:function(){return a.parse}});var n=g("./spritesheetParser");Object.defineProperty(t,"spritesheetParser",{enumerable:!0,get:function(){return r(n).default}}),Object.defineProperty(t,"getResourcePath",{enumerable:!0,get:function(){return n.getResourcePath}});var f=g("./textureParser");Object.defineProperty(t,"textureParser",{enumerable:!0,get:function(){return r(f).default}});var o=g("resource-loader");Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return o.Resource}});var d=g("../core/Application"),v=r(d),h=g("./loader"),u=r(h);function r(p){return p&&p.__esModule?p:{default:p}}t.Loader=u.default;var i=new u.default;i.destroy=function(){},t.shared=i;var s=v.default.prototype;s._loader=null,Object.defineProperty(s,"loader",{get:function(){if(!this._loader){var l=this._options.sharedLoader;this._loader=l?i:new u.default}return this._loader}}),s._parentDestroy=s.destroy,s.destroy=function(l,c){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(l,c)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(g,e,t){t.__esModule=!0;var a=g("resource-loader"),n=p(a),f=g("resource-loader/lib/middlewares/parsing/blob"),o=g("eventemitter3"),d=p(o),v=g("./textureParser"),h=p(v),u=g("./spritesheetParser"),r=p(u),i=g("./bitmapFontParser"),s=p(i);function p(y){return y&&y.__esModule?y:{default:y}}function l(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function c(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function m(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var _=function(y){m(w,y);function w(b,S){l(this,w);var E=c(this,y.call(this,b,S));d.default.call(E);for(var O=0;O<w._pixiMiddleware.length;++O)E.use(w._pixiMiddleware[O]());return E.onStart.add(function(P){return E.emit("start",P)}),E.onProgress.add(function(P,C){return E.emit("progress",P,C)}),E.onError.add(function(P,C,A){return E.emit("error",P,C,A)}),E.onLoad.add(function(P,C){return E.emit("load",P,C)}),E.onComplete.add(function(P,C){return E.emit("complete",P,C)}),E}return w.addPixiMiddleware=function(S){w._pixiMiddleware.push(S)},w.prototype.destroy=function(){this.removeAllListeners(),this.reset()},w}(n.default);t.default=_;for(var x in d.default.prototype)_.prototype[x]=d.default.prototype[x];_._pixiMiddleware=[f.blobMiddlewareFactory,h.default,r.default,s.default];var T=n.default.Resource;T.setExtensionXhrType("fnt",T.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(g,e,t){t.__esModule=!0,t.default=function(){return function(u,r){var i=u.name+"_image";if(!u.data||u.type!==a.Resource.TYPE.JSON||!u.data.frames||this.resources[i]){r();return}var s={crossOrigin:u.crossOrigin,metadata:u.metadata.imageMetadata,parentResource:u},p=v(u,this.baseUrl);this.add(i,p,s,function(c){if(c.error){r(c.error);return}var m=new o.Spritesheet(c.texture.baseTexture,u.data,u.url);m.parse(function(){u.spritesheet=m,u.textures=m.textures,r()})})}},t.getResourcePath=v;var a=g("resource-loader"),n=g("url"),f=d(n),o=g("../core");function d(h){return h&&h.__esModule?h:{default:h}}function v(h,u){return h.isDataUrl?h.data.meta.image:f.default.resolve(h.url.replace(u,""),h.data.meta.image)}},{"../core":65,"resource-loader":36,url:38}],165:[function(g,e,t){t.__esModule=!0,t.default=function(){return function(v,h){v.data&&v.type===a.Resource.TYPE.IMAGE&&(v.texture=f.default.fromLoader(v.data,v.url,v.name)),h()}};var a=g("resource-loader"),n=g("../core/textures/Texture"),f=o(n);function o(d){return d&&d.__esModule?d:{default:d}}},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(g,e,t){t.__esModule=!0;var a=function(){function c(m,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,_,x){return _&&c(m.prototype,_),x&&c(m,x),m}}(),n=g("../core"),f=h(n),o=g("../core/textures/Texture"),d=v(o);function v(c){return c&&c.__esModule?c:{default:c}}function h(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function u(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function r(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function i(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var s=new f.Point,p=new f.Polygon,l=function(c){i(m,c);function m(_,x,T,y,w){u(this,m);var b=r(this,c.call(this));return b._texture=_||d.default.EMPTY,b.uvs=T||new Float32Array([0,0,1,0,1,1,0,1]),b.vertices=x||new Float32Array([0,0,100,0,100,100,0,100]),b.indices=y||new Uint16Array([0,1,3,2]),b.dirty=0,b.indexDirty=0,b.vertexDirty=0,b.autoUpdate=!0,b.blendMode=f.BLEND_MODES.NORMAL,b.canvasPadding=f.settings.MESH_CANVAS_PADDING,b.drawMode=w||m.DRAW_MODES.TRIANGLE_MESH,b.shader=null,b.tintRgb=new Float32Array([1,1,1]),b._glDatas={},b._uvTransform=new f.TextureMatrix(b._texture),b.uploadUvTransform=!1,b.pluginName="mesh",b}return m.prototype._renderWebGL=function(x){this.refresh(),x.setObjectRenderer(x.plugins[this.pluginName]),x.plugins[this.pluginName].render(this)},m.prototype._renderCanvas=function(x){this.refresh(),x.plugins[this.pluginName].render(this)},m.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},m.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},m.prototype.refresh=function(x){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(x)&&this._refresh()},m.prototype._refresh=function(){},m.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},m.prototype.containsPoint=function(x){if(!this.getBounds().contains(x.x,x.y))return!1;this.worldTransform.applyInverse(x,s);for(var T=this.vertices,y=p.points,w=this.indices,b=this.indices.length,S=this.drawMode===m.DRAW_MODES.TRIANGLES?3:1,E=0;E+2<b;E+=S){var O=w[E]*2,P=w[E+1]*2,C=w[E+2]*2;if(y[0]=T[O],y[1]=T[O+1],y[2]=T[P],y[3]=T[P+1],y[4]=T[C],y[5]=T[C+1],p.contains(s.x,s.y))return!0}return!1},m.prototype.destroy=function(x){for(var T in this._glDatas){var y=this._glDatas[T];y.destroy?y.destroy():(y.vertexBuffer&&(y.vertexBuffer.destroy(),y.vertexBuffer=null),y.indexBuffer&&(y.indexBuffer.destroy(),y.indexBuffer=null),y.uvBuffer&&(y.uvBuffer.destroy(),y.uvBuffer=null),y.vao&&(y.vao.destroy(),y.vao=null))}this._glDatas=null,c.prototype.destroy.call(this,x)},a(m,[{key:"texture",get:function(){return this._texture},set:function(x){this._texture!==x&&(this._texture=x,x&&(x.baseTexture.hasLoaded?this._onTextureUpdate():x.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return f.utils.rgb2hex(this.tintRgb)},set:function(x){this.tintRgb=f.utils.hex2rgb(x,this.tintRgb)}}]),m}(f.Container);t.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("./Plane"),f=o(n);function o(i){return i&&i.__esModule?i:{default:i}}function d(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function v(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function h(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var u=10,r=function(i){h(s,i);function s(p,l,c,m,_){d(this,s);var x=v(this,i.call(this,p,4,4));return x._origWidth=p.orig.width,x._origHeight=p.orig.height,x._width=x._origWidth,x._height=x._origHeight,x._leftWidth=typeof l<"u"?l:u,x._rightWidth=typeof m<"u"?m:u,x._topHeight=typeof c<"u"?c:u,x._bottomHeight=typeof _<"u"?_:u,x.refresh(!0),x}return s.prototype.updateHorizontalVertices=function(){var l=this.vertices,c=this._topHeight+this._bottomHeight,m=this._height>c?1:this._height/c;l[9]=l[11]=l[13]=l[15]=this._topHeight*m,l[17]=l[19]=l[21]=l[23]=this._height-this._bottomHeight*m,l[25]=l[27]=l[29]=l[31]=this._height},s.prototype.updateVerticalVertices=function(){var l=this.vertices,c=this._leftWidth+this._rightWidth,m=this._width>c?1:this._width/c;l[2]=l[10]=l[18]=l[26]=this._leftWidth*m,l[4]=l[12]=l[20]=l[28]=this._width-this._rightWidth*m,l[6]=l[14]=l[22]=l[30]=this._width},s.prototype._renderCanvas=function(l){var c=l.context;c.globalAlpha=this.worldAlpha,l.setBlendMode(this.blendMode);var m=this.worldTransform,_=l.resolution;l.roundPixels?c.setTransform(m.a*_,m.b*_,m.c*_,m.d*_,m.tx*_|0,m.ty*_|0):c.setTransform(m.a*_,m.b*_,m.c*_,m.d*_,m.tx*_,m.ty*_);var x=this._texture.baseTexture,T=x.source,y=x.width*x.resolution,w=x.height*x.resolution;this.drawSegment(c,T,y,w,0,1,10,11),this.drawSegment(c,T,y,w,2,3,12,13),this.drawSegment(c,T,y,w,4,5,14,15),this.drawSegment(c,T,y,w,8,9,18,19),this.drawSegment(c,T,y,w,10,11,20,21),this.drawSegment(c,T,y,w,12,13,22,23),this.drawSegment(c,T,y,w,16,17,26,27),this.drawSegment(c,T,y,w,18,19,28,29),this.drawSegment(c,T,y,w,20,21,30,31)},s.prototype.drawSegment=function(l,c,m,_,x,T,y,w){var b=this.uvs,S=this.vertices,E=(b[y]-b[x])*m,O=(b[w]-b[T])*_,P=S[y]-S[x],C=S[w]-S[T];E<1&&(E=1),O<1&&(O=1),P<1&&(P=1),C<1&&(C=1),l.drawImage(c,b[x]*m,b[T]*_,E,O,S[x],S[T],P,C)},s.prototype._refresh=function(){i.prototype._refresh.call(this);var l=this.uvs,c=this._texture;this._origWidth=c.orig.width,this._origHeight=c.orig.height;var m=1/this._origWidth,_=1/this._origHeight;l[0]=l[8]=l[16]=l[24]=0,l[1]=l[3]=l[5]=l[7]=0,l[6]=l[14]=l[22]=l[30]=1,l[25]=l[27]=l[29]=l[31]=1,l[2]=l[10]=l[18]=l[26]=m*this._leftWidth,l[4]=l[12]=l[20]=l[28]=1-m*this._rightWidth,l[9]=l[11]=l[13]=l[15]=_*this._topHeight,l[17]=l[19]=l[21]=l[23]=1-_*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},a(s,[{key:"width",get:function(){return this._width},set:function(l){this._width=l,this._refresh()}},{key:"height",get:function(){return this._height},set:function(l){this._height=l,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(l){this._leftWidth=l,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(l){this._rightWidth=l,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(l){this._topHeight=l,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(l){this._bottomHeight=l,this._refresh()}}]),s}(f.default);t.default=r},{"./Plane":168}],168:[function(g,e,t){t.__esModule=!0;var a=g("./Mesh"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(i,s,p){o(this,r);var l=d(this,u.call(this,i));return l._ready=!0,l.verticesX=s||10,l.verticesY=p||10,l.drawMode=n.default.DRAW_MODES.TRIANGLES,l.refresh(),l}return r.prototype._refresh=function(){for(var s=this._texture,p=this.verticesX*this.verticesY,l=[],c=[],m=[],_=[],x=this.verticesX-1,T=this.verticesY-1,y=s.width/x,w=s.height/T,b=0;b<p;b++){var S=b%this.verticesX,E=b/this.verticesX|0;l.push(S*y,E*w),m.push(S/x,E/T)}for(var O=x*T,P=0;P<O;P++){var C=P%x,A=P/x|0,B=A*this.verticesX+C,I=A*this.verticesX+C+1,R=(A+1)*this.verticesX+C,D=(A+1)*this.verticesX+C+1;_.push(B,I,R),_.push(I,D,R)}this.vertices=new Float32Array(l),this.uvs=new Float32Array(m),this.colors=new Float32Array(c),this.indices=new Uint16Array(_),this.dirty++,this.indexDirty++,this.multiplyUvs()},r.prototype._onTextureUpdate=function(){n.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r}(n.default);t.default=h},{"./Mesh":166}],169:[function(g,e,t){t.__esModule=!0;var a=g("./Mesh"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(i,s){o(this,r);var p=d(this,u.call(this,i));return p.points=s,p.vertices=new Float32Array(s.length*4),p.uvs=new Float32Array(s.length*4),p.colors=new Float32Array(s.length*2),p.indices=new Uint16Array(s.length*2),p.autoUpdate=!0,p.refresh(),p}return r.prototype._refresh=function(){var s=this.points;if(!(s.length<1||!this._texture._uvs)){this.vertices.length/4!==s.length&&(this.vertices=new Float32Array(s.length*4),this.uvs=new Float32Array(s.length*4),this.colors=new Float32Array(s.length*2),this.indices=new Uint16Array(s.length*2));var p=this.uvs,l=this.indices,c=this.colors;p[0]=0,p[1]=0,p[2]=0,p[3]=1,c[0]=1,c[1]=1,l[0]=0,l[1]=1;for(var m=s.length,_=1;_<m;_++){var x=_*4,T=_/(m-1);p[x]=T,p[x+1]=0,p[x+2]=T,p[x+3]=1,x=_*2,c[x]=1,c[x+1]=1,x=_*2,l[x]=x,l[x+1]=x+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},r.prototype.refreshVertices=function(){var s=this.points;if(!(s.length<1))for(var p=s[0],l=void 0,c=0,m=0,_=this.vertices,x=s.length,T=0;T<x;T++){var y=s[T],w=T*4;T<s.length-1?l=s[T+1]:l=y,m=-(l.x-p.x),c=l.y-p.y;var b=Math.sqrt(c*c+m*m),S=this._texture.height/2;c/=b,m/=b,c*=S,m*=S,_[w]=y.x+c,_[w+1]=y.y+m,_[w+2]=y.x-c,_[w+3]=y.y-m,p=y}},r.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},r}(n.default);t.default=h},{"./Mesh":166}],170:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=v(a),f=g("../Mesh"),o=d(f);function d(r){return r&&r.__esModule?r:{default:r}}function v(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i}function h(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var u=function(){function r(i){h(this,r),this.renderer=i}return r.prototype.render=function(s){var p=this.renderer,l=p.context,c=s.worldTransform,m=p.resolution;p.roundPixels?l.setTransform(c.a*m,c.b*m,c.c*m,c.d*m,c.tx*m|0,c.ty*m|0):l.setTransform(c.a*m,c.b*m,c.c*m,c.d*m,c.tx*m,c.ty*m),p.context.globalAlpha=s.worldAlpha,p.setBlendMode(s.blendMode),s.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(s):this._renderTriangles(s)},r.prototype._renderTriangleMesh=function(s){for(var p=s.vertices.length/2,l=0;l<p-2;l++){var c=l*2;this._renderDrawTriangle(s,c,c+2,c+4)}},r.prototype._renderTriangles=function(s){for(var p=s.indices,l=p.length,c=0;c<l;c+=3){var m=p[c]*2,_=p[c+1]*2,x=p[c+2]*2;this._renderDrawTriangle(s,m,_,x)}},r.prototype._renderDrawTriangle=function(s,p,l,c){var m=this.renderer.context,_=s.uvs,x=s.vertices,T=s._texture;if(T.valid){var y=T.baseTexture,w=y.source,b=y.width,S=y.height,E=void 0,O=void 0,P=void 0,C=void 0,A=void 0,B=void 0;if(s.uploadUvTransform){var I=s._uvTransform.mapCoord;E=(_[p]*I.a+_[p+1]*I.c+I.tx)*y.width,O=(_[l]*I.a+_[l+1]*I.c+I.tx)*y.width,P=(_[c]*I.a+_[c+1]*I.c+I.tx)*y.width,C=(_[p]*I.b+_[p+1]*I.d+I.ty)*y.height,A=(_[l]*I.b+_[l+1]*I.d+I.ty)*y.height,B=(_[c]*I.b+_[c+1]*I.d+I.ty)*y.height}else E=_[p]*y.width,O=_[l]*y.width,P=_[c]*y.width,C=_[p+1]*y.height,A=_[l+1]*y.height,B=_[c+1]*y.height;var R=x[p],D=x[l],L=x[c],F=x[p+1],N=x[l+1],U=x[c+1],k=s.canvasPadding/this.renderer.resolution;if(k>0){var G=k/Math.abs(s.worldTransform.a),W=k/Math.abs(s.worldTransform.d),K=(R+D+L)/3,q=(F+N+U)/3,Q=R-K,J=F-q,V=Math.sqrt(Q*Q+J*J);R=K+Q/V*(V+G),F=q+J/V*(V+W),Q=D-K,J=N-q,V=Math.sqrt(Q*Q+J*J),D=K+Q/V*(V+G),N=q+J/V*(V+W),Q=L-K,J=U-q,V=Math.sqrt(Q*Q+J*J),L=K+Q/V*(V+G),U=q+J/V*(V+W)}m.save(),m.beginPath(),m.moveTo(R,F),m.lineTo(D,N),m.lineTo(L,U),m.closePath(),m.clip();var Z=E*A+C*P+O*B-A*P-C*O-E*B,$=R*A+C*L+D*B-A*L-C*D-R*B,it=E*D+R*P+O*L-D*P-R*O-E*L,nt=E*A*L+C*D*P+R*O*B-R*A*P-C*O*L-E*D*B,at=F*A+C*U+N*B-A*U-C*N-F*B,st=E*N+F*P+O*U-N*P-F*O-E*U,rt=E*A*U+C*N*P+F*O*B-F*A*P-C*O*U-E*N*B;m.transform($/Z,at/Z,it/Z,st/Z,nt/Z,rt/Z),m.drawImage(w,0,0,b*y.resolution,S*y.resolution,0,0,b,S),m.restore(),this.renderer.invalidateBlendMode()}},r.prototype.renderMeshFlat=function(s){var p=this.renderer.context,l=s.vertices,c=l.length/2;p.beginPath();for(var m=1;m<c-2;++m){var _=m*2,x=l[_],T=l[_+1],y=l[_+2],w=l[_+3],b=l[_+4],S=l[_+5];p.moveTo(x,T),p.lineTo(y,w),p.lineTo(b,S)}p.fillStyle="#FF0000",p.fill(),p.closePath()},r.prototype.destroy=function(){this.renderer=null},r}();t.default=u,n.CanvasRenderer.registerPlugin("mesh",u)},{"../../core":65,"../Mesh":166}],171:[function(g,e,t){t.__esModule=!0;var a=g("./Mesh");Object.defineProperty(t,"Mesh",{enumerable:!0,get:function(){return h(a).default}});var n=g("./webgl/MeshRenderer");Object.defineProperty(t,"MeshRenderer",{enumerable:!0,get:function(){return h(n).default}});var f=g("./canvas/CanvasMeshRenderer");Object.defineProperty(t,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(f).default}});var o=g("./Plane");Object.defineProperty(t,"Plane",{enumerable:!0,get:function(){return h(o).default}});var d=g("./NineSlicePlane");Object.defineProperty(t,"NineSlicePlane",{enumerable:!0,get:function(){return h(d).default}});var v=g("./Rope");Object.defineProperty(t,"Rope",{enumerable:!0,get:function(){return h(v).default}});function h(u){return u&&u.__esModule?u:{default:u}}},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=u(a),f=g("pixi-gl-core"),o=h(f),d=g("../Mesh"),v=h(d);g("path");function h(c){return c&&c.__esModule?c:{default:c}}function u(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function r(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function i(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function s(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var p=n.Matrix.IDENTITY,l=function(c){s(m,c);function m(_){r(this,m);var x=i(this,c.call(this,_));return x.shader=null,x}return m.prototype.onContextChange=function(){var x=this.renderer.gl;this.shader=new n.Shader(x,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`)},m.prototype.render=function(x){var T=this.renderer,y=T.gl,w=x._texture;if(w.valid){var b=x._glDatas[T.CONTEXT_UID];b||(T.bindVao(null),b={shader:this.shader,vertexBuffer:o.default.GLBuffer.createVertexBuffer(y,x.vertices,y.STREAM_DRAW),uvBuffer:o.default.GLBuffer.createVertexBuffer(y,x.uvs,y.STREAM_DRAW),indexBuffer:o.default.GLBuffer.createIndexBuffer(y,x.indices,y.STATIC_DRAW),vao:null,dirty:x.dirty,indexDirty:x.indexDirty,vertexDirty:x.vertexDirty},b.vao=new o.default.VertexArrayObject(y).addIndex(b.indexBuffer).addAttribute(b.vertexBuffer,b.shader.attributes.aVertexPosition,y.FLOAT,!1,2*4,0).addAttribute(b.uvBuffer,b.shader.attributes.aTextureCoord,y.FLOAT,!1,2*4,0),x._glDatas[T.CONTEXT_UID]=b),T.bindVao(b.vao),x.dirty!==b.dirty&&(b.dirty=x.dirty,b.uvBuffer.upload(x.uvs)),x.indexDirty!==b.indexDirty&&(b.indexDirty=x.indexDirty,b.indexBuffer.upload(x.indices)),x.vertexDirty!==b.vertexDirty&&(b.vertexDirty=x.vertexDirty,b.vertexBuffer.upload(x.vertices)),T.bindShader(b.shader),b.shader.uniforms.uSampler=T.bindTexture(w),T.state.setBlendMode(n.utils.correctBlendMode(x.blendMode,w.baseTexture.premultipliedAlpha)),b.shader.uniforms.uTransform&&(x.uploadUvTransform?b.shader.uniforms.uTransform=x._uvTransform.mapCoord.toArray(!0):b.shader.uniforms.uTransform=p.toArray(!0)),b.shader.uniforms.translationMatrix=x.worldTransform.toArray(!0),b.shader.uniforms.uColor=n.utils.premultiplyRgba(x.tintRgb,x.worldAlpha,b.shader.uniforms.uColor,w.baseTexture.premultipliedAlpha);var S=x.drawMode===v.default.DRAW_MODES.TRIANGLE_MESH?y.TRIANGLE_STRIP:y.TRIANGLES;b.vao.draw(S,x.indices.length,0)}},m}(n.ObjectRenderer);t.default=l,n.WebGLRenderer.registerPlugin("mesh",l)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(g,e,t){t.__esModule=!0;var a=function(){function i(s,p){for(var l=0;l<p.length;l++){var c=p[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,l){return p&&i(s.prototype,p),l&&i(s,l),s}}(),n=g("../core"),f=d(n),o=g("../core/utils");function d(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s.default=i,s}function v(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function h(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function u(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var r=function(i){u(s,i);function s(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,l=arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;v(this,s);var _=h(this,i.call(this)),x=16384;return c>x&&(c=x),c>p&&(c=p),_._properties=[!1,!0,!1,!1,!1],_._maxSize=p,_._batchSize=c,_._glBuffers={},_._bufferUpdateIDs=[],_._updateID=0,_.interactiveChildren=!1,_.blendMode=f.BLEND_MODES.NORMAL,_.autoResize=m,_.roundPixels=!0,_.baseTexture=null,_.setProperties(l),_._tint=0,_.tintRgb=new Float32Array(4),_.tint=16777215,_}return s.prototype.setProperties=function(l){l&&(this._properties[0]="vertices"in l||"scale"in l?!!l.vertices||!!l.scale:this._properties[0],this._properties[1]="position"in l?!!l.position:this._properties[1],this._properties[2]="rotation"in l?!!l.rotation:this._properties[2],this._properties[3]="uvs"in l?!!l.uvs:this._properties[3],this._properties[4]="tint"in l||"alpha"in l?!!l.tint||!!l.alpha:this._properties[4])},s.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},s.prototype.renderWebGL=function(l){var c=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return c.onChildrenChange(0)})),l.setObjectRenderer(l.plugins.particle),l.plugins.particle.render(this))},s.prototype.onChildrenChange=function(l){for(var c=Math.floor(l/this._batchSize);this._bufferUpdateIDs.length<c;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[c]=++this._updateID},s.prototype.renderCanvas=function(l){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var c=l.context,m=this.worldTransform,_=!0,x=0,T=0,y=0,w=0;l.setBlendMode(this.blendMode),c.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var b=0;b<this.children.length;++b){var S=this.children[b];if(S.visible){var E=S._texture.frame;if(c.globalAlpha=this.worldAlpha*S.alpha,S.rotation%(Math.PI*2)===0)_&&(c.setTransform(m.a,m.b,m.c,m.d,m.tx*l.resolution,m.ty*l.resolution),_=!1),x=S.anchor.x*(-E.width*S.scale.x)+S.position.x+.5,T=S.anchor.y*(-E.height*S.scale.y)+S.position.y+.5,y=E.width*S.scale.x,w=E.height*S.scale.y;else{_||(_=!0),S.displayObjectUpdateTransform();var O=S.worldTransform;l.roundPixels?c.setTransform(O.a,O.b,O.c,O.d,O.tx*l.resolution|0,O.ty*l.resolution|0):c.setTransform(O.a,O.b,O.c,O.d,O.tx*l.resolution,O.ty*l.resolution),x=S.anchor.x*-E.width+.5,T=S.anchor.y*-E.height+.5,y=E.width,w=E.height}var P=S._texture.baseTexture.resolution;c.drawImage(S._texture.baseTexture.source,E.x*P,E.y*P,E.width*P,E.height*P,x*l.resolution,T*l.resolution,y*l.resolution,w*l.resolution)}}}},s.prototype.destroy=function(l){if(i.prototype.destroy.call(this,l),this._buffers)for(var c=0;c<this._buffers.length;++c)this._buffers[c].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},a(s,[{key:"tint",get:function(){return this._tint},set:function(l){this._tint=l,(0,o.hex2rgb)(l,this.tintRgb)}}]),s}(f.Container);t.default=r},{"../core":65,"../core/utils":125}],174:[function(g,e,t){t.__esModule=!0;var a=g("./ParticleContainer");Object.defineProperty(t,"ParticleContainer",{enumerable:!0,get:function(){return f(a).default}});var n=g("./webgl/ParticleRenderer");Object.defineProperty(t,"ParticleRenderer",{enumerable:!0,get:function(){return f(n).default}});function f(o){return o&&o.__esModule?o:{default:o}}},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(g,e,t){t.__esModule=!0;var a=g("pixi-gl-core"),n=d(a),f=g("../../core/utils/createIndicesForQuads"),o=d(f);function d(u){return u&&u.__esModule?u:{default:u}}function v(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var h=function(){function u(r,i,s,p){v(this,u),this.gl=r,this.size=p,this.dynamicProperties=[],this.staticProperties=[];for(var l=0;l<i.length;++l){var c=i[l];c={attribute:c.attribute,size:c.size,uploadFunction:c.uploadFunction,unsignedByte:c.unsignedByte,offset:c.offset},s[l]?this.dynamicProperties.push(c):this.staticProperties.push(c)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return u.prototype.initBuffers=function(){var i=this.gl,s=0;this.indices=(0,o.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(i,this.indices,i.STATIC_DRAW),this.dynamicStride=0;for(var p=0;p<this.dynamicProperties.length;++p){var l=this.dynamicProperties[p];l.offset=s,s+=l.size,this.dynamicStride+=l.size}var c=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(c),this.dynamicDataUint32=new Uint32Array(c),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(i,c,i.STREAM_DRAW);var m=0;this.staticStride=0;for(var _=0;_<this.staticProperties.length;++_){var x=this.staticProperties[_];x.offset=m,m+=x.size,this.staticStride+=x.size}var T=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(T),this.staticDataUint32=new Uint32Array(T),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(i,T,i.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(i).addIndex(this.indexBuffer);for(var y=0;y<this.dynamicProperties.length;++y){var w=this.dynamicProperties[y];w.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,w.attribute,i.UNSIGNED_BYTE,!0,this.dynamicStride*4,w.offset*4):this.vao.addAttribute(this.dynamicBuffer,w.attribute,i.FLOAT,!1,this.dynamicStride*4,w.offset*4)}for(var b=0;b<this.staticProperties.length;++b){var S=this.staticProperties[b];S.unsignedByte?this.vao.addAttribute(this.staticBuffer,S.attribute,i.UNSIGNED_BYTE,!0,this.staticStride*4,S.offset*4):this.vao.addAttribute(this.staticBuffer,S.attribute,i.FLOAT,!1,this.staticStride*4,S.offset*4)}},u.prototype.uploadDynamic=function(i,s,p){for(var l=0;l<this.dynamicProperties.length;l++){var c=this.dynamicProperties[l];c.uploadFunction(i,s,p,c.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,c.offset)}this.dynamicBuffer.upload()},u.prototype.uploadStatic=function(i,s,p){for(var l=0;l<this.staticProperties.length;l++){var c=this.staticProperties[l];c.uploadFunction(i,s,p,c.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,c.offset)}this.staticBuffer.upload()},u.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},u}();t.default=h},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=r(a),f=g("./ParticleShader"),o=u(f),d=g("./ParticleBuffer"),v=u(d),h=g("../../core/utils");function u(c){return c&&c.__esModule?c:{default:c}}function r(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function i(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function s(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function p(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var l=function(c){p(m,c);function m(_){i(this,m);var x=s(this,c.call(this,_));return x.shader=null,x.indexBuffer=null,x.properties=null,x.tempMatrix=new n.Matrix,x.CONTEXT_UID=0,x}return m.prototype.onContextChange=function(){var x=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new o.default(x),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},m.prototype.start=function(){this.renderer.bindShader(this.shader)},m.prototype.render=function(x){var T=x.children,y=x._maxSize,w=x._batchSize,b=this.renderer,S=T.length;if(S!==0){S>y&&(S=y);var E=x._glBuffers[b.CONTEXT_UID];E||(E=x._glBuffers[b.CONTEXT_UID]=this.generateBuffers(x));var O=T[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(x.blendMode,O.premultipliedAlpha));var P=b.gl,C=x.worldTransform.copy(this.tempMatrix);C.prepend(b._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=C.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(x.tintRgb,x.worldAlpha,this.shader.uniforms.uColor,O.premultipliedAlpha),this.shader.uniforms.uSampler=b.bindTexture(O);for(var A=!1,B=0,I=0;B<S;B+=w,I+=1){var R=S-B;if(R>w&&(R=w),I>=E.length){if(!x.autoResize)break;E.push(this._generateOneMoreBuffer(x))}var D=E[I];D.uploadDynamic(T,B,R);var L=x._bufferUpdateIDs[I]||0;A=A||D._updateID<L,A&&(D._updateID=x._updateID,D.uploadStatic(T,B,R)),b.bindVao(D.vao),D.vao.draw(P.TRIANGLES,R*6)}}},m.prototype.generateBuffers=function(x){for(var T=this.renderer.gl,y=[],w=x._maxSize,b=x._batchSize,S=x._properties,E=0;E<w;E+=b)y.push(new v.default(T,this.properties,S,b));return y},m.prototype._generateOneMoreBuffer=function(x){var T=this.renderer.gl,y=x._batchSize,w=x._properties;return new v.default(T,this.properties,w,y)},m.prototype.uploadVertices=function(x,T,y,w,b,S){for(var E=0,O=0,P=0,C=0,A=0;A<y;++A){var B=x[T+A],I=B._texture,R=B.scale.x,D=B.scale.y,L=I.trim,F=I.orig;L?(O=L.x-B.anchor.x*F.width,E=O+L.width,C=L.y-B.anchor.y*F.height,P=C+L.height):(E=F.width*(1-B.anchor.x),O=F.width*-B.anchor.x,P=F.height*(1-B.anchor.y),C=F.height*-B.anchor.y),w[S]=O*R,w[S+1]=C*D,w[S+b]=E*R,w[S+b+1]=C*D,w[S+b*2]=E*R,w[S+b*2+1]=P*D,w[S+b*3]=O*R,w[S+b*3+1]=P*D,S+=b*4}},m.prototype.uploadPosition=function(x,T,y,w,b,S){for(var E=0;E<y;E++){var O=x[T+E].position;w[S]=O.x,w[S+1]=O.y,w[S+b]=O.x,w[S+b+1]=O.y,w[S+b*2]=O.x,w[S+b*2+1]=O.y,w[S+b*3]=O.x,w[S+b*3+1]=O.y,S+=b*4}},m.prototype.uploadRotation=function(x,T,y,w,b,S){for(var E=0;E<y;E++){var O=x[T+E].rotation;w[S]=O,w[S+b]=O,w[S+b*2]=O,w[S+b*3]=O,S+=b*4}},m.prototype.uploadUvs=function(x,T,y,w,b,S){for(var E=0;E<y;++E){var O=x[T+E]._texture._uvs;O?(w[S]=O.x0,w[S+1]=O.y0,w[S+b]=O.x1,w[S+b+1]=O.y1,w[S+b*2]=O.x2,w[S+b*2+1]=O.y2,w[S+b*3]=O.x3,w[S+b*3+1]=O.y3,S+=b*4):(w[S]=0,w[S+1]=0,w[S+b]=0,w[S+b+1]=0,w[S+b*2]=0,w[S+b*2+1]=0,w[S+b*3]=0,w[S+b*3+1]=0,S+=b*4)}},m.prototype.uploadTint=function(x,T,y,w,b,S){for(var E=0;E<y;++E){var O=x[T+E],P=O._texture.baseTexture.premultipliedAlpha,C=O.alpha,A=C<1&&P?(0,h.premultiplyTint)(O._tintRGB,C):O._tintRGB+(C*255<<24);w[S]=A,w[S+b]=A,w[S+b*2]=A,w[S+b*3]=A,S+=b*4}},m.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),c.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},m}(n.ObjectRenderer);t.default=l,n.WebGLRenderer.registerPlugin("particle",l)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(g,e,t){t.__esModule=!0;var a=g("../../core/Shader"),n=f(a);function f(u){return u&&u.__esModule?u:{default:u}}function o(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function d(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function v(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var h=function(u){v(r,u);function r(i){return o(this,r),d(this,u.call(this,i,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join(`
`)))}return r}(n.default);t.default=h},{"../../core/Shader":44}],178:[function(g,e,t){Math.sign||(Math.sign=function(n){return n=Number(n),n===0||isNaN(n)?n:n>0?1:-1})},{}],179:[function(g,e,t){Number.isInteger||(Number.isInteger=function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n})},{}],180:[function(g,e,t){var a=g("object-assign"),n=f(a);function f(o){return o&&o.__esModule?o:{default:o}}Object.assign||(Object.assign=n.default)},{"object-assign":6}],181:[function(g,e,t){g("./Object.assign"),g("./requestAnimationFrame"),g("./Math.sign"),g("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(g,e,t){(function(a){var n=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(a.performance&&a.performance.now)){var f=Date.now();a.performance||(a.performance={}),a.performance.now=function(){return Date.now()-f}}for(var o=Date.now(),d=["ms","moz","webkit","o"],v=0;v<d.length&&!a.requestAnimationFrame;++v){var h=d[v];a.requestAnimationFrame=a[h+"RequestAnimationFrame"],a.cancelAnimationFrame=a[h+"CancelAnimationFrame"]||a[h+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(u){if(typeof u!="function")throw new TypeError(u+"is not a function");var r=Date.now(),i=n+o-r;return i<0&&(i=0),o=r,setTimeout(function(){o=Date.now(),u(performance.now())},i)}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(u){return clearTimeout(u)})}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],183:[function(g,e,t){t.__esModule=!0;var a=g("../core"),n=v(a),f=g("./limiters/CountLimiter"),o=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function v(x){if(x&&x.__esModule)return x;var T={};if(x!=null)for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(T[y]=x[y]);return T.default=x,T}function h(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}var u=n.ticker.shared;n.settings.UPLOADS_PER_FRAME=4;var r=function(){function x(T){var y=this;h(this,x),this.limiter=new o.default(n.settings.UPLOADS_PER_FRAME),this.renderer=T,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){y.queue&&y.prepareItems()},this.registerFindHook(m),this.registerFindHook(_),this.registerFindHook(i),this.registerFindHook(s),this.registerFindHook(p),this.registerUploadHook(l),this.registerUploadHook(c)}return x.prototype.upload=function(y,w){typeof y=="function"&&(w=y,y=null),y&&this.add(y),this.queue.length?(w&&this.completes.push(w),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY))):w&&w()},x.prototype.tick=function(){setTimeout(this.delayedTick,0)},x.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var y=this.queue[0],w=!1;if(y&&!y._destroyed){for(var b=0,S=this.uploadHooks.length;b<S;b++)if(this.uploadHooks[b](this.uploadHookHelper,y)){this.queue.shift(),w=!0;break}}w||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var E=this.completes.slice(0);this.completes.length=0;for(var O=0,P=E.length;O<P;O++)E[O]()}},x.prototype.registerFindHook=function(y){return y&&this.addHooks.push(y),this},x.prototype.registerUploadHook=function(y){return y&&this.uploadHooks.push(y),this},x.prototype.add=function(y){for(var w=0,b=this.addHooks.length;w<b&&!this.addHooks[w](y,this.queue);w++);if(y instanceof n.Container)for(var S=y.children.length-1;S>=0;S--)this.add(y.children[S]);return this},x.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},x}();t.default=r;function i(x,T){var y=!1;if(x&&x._textures&&x._textures.length){for(var w=0;w<x._textures.length;w++)if(x._textures[w]instanceof n.Texture){var b=x._textures[w].baseTexture;T.indexOf(b)===-1&&(T.push(b),y=!0)}}return y}function s(x,T){return x instanceof n.BaseTexture?(T.indexOf(x)===-1&&T.push(x),!0):!1}function p(x,T){if(x._texture&&x._texture instanceof n.Texture){var y=x._texture.baseTexture;return T.indexOf(y)===-1&&T.push(y),!0}return!1}function l(x,T){return T instanceof n.Text?(T.updateText(!0),!0):!1}function c(x,T){if(T instanceof n.TextStyle){var y=T.toFontString();return n.TextMetrics.measureFont(y),!0}return!1}function m(x,T){if(x instanceof n.Text){T.indexOf(x.style)===-1&&T.push(x.style),T.indexOf(x)===-1&&T.push(x);var y=x._texture.baseTexture;return T.indexOf(y)===-1&&T.push(y),!0}return!1}function _(x,T){return x instanceof n.TextStyle?(T.indexOf(x)===-1&&T.push(x),!0):!1}},{"../core":65,"./limiters/CountLimiter":186}],184:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=v(a),f=g("../BasePrepare"),o=d(f);function d(l){return l&&l.__esModule?l:{default:l}}function v(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(c[m]=l[m]);return c.default=l,c}function h(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function u(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function r(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var i=16,s=function(l){r(c,l);function c(m){h(this,c);var _=u(this,l.call(this,m));return _.uploadHookHelper=_,_.canvas=document.createElement("canvas"),_.canvas.width=i,_.canvas.height=i,_.ctx=_.canvas.getContext("2d"),_.registerUploadHook(p),_}return c.prototype.destroy=function(){l.prototype.destroy.call(this),this.ctx=null,this.canvas=null},c}(o.default);t.default=s;function p(l,c){if(c instanceof n.BaseTexture){var m=c.source,_=m.width===0?l.canvas.width:Math.min(l.canvas.width,m.width),x=m.height===0?l.canvas.height:Math.min(l.canvas.height,m.height);return l.ctx.drawImage(m,0,0,_,x,0,0,l.canvas.width,l.canvas.height),!0}return!1}n.CanvasRenderer.registerPlugin("prepare",s)},{"../../core":65,"../BasePrepare":183}],185:[function(g,e,t){t.__esModule=!0;var a=g("./webgl/WebGLPrepare");Object.defineProperty(t,"webgl",{enumerable:!0,get:function(){return v(a).default}});var n=g("./canvas/CanvasPrepare");Object.defineProperty(t,"canvas",{enumerable:!0,get:function(){return v(n).default}});var f=g("./BasePrepare");Object.defineProperty(t,"BasePrepare",{enumerable:!0,get:function(){return v(f).default}});var o=g("./limiters/CountLimiter");Object.defineProperty(t,"CountLimiter",{enumerable:!0,get:function(){return v(o).default}});var d=g("./limiters/TimeLimiter");Object.defineProperty(t,"TimeLimiter",{enumerable:!0,get:function(){return v(d).default}});function v(h){return h&&h.__esModule?h:{default:h}}},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o){a(this,f),this.maxItemsPerFrame=o,this.itemsLeft=0}return f.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},f.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},f}();t.default=n},{}],187:[function(g,e,t){t.__esModule=!0;function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function f(o){a(this,f),this.maxMilliseconds=o,this.frameStart=0}return f.prototype.beginFrame=function(){this.frameStart=Date.now()},f.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},f}();t.default=n},{}],188:[function(g,e,t){t.__esModule=!0;var a=g("../../core"),n=v(a),f=g("../BasePrepare"),o=d(f);function d(c){return c&&c.__esModule?c:{default:c}}function v(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(m[_]=c[_]);return m.default=c,m}function h(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function u(c,m){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:c}function r(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(c,m):c.__proto__=m)}var i=function(c){r(m,c);function m(_){h(this,m);var x=u(this,c.call(this,_));return x.uploadHookHelper=x.renderer,x.registerFindHook(l),x.registerUploadHook(s),x.registerUploadHook(p),x}return m}(o.default);t.default=i;function s(c,m){return m instanceof n.BaseTexture?(m._glTextures[c.CONTEXT_UID]||c.textureManager.updateTexture(m),!0):!1}function p(c,m){return m instanceof n.Graphics?((m.dirty||m.clearDirty||!m._webGL[c.plugins.graphics.CONTEXT_UID])&&c.plugins.graphics.updateGraphics(m),!0):!1}function l(c,m){return c instanceof n.Graphics?(m.push(c),!0):!1}n.WebGLRenderer.registerPlugin("prepare",i)},{"../../core":65,"../BasePrepare":183}],189:[function(g,e,t){(function(a){t.__esModule=!0,t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=void 0;var n=g("./polyfill");Object.keys(n).forEach(function(A){A==="default"||A==="__esModule"||Object.defineProperty(t,A,{enumerable:!0,get:function(){return n[A]}})});var f=g("./core");Object.keys(f).forEach(function(A){A==="default"||A==="__esModule"||Object.defineProperty(t,A,{enumerable:!0,get:function(){return f[A]}})});var o=g("./deprecation"),d=P(o),v=g("./accessibility"),h=O(v),u=g("./extract"),r=O(u),i=g("./extras"),s=O(i),p=g("./filters"),l=O(p),c=g("./interaction"),m=O(c),_=g("./loaders"),x=O(_),T=g("./mesh"),y=O(T),w=g("./particles"),b=O(w),S=g("./prepare"),E=O(S);function O(A){if(A&&A.__esModule)return A;var B={};if(A!=null)for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(B[I]=A[I]);return B.default=A,B}function P(A){return A&&A.__esModule?A:{default:A}}f.utils.mixins.performMixins();var C=x.shared||null;t.accessibility=h,t.extract=r,t.extras=s,t.filters=l,t.interaction=m,t.loaders=x,t.mesh=y,t.particles=b,t.prepare=E,t.loader=C,typeof d.default=="function"&&(0,d.default)(t),a.PIXI=t}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,"./prepare":185}]},{},[189])(189)});/*!
 * pixi-filters - v2.6.1
 * Compiled Thu, 03 May 2018 14:20:43 UTC
 *
 * pixi-filters is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ko=function(g,e){var t=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,a=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`,n=function(Y){function X(z){Y.call(this,t,a),Object.assign(this,{gamma:1,saturation:1,contrast:1,brightness:1,red:1,green:1,blue:1,alpha:1},z)}return Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X,X.prototype.apply=function(z,M,H,j){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,z.applyFilter(this,M,H,j)},X}(e.Filter),f=t,o=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,d=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,v=function(Y){function X(M,H,j){M===void 0&&(M=4),H===void 0&&(H=3),j===void 0&&(j=!1),Y.call(this,f,j?d:o),this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new e.Point,this.pixelSize=1,this._clamp=j,this._kernels=null,Array.isArray(M)?this.kernels=M:(this._blur=M,this.quality=H)}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={kernels:{configurable:!0},clamp:{configurable:!0},pixelSize:{configurable:!0},quality:{configurable:!0},blur:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){var ot,lt=this.pixelSize.x/H.size.width,dt=this.pixelSize.y/H.size.height;if(this._quality===1||this._blur===0)ot=this._kernels[0]+.5,this.uniforms.uOffset[0]=ot*lt,this.uniforms.uOffset[1]=ot*dt,M.applyFilter(this,H,j,et);else{for(var Mt,le=M.getRenderTarget(!0),$t=H,Oe=le,Ke=this._quality-1,qe=0;qe<Ke;qe++)ot=this._kernels[qe]+.5,this.uniforms.uOffset[0]=ot*lt,this.uniforms.uOffset[1]=ot*dt,M.applyFilter(this,$t,Oe,!0),Mt=$t,$t=Oe,Oe=Mt;ot=this._kernels[Ke]+.5,this.uniforms.uOffset[0]=ot*lt,this.uniforms.uOffset[1]=ot*dt,M.applyFilter(this,$t,j,et),M.returnRenderTarget(le)}},X.prototype._generateKernels=function(){var M=this._blur,H=this._quality,j=[M];if(M>0)for(var et=M,ot=M/H,lt=1;lt<H;lt++)et-=ot,j.push(et);this._kernels=j},z.kernels.get=function(){return this._kernels},z.kernels.set=function(M){Array.isArray(M)&&M.length>0?(this._kernels=M,this._quality=M.length,this._blur=Math.max.apply(Math,M)):(this._kernels=[0],this._quality=1)},z.clamp.get=function(){return this._clamp},z.pixelSize.set=function(M){typeof M=="number"?(this._pixelSize.x=M,this._pixelSize.y=M):Array.isArray(M)?(this._pixelSize.x=M[0],this._pixelSize.y=M[1]):M instanceof e.Point?(this._pixelSize.x=M.x,this._pixelSize.y=M.y):(this._pixelSize.x=1,this._pixelSize.y=1)},z.pixelSize.get=function(){return this._pixelSize},z.quality.get=function(){return this._quality},z.quality.set=function(M){this._quality=Math.max(1,Math.round(M)),this._generateKernels()},z.blur.get=function(){return this._blur},z.blur.set=function(M){this._blur=M,this._generateKernels()},Object.defineProperties(X.prototype,z),X}(e.Filter),h=t,u=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,r=function(Y){function X(M){M===void 0&&(M=.5),Y.call(this,h,u),this.threshold=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={threshold:{configurable:!0}};return z.threshold.get=function(){return this.uniforms.threshold},z.threshold.set=function(M){this.uniforms.threshold=M},Object.defineProperties(X.prototype,z),X}(e.Filter),i=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`,s=function(Y){function X(M){Y.call(this,h,i),typeof M=="number"&&(M={threshold:M}),M=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:e.settings.RESOLUTION},M),this.bloomScale=M.bloomScale,this.brightness=M.brightness;var H=M.kernels,j=M.blur,et=M.quality,ot=M.pixelSize,lt=M.resolution;this._extractFilter=new r(M.threshold),this._extractFilter.resolution=lt,this._blurFilter=H?new v(H):new v(j,et),this.pixelSize=ot,this.resolution=lt}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={resolution:{configurable:!0},threshold:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return X.prototype.apply=function(M,H,j,et,ot){var lt=M.getRenderTarget(!0);this._extractFilter.apply(M,H,lt,!0,ot);var dt=M.getRenderTarget(!0);this._blurFilter.apply(M,lt,dt,!0,ot),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=dt,M.applyFilter(this,H,j,et),M.returnRenderTarget(dt),M.returnRenderTarget(lt)},z.resolution.get=function(){return this._resolution},z.resolution.set=function(M){this._resolution=M,this._extractFilter&&(this._extractFilter.resolution=M),this._blurFilter&&(this._blurFilter.resolution=M)},z.threshold.get=function(){return this._extractFilter.threshold},z.threshold.set=function(M){this._extractFilter.threshold=M},z.kernels.get=function(){return this._blurFilter.kernels},z.kernels.set=function(M){this._blurFilter.kernels=M},z.blur.get=function(){return this._blurFilter.blur},z.blur.set=function(M){this._blurFilter.blur=M},z.quality.get=function(){return this._blurFilter.quality},z.quality.set=function(M){this._blurFilter.quality=M},z.pixelSize.get=function(){return this._blurFilter.pixelSize},z.pixelSize.set=function(M){this._blurFilter.pixelSize=M},Object.defineProperties(X.prototype,z),X}(e.Filter),p=t,l=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);
    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)
    {
        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}`,c=function(Y){function X(M){M===void 0&&(M=8),Y.call(this,p,l),this.size=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={size:{configurable:!0}};return z.size.get=function(){return this.uniforms.pixelSize},z.size.set=function(M){this.uniforms.pixelSize=M},Object.defineProperties(X.prototype,z),X}(e.Filter),m=t,_=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`,x=function(Y){function X(M){M===void 0&&(M={}),Y.call(this,m,_),this.uniforms.lightColor=new Float32Array(3),this.uniforms.shadowColor=new Float32Array(3),M=Object.assign({rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},M),this.rotation=M.rotation,this.thickness=M.thickness,this.lightColor=M.lightColor,this.lightAlpha=M.lightAlpha,this.shadowColor=M.shadowColor,this.shadowAlpha=M.shadowAlpha}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={rotation:{configurable:!0},thickness:{configurable:!0},lightColor:{configurable:!0},lightAlpha:{configurable:!0},shadowColor:{configurable:!0},shadowAlpha:{configurable:!0}};return X.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},z.rotation.get=function(){return this._angle/e.DEG_TO_RAD},z.rotation.set=function(M){this._angle=M*e.DEG_TO_RAD,this._updateTransform()},z.thickness.get=function(){return this._thickness},z.thickness.set=function(M){this._thickness=M,this._updateTransform()},z.lightColor.get=function(){return e.utils.rgb2hex(this.uniforms.lightColor)},z.lightColor.set=function(M){e.utils.hex2rgb(M,this.uniforms.lightColor)},z.lightAlpha.get=function(){return this.uniforms.lightAlpha},z.lightAlpha.set=function(M){this.uniforms.lightAlpha=M},z.shadowColor.get=function(){return e.utils.rgb2hex(this.uniforms.shadowColor)},z.shadowColor.set=function(M){e.utils.hex2rgb(M,this.uniforms.shadowColor)},z.shadowAlpha.get=function(){return this.uniforms.shadowAlpha},z.shadowAlpha.set=function(M){this.uniforms.shadowAlpha=M},Object.defineProperties(X.prototype,z),X}(e.Filter),T=e.filters,y=T.BlurXFilter,w=T.BlurYFilter,b=T.AlphaFilter,S=function(Y){function X(M,H,j,et){var ot,lt;M===void 0&&(M=2),H===void 0&&(H=4),j===void 0&&(j=e.settings.RESOLUTION),et===void 0&&(et=5),Y.call(this),typeof M=="number"?(ot=M,lt=M):M instanceof e.Point?(ot=M.x,lt=M.y):Array.isArray(M)&&(ot=M[0],lt=M[1]),this.blurXFilter=new y(ot,H,j,et),this.blurYFilter=new w(lt,H,j,et),this.blurYFilter.blendMode=e.BLEND_MODES.SCREEN,this.defaultFilter=new b}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={blur:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0}};return X.prototype.apply=function(M,H,j){var et=M.getRenderTarget(!0);this.defaultFilter.apply(M,H,j),this.blurXFilter.apply(M,H,et),this.blurYFilter.apply(M,et,j),M.returnRenderTarget(et)},z.blur.get=function(){return this.blurXFilter.blur},z.blur.set=function(M){this.blurXFilter.blur=this.blurYFilter.blur=M},z.blurX.get=function(){return this.blurXFilter.blur},z.blurX.set=function(M){this.blurXFilter.blur=M},z.blurY.get=function(){return this.blurYFilter.blur},z.blurY.set=function(M){this.blurYFilter.blur=M},Object.defineProperties(X.prototype,z),X}(e.Filter),E=t,O=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`,P=function(Y){function X(M,H,j){Y.call(this,E,O),this.uniforms.dimensions=new Float32Array(2),this.center=M||[.5,.5],this.radius=H||100,this.strength=j||1}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={radius:{configurable:!0},strength:{configurable:!0},center:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.dimensions[0]=H.sourceFrame.width,this.uniforms.dimensions[1]=H.sourceFrame.height,M.applyFilter(this,H,j,et)},z.radius.get=function(){return this.uniforms.radius},z.radius.set=function(M){this.uniforms.radius=M},z.strength.get=function(){return this.uniforms.strength},z.strength.set=function(M){this.uniforms.strength=M},z.center.get=function(){return this.uniforms.center},z.center.set=function(M){this.uniforms.center=M},Object.defineProperties(X.prototype,z),X}(e.Filter),C=t,A=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform sampler2D colorMap;

uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    float sliceIndex = color.b * (_size - 1.0);
    float zSlice0 = floor(sliceIndex);
    float zSlice1 = ceil(sliceIndex);

    float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
    float s0 = xOffset + zSlice0 * _sliceSize;
    float s1 = xOffset + zSlice1 * _sliceSize;
    vec4 slice0Color = texture2D(colorMap, vec2(s0, color.g));
    vec4 slice1Color = texture2D(colorMap, vec2(s1, color.g));
    vec4 adjusted = mix(slice0Color, slice1Color, fract(sliceIndex));

    gl_FragColor = mix(color, adjusted, _mix);
}
`,B=function(Y){function X(M,H,j){H===void 0&&(H=!1),j===void 0&&(j=1),Y.call(this,C,A),this._size=0,this._sliceSize=0,this._slicePixelSize=0,this._sliceInnerSize=0,this._scaleMode=null,this._nearest=!1,this.nearest=H,this.mix=j,this.colorMap=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={colorSize:{configurable:!0},colorMap:{configurable:!0},nearest:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms._mix=this.mix,M.applyFilter(this,H,j,et)},z.colorSize.get=function(){return this._size},z.colorMap.get=function(){return this._colorMap},z.colorMap.set=function(M){M instanceof e.Texture||(M=e.Texture.from(M)),M&&M.baseTexture&&(M.baseTexture.scaleMode=this._scaleMode,M.baseTexture.mipmap=!1,this._size=M.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=M),this._colorMap=M},z.nearest.get=function(){return this._nearest},z.nearest.set=function(M){this._nearest=M,this._scaleMode=M?e.SCALE_MODES.NEAREST:e.SCALE_MODES.LINEAR;var H=this._colorMap;H&&H.baseTexture&&(H.baseTexture._glTextures={},H.baseTexture.scaleMode=this._scaleMode,H.baseTexture.mipmap=!1,H._updateID++,H.baseTexture.emit("update",H.baseTexture))},X.prototype.updateColorMap=function(){var M=this._colorMap;M&&M.baseTexture&&(M._updateID++,M.baseTexture.emit("update",M.baseTexture),this.colorMap=M)},X.prototype.destroy=function(M){this._colorMap&&this._colorMap.destroy(M),Y.prototype.destroy.call(this)},Object.defineProperties(X.prototype,z),X}(e.Filter),I=t,R=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`,D=function(Y){function X(M,H,j){M===void 0&&(M=16711680),H===void 0&&(H=0),j===void 0&&(j=.4),Y.call(this,I,R),this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=M,this.newColor=H,this.epsilon=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return z.originalColor.set=function(M){var H=this.uniforms.originalColor;typeof M=="number"?(e.utils.hex2rgb(M,H),this._originalColor=M):(H[0]=M[0],H[1]=M[1],H[2]=M[2],this._originalColor=e.utils.rgb2hex(H))},z.originalColor.get=function(){return this._originalColor},z.newColor.set=function(M){var H=this.uniforms.newColor;typeof M=="number"?(e.utils.hex2rgb(M,H),this._newColor=M):(H[0]=M[0],H[1]=M[1],H[2]=M[2],this._newColor=e.utils.rgb2hex(H))},z.newColor.get=function(){return this._newColor},z.epsilon.set=function(M){this.uniforms.epsilon=M},z.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(X.prototype,z),X}(e.Filter),L=t,F=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`,N=function(Y){function X(M,H,j){Y.call(this,L,F),this.uniforms.texelSize=new Float32Array(9),this.matrix=M,this.width=H,this.height=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={matrix:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return z.matrix.get=function(){return this.uniforms.matrix},z.matrix.set=function(M){this.uniforms.matrix=new Float32Array(M)},z.width.get=function(){return 1/this.uniforms.texelSize[0]},z.width.set=function(M){this.uniforms.texelSize[0]=1/M},z.height.get=function(){return 1/this.uniforms.texelSize[1]},z.height.set=function(M){this.uniforms.texelSize[1]=1/M},Object.defineProperties(X.prototype,z),X}(e.Filter),U=t,k=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`,G=function(Y){function X(){Y.call(this,U,k)}return Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X,X}(e.Filter),W=t,K=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    vec2 dir = vec2(coord - vec2(0.5, 0.5));

    float _c = curvature > 0. ? curvature : 1.;
    float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
    vec2 uv = dir * k;

    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;


    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0) {
        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`,q=function(Y){function X(M){Y.call(this,W,K),this.uniforms.dimensions=new Float32Array(2),this.time=0,this.seed=0,Object.assign(this,{curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},M)}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={curvature:{configurable:!0},lineWidth:{configurable:!0},lineContrast:{configurable:!0},verticalLine:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.dimensions[0]=H.sourceFrame.width,this.uniforms.dimensions[1]=H.sourceFrame.height,this.uniforms.seed=this.seed,this.uniforms.time=this.time,M.applyFilter(this,H,j,et)},z.curvature.set=function(M){this.uniforms.curvature=M},z.curvature.get=function(){return this.uniforms.curvature},z.lineWidth.set=function(M){this.uniforms.lineWidth=M},z.lineWidth.get=function(){return this.uniforms.lineWidth},z.lineContrast.set=function(M){this.uniforms.lineContrast=M},z.lineContrast.get=function(){return this.uniforms.lineContrast},z.verticalLine.set=function(M){this.uniforms.verticalLine=M},z.verticalLine.get=function(){return this.uniforms.verticalLine},z.noise.set=function(M){this.uniforms.noise=M},z.noise.get=function(){return this.uniforms.noise},z.noiseSize.set=function(M){this.uniforms.noiseSize=M},z.noiseSize.get=function(){return this.uniforms.noiseSize},z.vignetting.set=function(M){this.uniforms.vignetting=M},z.vignetting.get=function(){return this.uniforms.vignetting},z.vignettingAlpha.set=function(M){this.uniforms.vignettingAlpha=M},z.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},z.vignettingBlur.set=function(M){this.uniforms.vignettingBlur=M},z.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(X.prototype,z),X}(e.Filter),Q=t,J=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,V=function(Y){function X(M,H){M===void 0&&(M=1),H===void 0&&(H=5),Y.call(this,Q,J),this.scale=M,this.angle=H}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={scale:{configurable:!0},angle:{configurable:!0}};return z.scale.get=function(){return this.uniforms.scale},z.scale.set=function(M){this.uniforms.scale=M},z.angle.get=function(){return this.uniforms.angle},z.angle.set=function(M){this.uniforms.angle=M},Object.defineProperties(X.prototype,z),X}(e.Filter),Z=t,$=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;
void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord);

    // Un-premultiply alpha before applying the color
    if (sample.a > 0.0) {
        sample.rgb /= sample.a;
    }

    // Premultiply alpha again
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,it=function(Y){function X(M){M&&M.constructor!==Object&&(console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"),M={rotation:M},arguments[1]!==void 0&&(M.distance=arguments[1]),arguments[2]!==void 0&&(M.blur=arguments[2]),arguments[3]!==void 0&&(M.color=arguments[3]),arguments[4]!==void 0&&(M.alpha=arguments[4])),M=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:e.settings.RESOLUTION},M),Y.call(this);var H=M.kernels,j=M.blur,et=M.quality,ot=M.pixelSize,lt=M.resolution;this._tintFilter=new e.Filter(Z,$),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.resolution=lt,this._blurFilter=H?new v(H):new v(j,et),this.pixelSize=ot,this.resolution=lt,this.targetTransform=new e.Matrix;var dt=M.shadowOnly,Mt=M.rotation,le=M.distance,$t=M.alpha,Oe=M.color;this.shadowOnly=dt,this.rotation=Mt,this.distance=le,this.alpha=$t,this.color=Oe,this._updatePadding()}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={resolution:{configurable:!0},distance:{configurable:!0},rotation:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){var ot=M.getRenderTarget();ot.transform=this.targetTransform,this._tintFilter.apply(M,H,ot,!0),ot.transform=null,this._blurFilter.apply(M,ot,j),this.shadowOnly!==!0&&M.applyFilter(this,H,j,et),M.returnRenderTarget(ot)},X.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},X.prototype._updateTargetTransform=function(){this.targetTransform.tx=this.distance*Math.cos(this.angle),this.targetTransform.ty=this.distance*Math.sin(this.angle)},z.resolution.get=function(){return this._resolution},z.resolution.set=function(M){this._resolution=M,this._tintFilter&&(this._tintFilter.resolution=M),this._blurFilter&&(this._blurFilter.resolution=M)},z.distance.get=function(){return this._distance},z.distance.set=function(M){this._distance=M,this._updatePadding(),this._updateTargetTransform()},z.rotation.get=function(){return this.angle/e.DEG_TO_RAD},z.rotation.set=function(M){this.angle=M*e.DEG_TO_RAD,this._updateTargetTransform()},z.alpha.get=function(){return this._tintFilter.uniforms.alpha},z.alpha.set=function(M){this._tintFilter.uniforms.alpha=M},z.color.get=function(){return e.utils.rgb2hex(this._tintFilter.uniforms.color)},z.color.set=function(M){e.utils.hex2rgb(M,this._tintFilter.uniforms.color)},z.kernels.get=function(){return this._blurFilter.kernels},z.kernels.set=function(M){this._blurFilter.kernels=M},z.blur.get=function(){return this._blurFilter.blur},z.blur.set=function(M){this._blurFilter.blur=M,this._updatePadding()},z.quality.get=function(){return this._blurFilter.quality},z.quality.set=function(M){this._blurFilter.quality=M},z.pixelSize.get=function(){return this._blurFilter.pixelSize},z.pixelSize.set=function(M){this._blurFilter.pixelSize=M},Object.defineProperties(X.prototype,z),X}(e.Filter),nt=t,at=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`,st=function(Y){function X(M){M===void 0&&(M=5),Y.call(this,nt,at),this.strength=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={strength:{configurable:!0}};return z.strength.get=function(){return this.uniforms.strength},z.strength.set=function(M){this.uniforms.strength=M},Object.defineProperties(X.prototype,z),X}(e.Filter),rt=t,tt=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == ORIGINAL) {
                gl_FragColor = texture2D(uSampler, vTextureCoord);
                return;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            } else {
                gl_FragColor = vec4(0., 0., 0., 0.);
                return;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == ORIGINAL) {
                gl_FragColor = texture2D(uSampler, vTextureCoord);
                return;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            } else {
                gl_FragColor = vec4(0., 0., 0., 0.);
                return;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == ORIGINAL) {
                gl_FragColor = texture2D(uSampler, vTextureCoord);
                return;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            } else {
                gl_FragColor = vec4(0., 0., 0., 0.);
                return;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == ORIGINAL) {
                gl_FragColor = texture2D(uSampler, vTextureCoord);
                return;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            } else {
                gl_FragColor = vec4(0., 0., 0., 0.);
                return;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,ut=function(Y){function X(M){M===void 0&&(M={}),Y.call(this,rt,tt),this.uniforms.dimensions=new Float32Array(2),M=Object.assign({slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},M),this.direction=M.direction,this.red=M.red,this.green=M.green,this.blue=M.blue,this.offset=M.offset,this.fillMode=M.fillMode,this.average=M.average,this.seed=M.seed,this.minSize=M.minSize,this.sampleSize=M.sampleSize,this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=e.Texture.fromCanvas(this._canvas,e.SCALE_MODES.NEAREST),this._slices=0,this.slices=M.slices}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={sizes:{configurable:!0},offsets:{configurable:!0},slices:{configurable:!0},direction:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){var ot=H.sourceFrame.width,lt=H.sourceFrame.height;this.uniforms.dimensions[0]=ot,this.uniforms.dimensions[1]=lt,this.uniforms.aspect=lt/ot,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,M.applyFilter(this,H,j,et)},X.prototype._randomizeSizes=function(){var M=this._sizes,H=this._slices-1,j=this.sampleSize,et=Math.min(this.minSize/j,.9/this._slices);if(this.average){for(var ot=this._slices,lt=1,dt=0;dt<H;dt++){var Mt=lt/(ot-dt),le=Math.max(Mt*(1-.6*Math.random()),et);M[dt]=le,lt-=le}M[H]=lt}else{for(var $t=1,Oe=Math.sqrt(1/this._slices),Ke=0;Ke<H;Ke++){var qe=Math.max(Oe*$t*Math.random(),et);M[Ke]=qe,$t-=qe}M[H]=$t}this.shuffle()},X.prototype.shuffle=function(){for(var M=this._sizes,H=this._slices-1;H>0;H--){var j=Math.random()*H>>0,et=M[H];M[H]=M[j],M[j]=et}},X.prototype._randomizeOffsets=function(){for(var M=0;M<this._slices;M++)this._offsets[M]=Math.random()*(Math.random()<.5?-1:1)},X.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},X.prototype.redraw=function(){var M,H=this.sampleSize,j=this.texture,et=this._canvas.getContext("2d");et.clearRect(0,0,8,H);for(var ot=0,lt=0;lt<this._slices;lt++){M=Math.floor(256*this._offsets[lt]);var dt=this._sizes[lt]*H,Mt=M>0?M:0,le=M<0?-M:0;et.fillStyle="rgba("+Mt+", "+le+", 0, 1)",et.fillRect(0,ot>>0,H,dt+1>>0),ot+=dt}j.baseTexture.emit("update",j.baseTexture),this.uniforms.displacementMap=j},z.sizes.set=function(M){for(var H=Math.min(this._slices,M.length),j=0;j<H;j++)this._sizes[j]=M[j]},z.sizes.get=function(){return this._sizes},z.offsets.set=function(M){for(var H=Math.min(this._slices,M.length),j=0;j<H;j++)this._offsets[j]=M[j]},z.offsets.get=function(){return this._offsets},z.slices.get=function(){return this._slices},z.slices.set=function(M){this._slices!==M&&(this._slices=M,this.uniforms.slices=M,this._sizes=this.uniforms.slicesWidth=new Float32Array(M),this._offsets=this.uniforms.slicesOffset=new Float32Array(M),this.refresh())},z.direction.get=function(){return this._direction},z.direction.set=function(M){if(this._direction!==M){this._direction=M;var H=M*e.DEG_TO_RAD;this.uniforms.sinDir=Math.sin(H),this.uniforms.cosDir=Math.cos(H)}},z.red.get=function(){return this.uniforms.red},z.red.set=function(M){this.uniforms.red=M},z.green.get=function(){return this.uniforms.green},z.green.set=function(M){this.uniforms.green=M},z.blue.get=function(){return this.uniforms.blue},z.blue.set=function(M){this.uniforms.blue=M},X.prototype.destroy=function(){this.texture.destroy(!0),this.texture=null,this._canvas=null,this.red=null,this.green=null,this.blue=null,this._sizes=null,this._offsets=null},Object.defineProperties(X.prototype,z),X}(e.Filter);ut.TRANSPARENT=0,ut.ORIGINAL=1,ut.LOOP=2,ut.CLAMP=3,ut.MIRROR=4;var ft=t,_t=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float distance;
uniform float outerStrength;
uniform float innerStrength;
uniform vec4 glowColor;
uniform vec4 filterArea;
uniform vec4 filterClamp;
const float PI = 3.14159265358979323846264;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float totalAlpha = 0.0;
    float maxTotalAlpha = 0.0;
    float cosAngle;
    float sinAngle;
    vec2 displaced;
    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {
       cosAngle = cos(angle);
       sinAngle = sin(angle);
       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {
           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;
           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;
           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
           totalAlpha += (distance - curDistance) * curColor.a;
           maxTotalAlpha += (distance - curDistance);
       }
    }
    maxTotalAlpha = max(maxTotalAlpha, 0.0001);

    ownColor.a = max(ownColor.a, 0.0001);
    ownColor.rgb = ownColor.rgb / ownColor.a;
    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);
    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;
    float resultAlpha = (ownColor.a + outerGlowAlpha);
    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);
}
`,vt=function(Y){function X(M,H,j,et,ot){M===void 0&&(M=10),H===void 0&&(H=4),j===void 0&&(j=0),et===void 0&&(et=16777215),ot===void 0&&(ot=.1),Y.call(this,ft,_t.replace(/%QUALITY_DIST%/gi,""+(1/ot/M).toFixed(7)).replace(/%DIST%/gi,""+M.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=M,this.color=et,this.outerStrength=H,this.innerStrength=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return z.color.get=function(){return e.utils.rgb2hex(this.uniforms.glowColor)},z.color.set=function(M){e.utils.hex2rgb(M,this.uniforms.glowColor)},z.distance.get=function(){return this.uniforms.distance},z.distance.set=function(M){this.uniforms.distance=M},z.outerStrength.get=function(){return this.uniforms.outerStrength},z.outerStrength.set=function(M){this.uniforms.outerStrength=M},z.innerStrength.get=function(){return this.uniforms.innerStrength},z.innerStrength.set=function(M){this.uniforms.innerStrength=M},Object.defineProperties(X.prototype,z),X}(e.Filter),Ct=t,He=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,St=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;
}
`,Ce=function(Y){function X(M){Y.call(this,Ct,St.replace("${perlin}",He)),this.uniforms.dimensions=new Float32Array(2),typeof M=="number"&&(console.warn("GodrayFilter now uses options instead of (angle, gain, lacunarity, time)"),M={angle:M},arguments[1]!==void 0&&(M.gain=arguments[1]),arguments[2]!==void 0&&(M.lacunarity=arguments[2]),arguments[3]!==void 0&&(M.time=arguments[3])),M=Object.assign({angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0]},M),this._angleLight=new e.Point,this.angle=M.angle,this.gain=M.gain,this.lacunarity=M.lacunarity,this.parallel=M.parallel,this.center=M.center,this.time=M.time}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={angle:{configurable:!0},gain:{configurable:!0},lacunarity:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){var ot=H.sourceFrame,lt=ot.width,dt=ot.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=lt,this.uniforms.dimensions[1]=dt,this.uniforms.aspect=dt/lt,this.uniforms.time=this.time,M.applyFilter(this,H,j,et)},z.angle.get=function(){return this._angle},z.angle.set=function(M){this._angle=M;var H=M*e.DEG_TO_RAD;this._angleLight.x=Math.cos(H),this._angleLight.y=Math.sin(H)},z.gain.get=function(){return this.uniforms.gain},z.gain.set=function(M){this.uniforms.gain=M},z.lacunarity.get=function(){return this.uniforms.lacunarity},z.lacunarity.set=function(M){this.uniforms.lacunarity=M},Object.defineProperties(X.prototype,z),X}(e.Filter),dr=t,Me=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`,Ye=function(Y){function X(M,H,j){M===void 0&&(M=[0,0]),H===void 0&&(H=5),j===void 0&&(j=0),Y.call(this,dr,Me),this.uniforms.uVelocity=new Float32Array(2),this._velocity=new e.ObservablePoint(this.velocityChanged,this),this.velocity=M,this.kernelSize=H,this.offset=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={velocity:{configurable:!0},offset:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){var ot=this.velocity,lt=ot.x,dt=ot.y;this.uniforms.uKernelSize=lt!==0||dt!==0?this.kernelSize:0,M.applyFilter(this,H,j,et)},z.velocity.set=function(M){Array.isArray(M)?this._velocity.set(M[0],M[1]):(M instanceof e.Point||M instanceof e.ObservablePoint)&&this._velocity.copy(M)},z.velocity.get=function(){return this._velocity},X.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y},z.offset.set=function(M){this.uniforms.uOffset=M},z.offset.get=function(){return this.uniforms.uOffset},Object.defineProperties(X.prototype,z),X}(e.Filter),kr=t,ue=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`,dn=function(Y){function X(M,H,j){H===void 0&&(H=.05),j===void 0&&(j=null),j=j||M.length,Y.call(this,kr,ue.replace(/%maxColors%/g,j)),this.epsilon=H,this._maxColors=j,this._replacements=null,this.uniforms.originalColors=new Float32Array(3*j),this.uniforms.targetColors=new Float32Array(3*j),this.replacements=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={replacements:{configurable:!0},maxColors:{configurable:!0},epsilon:{configurable:!0}};return z.replacements.set=function(M){var H=this.uniforms.originalColors,j=this.uniforms.targetColors,et=M.length;if(et>this._maxColors)throw"Length of replacements ("+et+") exceeds the maximum colors length ("+this._maxColors+")";H[3*et]=-1;for(var ot=0;ot<et;ot++){var lt=M[ot],dt=lt[0];typeof dt=="number"?dt=e.utils.hex2rgb(dt):lt[0]=e.utils.rgb2hex(dt),H[3*ot]=dt[0],H[3*ot+1]=dt[1],H[3*ot+2]=dt[2];var Mt=lt[1];typeof Mt=="number"?Mt=e.utils.hex2rgb(Mt):lt[1]=e.utils.rgb2hex(Mt),j[3*ot]=Mt[0],j[3*ot+1]=Mt[1],j[3*ot+2]=Mt[2]}this._replacements=M},z.replacements.get=function(){return this._replacements},X.prototype.refresh=function(){this.replacements=this._replacements},z.maxColors.get=function(){return this._maxColors},z.epsilon.set=function(M){this.uniforms.epsilon=M},z.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(X.prototype,z),X}(e.Filter),Re=t,io=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,ao=function(Y){function X(M,H){H===void 0&&(H=0),Y.call(this,Re,io),this.uniforms.dimensions=new Float32Array(2),typeof M=="number"?(this.seed=M,M=null):this.seed=H,Object.assign(this,{sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},M)}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={sepia:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},scratch:{configurable:!0},scratchDensity:{configurable:!0},scratchWidth:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.dimensions[0]=H.sourceFrame.width,this.uniforms.dimensions[1]=H.sourceFrame.height,this.uniforms.seed=this.seed,M.applyFilter(this,H,j,et)},z.sepia.set=function(M){this.uniforms.sepia=M},z.sepia.get=function(){return this.uniforms.sepia},z.noise.set=function(M){this.uniforms.noise=M},z.noise.get=function(){return this.uniforms.noise},z.noiseSize.set=function(M){this.uniforms.noiseSize=M},z.noiseSize.get=function(){return this.uniforms.noiseSize},z.scratch.set=function(M){this.uniforms.scratch=M},z.scratch.get=function(){return this.uniforms.scratch},z.scratchDensity.set=function(M){this.uniforms.scratchDensity=M},z.scratchDensity.get=function(){return this.uniforms.scratchDensity},z.scratchWidth.set=function(M){this.uniforms.scratchWidth=M},z.scratchWidth.get=function(){return this.uniforms.scratchWidth},z.vignetting.set=function(M){this.uniforms.vignetting=M},z.vignetting.get=function(){return this.uniforms.vignetting},z.vignettingAlpha.set=function(M){this.uniforms.vignettingAlpha=M},z.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},z.vignettingBlur.set=function(M){this.uniforms.vignettingBlur=M},z.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(X.prototype,z),X}(e.Filter),oo=t,so=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`,pn=function(Y){function X(M,H,j){M===void 0&&(M=1),H===void 0&&(H=0),j===void 0&&(j=.1);var et=Math.max(j*X.MAX_SAMPLES,X.MIN_SAMPLES),ot=(2*Math.PI/et).toFixed(7);Y.call(this,oo,so.replace(/\$\{angleStep\}/,ot)),this.uniforms.thickness=new Float32Array([0,0]),this.thickness=M,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.color=H,this.quality=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={color:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.thickness[0]=this.thickness/H.size.width,this.uniforms.thickness[1]=this.thickness/H.size.height,M.applyFilter(this,H,j,et)},z.color.get=function(){return e.utils.rgb2hex(this.uniforms.outlineColor)},z.color.set=function(M){e.utils.hex2rgb(M,this.uniforms.outlineColor)},Object.defineProperties(X.prototype,z),X}(e.Filter);pn.MIN_SAMPLES=1,pn.MAX_SAMPLES=100;var uo=t,lo=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`,ho=function(Y){function X(M){M===void 0&&(M=10),Y.call(this,uo,lo),this.size=M}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={size:{configurable:!0}};return z.size.get=function(){return this.uniforms.size},z.size.set=function(M){typeof M=="number"&&(M=[M,M]),this.uniforms.size=M},Object.defineProperties(X.prototype,z),X}(e.Filter),fo=t,co=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`,po=function(Y){function X(M,H,j,et){M===void 0&&(M=0),H===void 0&&(H=[0,0]),j===void 0&&(j=5),et===void 0&&(et=-1),Y.call(this,fo,co),this._angle=0,this.angle=M,this.center=H,this.kernelSize=j,this.radius=et}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={angle:{configurable:!0},center:{configurable:!0},radius:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,M.applyFilter(this,H,j,et)},z.angle.set=function(M){this._angle=M,this.uniforms.uRadian=M*Math.PI/180},z.angle.get=function(){return this._angle},z.center.get=function(){return this.uniforms.uCenter},z.center.set=function(M){this.uniforms.uCenter=M},z.radius.get=function(){return this.uniforms.uRadius},z.radius.set=function(M){(M<0||M===1/0)&&(M=-1),this.uniforms.uRadius=M},Object.defineProperties(X.prototype,z),X}(e.Filter),vo=t,go=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,_o=function(Y){function X(M){Y.call(this,vo,go),this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,{mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},M)}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={mirror:{configurable:!0},boundary:{configurable:!0},amplitude:{configurable:!0},waveLength:{configurable:!0},alpha:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.dimensions[0]=H.sourceFrame.width,this.uniforms.dimensions[1]=H.sourceFrame.height,this.uniforms.time=this.time,M.applyFilter(this,H,j,et)},z.mirror.set=function(M){this.uniforms.mirror=M},z.mirror.get=function(){return this.uniforms.mirror},z.boundary.set=function(M){this.uniforms.boundary=M},z.boundary.get=function(){return this.uniforms.boundary},z.amplitude.set=function(M){this.uniforms.amplitude[0]=M[0],this.uniforms.amplitude[1]=M[1]},z.amplitude.get=function(){return this.uniforms.amplitude},z.waveLength.set=function(M){this.uniforms.waveLength[0]=M[0],this.uniforms.waveLength[1]=M[1]},z.waveLength.get=function(){return this.uniforms.waveLength},z.alpha.set=function(M){this.uniforms.alpha[0]=M[0],this.uniforms.alpha[1]=M[1]},z.alpha.get=function(){return this.uniforms.alpha},Object.defineProperties(X.prototype,z),X}(e.Filter),mo=t,yo=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,xo=function(Y){function X(M,H,j){M===void 0&&(M=[-10,0]),H===void 0&&(H=[0,10]),j===void 0&&(j=[0,0]),Y.call(this,mo,yo),this.red=M,this.green=H,this.blue=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return z.red.get=function(){return this.uniforms.red},z.red.set=function(M){this.uniforms.red=M},z.green.get=function(){return this.uniforms.green},z.green.set=function(M){this.uniforms.green=M},z.blue.get=function(){return this.uniforms.blue},z.blue.set=function(M){this.uniforms.blue=M},Object.defineProperties(X.prototype,z),X}(e.Filter),To=t,bo=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,So=function(Y){function X(M,H,j){M===void 0&&(M=[0,0]),H===void 0&&(H={}),j===void 0&&(j=0),Y.call(this,To,bo),this.center=M,Array.isArray(H)&&(console.warn("Deprecated Warning: ShockwaveFilter params Array has been changed to options Object."),H={}),H=Object.assign({amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},H),this.amplitude=H.amplitude,this.wavelength=H.wavelength,this.brightness=H.brightness,this.speed=H.speed,this.radius=H.radius,this.time=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={center:{configurable:!0},amplitude:{configurable:!0},wavelength:{configurable:!0},brightness:{configurable:!0},speed:{configurable:!0},radius:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.time=this.time,M.applyFilter(this,H,j,et)},z.center.get=function(){return this.uniforms.center},z.center.set=function(M){this.uniforms.center=M},z.amplitude.get=function(){return this.uniforms.amplitude},z.amplitude.set=function(M){this.uniforms.amplitude=M},z.wavelength.get=function(){return this.uniforms.wavelength},z.wavelength.set=function(M){this.uniforms.wavelength=M},z.brightness.get=function(){return this.uniforms.brightness},z.brightness.set=function(M){this.uniforms.brightness=M},z.speed.get=function(){return this.uniforms.speed},z.speed.set=function(M){this.uniforms.speed=M},z.radius.get=function(){return this.uniforms.radius},z.radius.set=function(M){this.uniforms.radius=M},Object.defineProperties(X.prototype,z),X}(e.Filter),wo=t,Eo=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`,Po=function(Y){function X(M,H,j){H===void 0&&(H=0),j===void 0&&(j=1),Y.call(this,wo,Eo),this.uniforms.dimensions=new Float32Array(2),this.uniforms.ambientColor=new Float32Array([0,0,0,j]),this.texture=M,this.color=H}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return X.prototype.apply=function(M,H,j,et){this.uniforms.dimensions[0]=H.sourceFrame.width,this.uniforms.dimensions[1]=H.sourceFrame.height,M.applyFilter(this,H,j,et)},z.texture.get=function(){return this.uniforms.uLightmap},z.texture.set=function(M){this.uniforms.uLightmap=M},z.color.set=function(M){var H=this.uniforms.ambientColor;typeof M=="number"?(e.utils.hex2rgb(M,H),this._color=M):(H[0]=M[0],H[1]=M[1],H[2]=M[2],H[3]=M[3],this._color=e.utils.rgb2hex(H))},z.color.get=function(){return this._color},z.alpha.get=function(){return this.uniforms.ambientColor[3]},z.alpha.set=function(M){this.uniforms.ambientColor[3]=M},Object.defineProperties(X.prototype,z),X}(e.Filter),Co=t,Mo=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,vn=function(Y){function X(M,H,j,et){M===void 0&&(M=100),H===void 0&&(H=600),j===void 0&&(j=null),et===void 0&&(et=null),Y.call(this,Co,Mo),this.uniforms.blur=M,this.uniforms.gradientBlur=H,this.uniforms.start=j||new e.Point(0,window.innerHeight/2),this.uniforms.end=et||new e.Point(600,window.innerHeight/2),this.uniforms.delta=new e.Point(30,30),this.uniforms.texSize=new e.Point(window.innerWidth,window.innerHeight),this.updateDelta()}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return X.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},z.blur.get=function(){return this.uniforms.blur},z.blur.set=function(M){this.uniforms.blur=M},z.gradientBlur.get=function(){return this.uniforms.gradientBlur},z.gradientBlur.set=function(M){this.uniforms.gradientBlur=M},z.start.get=function(){return this.uniforms.start},z.start.set=function(M){this.uniforms.start=M,this.updateDelta()},z.end.get=function(){return this.uniforms.end},z.end.set=function(M){this.uniforms.end=M,this.updateDelta()},Object.defineProperties(X.prototype,z),X}(e.Filter),vi=function(Y){function X(){Y.apply(this,arguments)}return Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X,X.prototype.updateDelta=function(){var z=this.uniforms.end.x-this.uniforms.start.x,M=this.uniforms.end.y-this.uniforms.start.y,H=Math.sqrt(z*z+M*M);this.uniforms.delta.x=z/H,this.uniforms.delta.y=M/H},X}(vn),gi=function(Y){function X(){Y.apply(this,arguments)}return Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X,X.prototype.updateDelta=function(){var z=this.uniforms.end.x-this.uniforms.start.x,M=this.uniforms.end.y-this.uniforms.start.y,H=Math.sqrt(z*z+M*M);this.uniforms.delta.x=-M/H,this.uniforms.delta.y=z/H},X}(vn),Ro=function(Y){function X(M,H,j,et){M===void 0&&(M=100),H===void 0&&(H=600),j===void 0&&(j=null),et===void 0&&(et=null),Y.call(this),this.tiltShiftXFilter=new vi(M,H,j,et),this.tiltShiftYFilter=new gi(M,H,j,et)}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return X.prototype.apply=function(M,H,j){var et=M.getRenderTarget(!0);this.tiltShiftXFilter.apply(M,H,et),this.tiltShiftYFilter.apply(M,et,j),M.returnRenderTarget(et)},z.blur.get=function(){return this.tiltShiftXFilter.blur},z.blur.set=function(M){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=M},z.gradientBlur.get=function(){return this.tiltShiftXFilter.gradientBlur},z.gradientBlur.set=function(M){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=M},z.start.get=function(){return this.tiltShiftXFilter.start},z.start.set=function(M){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=M},z.end.get=function(){return this.tiltShiftXFilter.end},z.end.set=function(M){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=M},Object.defineProperties(X.prototype,z),X}(e.Filter),Oo=t,Ao=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`,Do=function(Y){function X(M,H,j){M===void 0&&(M=200),H===void 0&&(H=4),j===void 0&&(j=20),Y.call(this,Oo,Ao),this.radius=M,this.angle=H,this.padding=j}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={offset:{configurable:!0},radius:{configurable:!0},angle:{configurable:!0}};return z.offset.get=function(){return this.uniforms.offset},z.offset.set=function(M){this.uniforms.offset=M},z.radius.get=function(){return this.uniforms.radius},z.radius.set=function(M){this.uniforms.radius=M},z.angle.get=function(){return this.uniforms.angle},z.angle.set=function(M){this.uniforms.angle=M},Object.defineProperties(X.prototype,z),X}(e.Filter),Io=t,Fo=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = 32.0;

float random(vec3 scale, float seed) {
    // use the fragment position for a different seed per-pixel
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,Lo=function(Y){function X(M,H,j,et){M===void 0&&(M=.1),H===void 0&&(H=[0,0]),j===void 0&&(j=0),et===void 0&&(et=-1),Y.call(this,Io,Fo),this.center=H,this.strength=M,this.innerRadius=j,this.radius=et}Y&&(X.__proto__=Y),X.prototype=Object.create(Y&&Y.prototype),X.prototype.constructor=X;var z={center:{configurable:!0},strength:{configurable:!0},innerRadius:{configurable:!0},radius:{configurable:!0}};return z.center.get=function(){return this.uniforms.uCenter},z.center.set=function(M){this.uniforms.uCenter=M},z.strength.get=function(){return this.uniforms.uStrength},z.strength.set=function(M){this.uniforms.uStrength=M},z.innerRadius.get=function(){return this.uniforms.uInnerRadius},z.innerRadius.set=function(M){this.uniforms.uInnerRadius=M},z.radius.get=function(){return this.uniforms.uRadius},z.radius.set=function(M){(M<0||M===1/0)&&(M=-1),this.uniforms.uRadius=M},Object.defineProperties(X.prototype,z),X}(e.Filter);return g.AdjustmentFilter=n,g.AdvancedBloomFilter=s,g.AsciiFilter=c,g.BevelFilter=x,g.BloomFilter=S,g.BulgePinchFilter=P,g.ColorMapFilter=B,g.ColorReplaceFilter=D,g.ConvolutionFilter=N,g.CrossHatchFilter=G,g.CRTFilter=q,g.DotFilter=V,g.DropShadowFilter=it,g.EmbossFilter=st,g.GlitchFilter=ut,g.GlowFilter=vt,g.GodrayFilter=Ce,g.KawaseBlurFilter=v,g.MotionBlurFilter=Ye,g.MultiColorReplaceFilter=dn,g.OldFilmFilter=ao,g.OutlineFilter=pn,g.PixelateFilter=ho,g.RadialBlurFilter=po,g.ReflectionFilter=_o,g.RGBSplitFilter=xo,g.ShockwaveFilter=So,g.SimpleLightmapFilter=Po,g.TiltShiftFilter=Ro,g.TiltShiftAxisFilter=vn,g.TiltShiftXFilter=vi,g.TiltShiftYFilter=gi,g.TwistFilter=Do,g.ZoomBlurFilter=Lo,g}({},PIXI);Object.assign(PIXI.filters,globalThis?globalThis.__filters:ko);/*!
 * pixi-particles - v3.0.0
 * Compiled Mon, 12 Feb 2018 04:21:37 UTC
 *
 * pixi-particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(function(g){if(typeof pi=="object"&&typeof Lr<"u")Lr.exports=g();else if(typeof define=="function"&&define.amd)define([],g);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.pixiParticles=g()}})(function(){return function(){function g(e,t,a){function n(d,v){if(!t[d]){if(!e[d]){var h=typeof require=="function"&&require;if(!v&&h)return h(d,!0);if(f)return f(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var r=t[d]={exports:{}};e[d][0].call(r.exports,function(i){var s=e[d][1][i];return n(s||i)},r,r.exports,g,e,t,a)}return t[d].exports}for(var f=typeof require=="function"&&require,o=0;o<a.length;o++)n(a[o]);return n}return g}()({1:[function(g,e,t){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var u in h)h.hasOwnProperty(u)&&(v[u]=h[u])};return function(v,h){d(v,h);function u(){this.constructor=v}v.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=g("Particle"),f=PIXI.Texture,o=function(d){a(v,d);function v(h){var u=d.call(this,h)||this;return u.textures=null,u.duration=0,u.framerate=0,u.elapsed=0,u.loop=!1,u}return v.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},v.prototype.applyArt=function(h){this.textures=h.textures,this.framerate=h.framerate,this.duration=h.duration,this.loop=h.loop},v.prototype.update=function(h){var u=this.Particle_update(h);if(u>=0){this.elapsed+=h,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var r=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[r]||PIXI.Texture.EMPTY}return u},v.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},v.parseArt=function(h){for(var u,r,i,s,p,l=[],c=0;c<h.length;++c){u=h[c],l[c]=r={},r.textures=p=[],i=u.textures;for(var m=0;m<i.length;++m)if(s=i[m],typeof s=="string")p.push(f.fromImage(s));else if(s instanceof f)p.push(s);else{var _=s.count||1;for(typeof s.texture=="string"?s=f.fromImage(s.texture):s=s.texture;_>0;--_)p.push(s)}u.framerate=="matchLife"?(r.framerate=-1,r.duration=0,r.loop=!1):(r.loop=!!u.loop,r.framerate=u.framerate>0?u.framerate:60,r.duration=p.length/r.framerate)}return l},v}(n.default);t.default=o},{Particle:3}],2:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=g("ParticleUtils"),n=g("Particle"),f=g("PropertyNode"),o=PIXI.ticker.shared,d=new PIXI.Point,v=function(){function h(u,r,i){this._particleConstructor=n.default,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=u,r&&i&&this.init(r,i),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(h.prototype,"frequency",{get:function(){return this._frequency},set:function(u){typeof u=="number"&&u>0?this._frequency=u:this._frequency=1},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(u){if(u!=this._particleConstructor){this._particleConstructor=u,this.cleanup();for(var r=this._poolFirst;r;r=r.next)r.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"parent",{get:function(){return this._parent},set:function(u){this.cleanup(),this._parent=u},enumerable:!0,configurable:!0}),h.prototype.init=function(u,r){if(!(!u||!r)){this.cleanup(),this._origConfig=r,this._origArt=u,u=Array.isArray(u)?u.slice():[u];var i=this._particleConstructor;this.particleImages=i.parseArt?i.parseArt(u):u,r.alpha?this.startAlpha=f.default.createList(r.alpha):this.startAlpha=new f.default(1,0),r.speed?(this.startSpeed=f.default.createList(r.speed),this.minimumSpeedMultiplier=r.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new f.default(0,0));var s=r.acceleration;s&&(s.x||s.y)?(this.startSpeed.next=null,this.acceleration=new PIXI.Point(s.x,s.y),this.maxSpeed=r.maxSpeed||NaN):this.acceleration=new PIXI.Point,r.scale?(this.startScale=f.default.createList(r.scale),this.minimumScaleMultiplier=r.scale.minimumScaleMultiplier||1):(this.startScale=new f.default(1,0),this.minimumScaleMultiplier=1),r.color?this.startColor=f.default.createList(r.color):this.startColor=new f.default({r:255,g:255,b:255},0),r.startRotation?(this.minStartRotation=r.startRotation.min,this.maxStartRotation=r.startRotation.max):this.minStartRotation=this.maxStartRotation=0,r.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!r.noRotation:this.noRotation=!1,r.rotationSpeed?(this.minRotationSpeed=r.rotationSpeed.min,this.maxRotationSpeed=r.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=r.lifetime.min,this.maxLifetime=r.lifetime.max,this.particleBlendMode=a.default.getBlendMode(r.blendMode),r.ease?this.customEase=typeof r.ease=="function"?r.ease:a.default.generateEase(r.ease):this.customEase=null,i.parseData?this.extraData=i.parseData(r.extraData):this.extraData=r.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,r.particlesPerWave&&r.particlesPerWave>1&&(this.particlesPerWave=r.particlesPerWave),this.particleSpacing=0,this.angleStart=0;var p;switch(r.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var l=r.spawnRect;this.spawnRect=new PIXI.Rectangle(l.x,l.y,l.w,l.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,p=r.spawnCircle,this.spawnCircle=new PIXI.Circle(p.x,p.y,p.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,p=r.spawnCircle,this.spawnCircle=new PIXI.Circle(p.x,p.y,p.r),this.spawnCircle.minRadius=p.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=r.particleSpacing,this.angleStart=r.angleStart?r.angleStart:0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint;break}this.frequency=r.frequency,this.spawnChance=typeof r.spawnChance=="number"&&r.spawnChance>0?r.spawnChance:1,this.emitterLifetime=r.emitterLifetime||-1,this.maxParticles=r.maxParticles>0?r.maxParticles:1e3,this.addAtBack=!!r.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(r.pos.x,r.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=r.emit===void 0?!0:!!r.emit,this.autoUpdate=r.autoUpdate===void 0?!1:!!r.autoUpdate}},h.prototype.recycle=function(u){u.next&&(u.next.prev=u.prev),u.prev&&(u.prev.next=u.next),u==this._activeParticlesLast&&(this._activeParticlesLast=u.prev),u==this._activeParticlesFirst&&(this._activeParticlesFirst=u.next),u.prev=null,u.next=this._poolFirst,this._poolFirst=u,u.parent&&u.parent.removeChild(u),--this.particleCount},h.prototype.rotate=function(u){if(this.rotation!=u){var r=u-this.rotation;this.rotation=u,a.default.rotatePoint(r,this.spawnPos),this._posChanged=!0}},h.prototype.updateSpawnPos=function(u,r){this._posChanged=!0,this.spawnPos.x=u,this.spawnPos.y=r},h.prototype.updateOwnerPos=function(u,r){this._posChanged=!0,this.ownerPos.x=u,this.ownerPos.y=r},h.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(h.prototype,"emit",{get:function(){return this._emit},set:function(u){this._emit=!!u,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(u){this._autoUpdate&&!u?o.remove(this.update,this):!this._autoUpdate&&u&&o.add(this.update,this),this._autoUpdate=!!u},enumerable:!0,configurable:!0}),h.prototype.playOnceAndDestroy=function(u){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=u},h.prototype.playOnce=function(u){this.emit=!0,this._completeCallback=u},h.prototype.update=function(u){if(this._autoUpdate&&(u=u/PIXI.settings.TARGET_FPMS/1e3),!!this._parent){var r,i,s;for(i=this._activeParticlesFirst;i;i=s)s=i.next,i.update(u);var p,l;this._prevPosIsValid&&(p=this._prevEmitterPos.x,l=this._prevEmitterPos.y);var c=this.ownerPos.x+this.spawnPos.x,m=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=u;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles){this._spawnTimer+=this._frequency;continue}var _=void 0;if(this.minLifetime==this.maxLifetime?_=this.minLifetime:_=Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<_){var x=void 0,T=void 0;if(this._prevPosIsValid&&this._posChanged){var y=1+this._spawnTimer/u;x=(c-p)*y+p,T=(m-l)*y+l}else x=c,T=m;r=0;for(var w=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);r<w;++r)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var b=void 0;if(this._poolFirst?(b=this._poolFirst,this._poolFirst=this._poolFirst.next,b.next=null):b=new this.particleConstructor(this),this.particleImages.length>1?b.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):b.applyArt(this.particleImages[0]),b.alphaList.reset(this.startAlpha),this.minimumSpeedMultiplier!=1&&(b.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),b.speedList.reset(this.startSpeed),b.acceleration.x=this.acceleration.x,b.acceleration.y=this.acceleration.y,b.maxSpeed=this.maxSpeed,this.minimumScaleMultiplier!=1&&(b.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),b.scaleList.reset(this.startScale),b.colorList.reset(this.startColor),this.minRotationSpeed==this.maxRotationSpeed?b.rotationSpeed=this.minRotationSpeed:b.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,b.noRotation=this.noRotation,b.maxLife=_,b.blendMode=this.particleBlendMode,b.ease=this.customEase,b.extraData=this.extraData,this._spawnFunc(b,x,T,r),b.init(),b.update(-this._spawnTimer),!b.parent)this.addAtBack?this._parent.addChildAt(b,0):this._parent.addChild(b);else{var S=this._parent.children;if(S[0]==b)S.shift();else if(S[S.length-1]==b)S.pop();else{var E=S.indexOf(b);S.splice(E,1)}this.addAtBack?S.unshift(b):S.push(b)}this._activeParticlesLast?(this._activeParticlesLast.next=b,b.prev=this._activeParticlesLast,this._activeParticlesLast=b):this._activeParticlesLast=this._activeParticlesFirst=b,++this.particleCount}}this._spawnTimer+=this._frequency}this._posChanged&&(this._prevEmitterPos.x=c,this._prevEmitterPos.y=m,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst&&(this._completeCallback&&this._completeCallback(),this._destroyWhenComplete&&this.destroy())}},h.prototype._spawnPoint=function(u,r,i){this.minStartRotation==this.maxStartRotation?u.rotation=this.minStartRotation+this.rotation:u.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,u.position.x=r,u.position.y=i},h.prototype._spawnRect=function(u,r,i){this.minStartRotation==this.maxStartRotation?u.rotation=this.minStartRotation+this.rotation:u.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,d.x=Math.random()*this.spawnRect.width+this.spawnRect.x,d.y=Math.random()*this.spawnRect.height+this.spawnRect.y,this.rotation!==0&&a.default.rotatePoint(this.rotation,d),u.position.x=r+d.x,u.position.y=i+d.y},h.prototype._spawnCircle=function(u,r,i){this.minStartRotation==this.maxStartRotation?u.rotation=this.minStartRotation+this.rotation:u.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,d.x=Math.random()*this.spawnCircle.radius,d.y=0,a.default.rotatePoint(Math.random()*360,d),d.x+=this.spawnCircle.x,d.y+=this.spawnCircle.y,this.rotation!==0&&a.default.rotatePoint(this.rotation,d),u.position.x=r+d.x,u.position.y=i+d.y},h.prototype._spawnRing=function(u,r,i){var s=this.spawnCircle;this.minStartRotation==this.maxStartRotation?u.rotation=this.minStartRotation+this.rotation:u.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.minRadius==s.radius?d.x=Math.random()*(s.radius-s.minRadius)+s.minRadius:d.x=s.radius,d.y=0;var p=Math.random()*360;u.rotation+=p,a.default.rotatePoint(p,d),d.x+=this.spawnCircle.x,d.y+=this.spawnCircle.y,this.rotation!==0&&a.default.rotatePoint(this.rotation,d),u.position.x=r+d.x,u.position.y=i+d.y},h.prototype._spawnBurst=function(u,r,i,s){this.particleSpacing===0?u.rotation=Math.random()*360:u.rotation=this.angleStart+this.particleSpacing*s+this.rotation,u.position.x=r,u.position.y=i},h.prototype.cleanup=function(){var u,r;for(u=this._activeParticlesFirst;u;u=r)r=u.next,this.recycle(u),u.parent&&u.parent.removeChild(u);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},h.prototype.destroy=function(){this.autoUpdate=!1,this.cleanup();for(var u,r=this._poolFirst;r;r=u)u=r.next,r.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},h}();t.default=v},{Particle:3,ParticleUtils:4,PropertyNode:7}],3:[function(g,e,t){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var r in u)u.hasOwnProperty(r)&&(h[r]=u[r])};return function(h,u){v(h,u);function r(){this.constructor=h}h.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=g("ParticleUtils"),f=g("PropertyList"),o=PIXI.Sprite,d=function(v){a(h,v);function h(u){var r=v.call(this)||this;return r.emitter=u,r.anchor.x=r.anchor.y=.5,r.velocity=new PIXI.Point,r.maxLife=0,r.age=0,r.ease=null,r.extraData=null,r.alphaList=new f.default,r.speedList=new f.default,r.speedMultiplier=1,r.acceleration=new PIXI.Point,r.maxSpeed=NaN,r.scaleList=new f.default,r.scaleMultiplier=1,r.colorList=new f.default(!0),r._doAlpha=!1,r._doScale=!1,r._doSpeed=!1,r._doAcceleration=!1,r._doColor=!1,r._doNormalMovement=!1,r._oneOverLife=0,r.next=null,r.prev=null,r.init=r.init,r.Particle_init=h.prototype.init,r.update=r.update,r.Particle_update=h.prototype.update,r.Sprite_destroy=v.prototype.destroy,r.Particle_destroy=h.prototype.destroy,r.applyArt=r.applyArt,r.kill=r.kill,r}return h.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,n.default.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=n.default.DEG_TO_RADS,this.rotationSpeed*=n.default.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=this.acceleration.x!==0||this.acceleration.y!==0,this._doNormalMovement=this._doSpeed||this.speedList.current.value!==0||this._doAcceleration,this._oneOverLife=1/this.maxLife;var u=this.colorList.current.value;this.tint=n.default.combineRGBComponents(u.r,u.g,u.b),this.visible=!0},h.prototype.applyArt=function(u){this.texture=u||PIXI.Texture.EMPTY},h.prototype.update=function(u){if(this.age+=u,this.age>=this.maxLife)return this.kill(),-1;var r=this.age*this._oneOverLife;if(this.ease&&(this.ease.length==4?r=this.ease(r,0,1,1):r=this.ease(r)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(r)),this._doScale){var i=this.scaleList.interpolate(r)*this.scaleMultiplier;this.scale.x=this.scale.y=i}if(this._doNormalMovement){if(this._doSpeed){var s=this.speedList.interpolate(r)*this.speedMultiplier;n.default.normalize(this.velocity),n.default.scaleBy(this.velocity,s)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*u,this.velocity.y+=this.acceleration.y*u,this.maxSpeed)){var p=n.default.length(this.velocity);p>this.maxSpeed&&n.default.scaleBy(this.velocity,this.maxSpeed/p)}this.position.x+=this.velocity.x*u,this.position.y+=this.velocity.y*u}return this._doColor&&(this.tint=this.colorList.interpolate(r)),this.rotationSpeed!==0?this.rotation+=this.rotationSpeed*u:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),r},h.prototype.kill=function(){this.emitter.recycle(this)},h.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},h.parseArt=function(u){var r;for(r=u.length;r>=0;--r)typeof u[r]=="string"&&(u[r]=PIXI.Texture.fromImage(u[r]));if(n.default.verbose){for(r=u.length-1;r>0;--r)if(u[r].baseTexture!=u[r-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}}return u},h.parseData=function(u){return u},h}(o);t.default=d},{ParticleUtils:4,PropertyList:6}],4:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=PIXI.BLEND_MODES,n=g("PropertyNode"),f={verbose:!1,DEG_TO_RADS:Math.PI/180,rotatePoint:function(o,d){if(o){o*=f.DEG_TO_RADS;var v=Math.sin(o),h=Math.cos(o),u=d.x*h-d.y*v,r=d.x*v+d.y*h;d.x=u,d.y=r}},combineRGBComponents:function(o,d,v){return o<<16|d<<8|v},normalize:function(o){var d=1/f.length(o);o.x*=d,o.y*=d},scaleBy:function(o,d){o.x*=d,o.y*=d},length:function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},hexToRGB:function(o,d){d||(d={}),o.charAt(0)=="#"?o=o.substr(1):o.indexOf("0x")===0&&(o=o.substr(2));var v;return o.length==8&&(v=o.substr(0,2),o=o.substr(2)),d.r=parseInt(o.substr(0,2),16),d.g=parseInt(o.substr(2,2),16),d.b=parseInt(o.substr(4,2),16),v&&(d.a=parseInt(v,16)),d},generateEase:function(o){var d=o.length,v=1/d;return function(h){var u,r,i=d*h|0;return u=(h-i*v)*d,r=o[i]||o[d-1],r.s+u*(2*(1-u)*(r.cp-r.s)+u*(r.e-r.s))}},getBlendMode:function(o){if(!o)return a.NORMAL;for(o=o.toUpperCase();o.indexOf(" ")>=0;)o=o.replace(" ","_");return a[o]||a.NORMAL},createSteppedGradient:function(o,d){d===void 0&&(d=10),(typeof d!="number"||d<=0)&&(d=10);var v=new n.default(o[0].value,o[0].time);v.isStepped=!0;for(var h=v,u=o[0],r=1,i=o[r],s=1;s<d;++s){for(var p=s/d;p>i.time;)u=i,i=o[++r];p=(p-u.time)/(i.time-u.time);var l=f.hexToRGB(u.value),c=f.hexToRGB(i.value),m={};m.r=(c.r-l.r)*p+l.r,m.g=(c.g-l.g)*p+l.g,m.b=(c.b-l.b)*p+l.b,h.next=new n.default(m,s/d),h=h.next}return v}};t.default=f},{PropertyNode:7}],5:[function(g,e,t){var a=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var p in s)s.hasOwnProperty(p)&&(i[p]=s[p])};return function(i,s){r(i,s);function p(){this.constructor=i}i.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=g("ParticleUtils"),f=g("Particle"),o=new PIXI.Point,d=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],v=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(d).join("|"),"g"),h=function(r){for(var i=r.match(v),s=i.length-1;s>=0;--s)d.indexOf(i[s])>=0&&(i[s]="Math."+i[s]);return r=i.join(""),new Function("x","return "+r+";")},u=function(r){a(i,r);function i(s){var p=r.call(this,s)||this;return p.path=null,p.initialRotation=0,p.initialPosition=new PIXI.Point,p.movement=0,p}return i.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},i.prototype.update=function(s){var p=this.Particle_update(s);if(p>=0&&this.path){var l=this.speedList.interpolate(p)*this.speedMultiplier;this.movement+=l*s,o.x=this.movement,o.y=this.path(this.movement),n.default.rotatePoint(this.initialRotation,o),this.position.x=this.initialPosition.x+o.x,this.position.y=this.initialPosition.y+o.y}return p},i.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},i.parseArt=function(s){return f.default.parseArt(s)},i.parseData=function(s){var p={};if(s&&s.path)try{p.path=h(s.path)}catch{n.default.verbose&&console.error("PathParticle: error in parsing path expression"),p.path=null}else n.default.verbose&&console.error("PathParticle requires a path string in extraData!"),p.path=null;return p},i}(f.default);t.default=u},{Particle:3,ParticleUtils:4}],6:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=g("ParticleUtils"),n=function(){function r(i){i===void 0&&(i=!1),this.current=null,this.next=null,this.isColor=!!i,this.interpolate=null,this.ease=null}return r.prototype.reset=function(i){this.current=i,this.next=i.next;var s=this.next&&this.next.time>=1;s?this.interpolate=this.isColor?o:f:i.isStepped?this.interpolate=this.isColor?u:h:this.interpolate=this.isColor?v:d,this.ease=this.current.ease},r}();t.default=n;function f(r){return this.ease&&(r=this.ease(r)),(this.next.value-this.current.value)*r+this.current.value}function o(r){this.ease&&(r=this.ease(r));var i=this.current.value,s=this.next.value,p=(s.r-i.r)*r+i.r,l=(s.g-i.g)*r+i.g,c=(s.b-i.b)*r+i.b;return a.default.combineRGBComponents(p,l,c)}function d(r){for(this.ease&&(r=this.ease(r));r>this.next.time;)this.current=this.next,this.next=this.next.next;return r=(r-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*r+this.current.value}function v(r){for(this.ease&&(r=this.ease(r));r>this.next.time;)this.current=this.next,this.next=this.next.next;r=(r-this.current.time)/(this.next.time-this.current.time);var i=this.current.value,s=this.next.value,p=(s.r-i.r)*r+i.r,l=(s.g-i.g)*r+i.g,c=(s.b-i.b)*r+i.b;return a.default.combineRGBComponents(p,l,c)}function h(r){for(this.ease&&(r=this.ease(r));this.next&&r>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function u(r){for(this.ease&&(r=this.ease(r));this.next&&r>this.next.time;)this.current=this.next,this.next=this.next.next;var i=this.current.value;return a.default.combineRGBComponents(i.r,i.g,i.b)}},{ParticleUtils:4}],7:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=g("ParticleUtils"),n=function(){function f(o,d,v){this.value=typeof o=="string"?a.default.hexToRGB(o):o,this.time=d,this.next=null,this.isStepped=!1,v?this.ease=typeof v=="function"?v:a.default.generateEase(v):this.ease=null}return f.createList=function(o){if(Array.isArray(o.list)){var d=o.list,v=void 0,h=void 0;if(h=v=new f(d[0].value,d[0].time,o.ease),d.length>2||d.length===2&&d[1].value!==d[0].value)for(var u=1;u<d.length;++u)v.next=new f(d[u].value,d[u].time),v=v.next;return h.isStepped=!!o.isStepped,h}else{var r=new f(o.start,0);return o.end!==o.start&&(r.next=new f(o.end,1)),r}},f}();t.default=n},{ParticleUtils:4}],8:[function(g,e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=g("ParticleUtils.js");t.ParticleUtils=a.default;var n=g("Particle.js");t.Particle=n.default;var f=g("Emitter.js");t.Emitter=f.default;var o=g("PathParticle.js");t.PathParticle=o.default;var d=g("AnimatedParticle.js");t.AnimatedParticle=d.default},{"AnimatedParticle.js":1,"Emitter.js":2,"Particle.js":3,"ParticleUtils.js":4,"PathParticle.js":5}],9:[function(g,e,t){if(Object.defineProperty(t,"__esModule",{value:!0}),typeof PIXI>"u")throw"pixi-particles requires pixi.js to be loaded first";PIXI.particles||(PIXI.particles={});var a=g("particles");for(var n in a)PIXI.particles[n]=a[n]},{particles:8}]},{},[9])(9)});var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Xi={exports:{}};(function(g,e){(function(t,a){g.exports=a()})(No,function(){var t=function(){function a(s){return o.appendChild(s.dom),s}function n(s){for(var p=0;p<o.children.length;p++)o.children[p].style.display=p===s?"block":"none";f=s}var f=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(s){s.preventDefault(),n(++f%o.children.length)},!1);var d=(performance||Date).now(),v=d,h=0,u=a(new t.Panel("FPS","#0ff","#002")),r=a(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var i=a(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:a,showPanel:n,begin:function(){d=(performance||Date).now()},end:function(){h++;var s=(performance||Date).now();if(r.update(s-d,200),s>v+1e3&&(u.update(1e3*h/(s-v),100),v=s,h=0,i)){var p=performance.memory;i.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return s},update:function(){d=this.end()},domElement:o,setMode:n}};return t.Panel=function(a,n,f){var o=1/0,d=0,v=Math.round,h=v(window.devicePixelRatio||1),u=80*h,r=48*h,i=3*h,s=2*h,p=3*h,l=15*h,c=74*h,m=30*h,_=document.createElement("canvas");_.width=u,_.height=r,_.style.cssText="width:80px;height:48px";var x=_.getContext("2d");return x.font="bold "+9*h+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=f,x.fillRect(0,0,u,r),x.fillStyle=n,x.fillText(a,i,s),x.fillRect(p,l,c,m),x.fillStyle=f,x.globalAlpha=.9,x.fillRect(p,l,c,m),{dom:_,update:function(T,y){o=Math.min(o,T),d=Math.max(d,T),x.fillStyle=f,x.globalAlpha=1,x.fillRect(0,0,u,l),x.fillStyle=n,x.fillText(v(T)+" "+a+" ("+v(o)+"-"+v(d)+")",i,s),x.drawImage(_,p+h,l,c-h,m,p,l,c-h,m),x.fillRect(p+c-h,l,h,m),x.fillStyle=f,x.globalAlpha=.9,x.fillRect(p+c-h,l,h,v((1-T/y)*m))}}},t})})(Xi);var zo=Xi.exports;const Go=Uo(zo);class Xo{constructor(){const e=new Go;document.body.appendChild(e.dom);function t(){e.begin(),e.end(),requestAnimationFrame(t)}t()}}var Qt=(g=>(g.Menu="MainStage",g.FirstTask="FirstTask",g.SecondTask="SecondTaskStage",g.ThirdTask="ThirdTaskStage",g))(Qt||{}),er=(g=>(g[g.Landscape=0]="Landscape",g[g.Portrait=1]="Portrait",g[g.None=2]="None",g))(er||{});class rr{}rr.DisplayResolution={width:1280,height:720};class Er extends PIXI.utils.EventEmitter{constructor(e,t){super(),Er.instance=this,this.initProperties(e,t),this.addResizeEvent()}initProperties(e,t){const a=new PIXI.Application({width:e,height:t,backgroundColor:0,resolution:window.devicePixelRatio||1,autoDensity:!0});a.renderer.view.id="videoslot",document.body.appendChild(a.view),this.rendererContainer=a.stage,this.renderer=a.renderer,this.width=e,this.height=t,this.scaleFactor=1,this.currentOrientation=er.None,document.body.ontouchend=this.onFullscreenChange.bind(this),document.body.onclick=this.onFullscreenChange.bind(this)}addResizeEvent(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}onResize(){const e=window.innerWidth/this.width,t=window.innerHeight/this.height;this.scaleFactor=Math.min(e,t),this.renderer.resize(window.innerWidth,window.innerHeight),this.rendererContainer.scale.set(this.scaleFactor),this.rendererContainer.x=(window.innerWidth-this.width*this.scaleFactor)/2,this.rendererContainer.y=(window.innerHeight-this.height*this.scaleFactor)/2,this.emit("resize",{width:this.width*this.scaleFactor,height:this.height*this.scaleFactor}),this.setOrientationMode()}setOrientationMode(){const e=window.innerWidth,t=window.innerHeight;this.currentOrientation=t>=e?er.Portrait:er.Landscape}getCurrentOrientation(){return this.currentOrientation}setCurrentOrientation(e){this.currentOrientation=e,this.emit("orientationChanged",e),this.onResize()}onFullscreenChange(){const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}getRenderer(){return this.renderer}getRendererContainer(){return this.rendererContainer}getWidth(){return this.width}getHeight(){return this.height}getScaleFactor(){return this.scaleFactor}}class ee extends PIXI.Container{constructor(e={}){super(),e.name&&(this.name=e.name),e.parent&&e.parent.addChild(this),e.x!==void 0&&(this.position.x=e.x),e.y!==void 0&&(this.position.y=e.y)}sortChildren(){this.children.sort(function(e,t){return e.zIndex=e.zIndex||0,t.zIndex=t.zIndex||0,e.zIndex-t.zIndex})}}class on extends PIXI.Sprite{constructor(e){super(),this._state="Out",this._callback=null,this._isEnabled=!0,this._zIndex=0,this.width=e.width,this.height=e.height,this.anchor.set(.5,.5),this.position.set(e.x,e.y),this.buttonMode=!0,this.interactive=!0,this.frames=e.config.frames,this._callback=e.callback||null,this.name=e.config.name||"button",e.parent&&e.parent.addChild(this),this.state="Out",this.initEvents()}initEvents(){this.on("pointerdown",this.onButtonDown,this),this.on("pointerup",this.onButtonUp,this),this.on("pointerover",this.onButtonOver,this),this.on("pointerout",this.onButtonOut,this),this.on("pointertap",this.onButtonOut,this)}onButtonDown(){this.state="Down"}onButtonUp(){this._callback&&this._callback.call(null,this)}onButtonOver(){this.state="Over"}onButtonOut(){this.state="Out"}set state(e){this._state=e,this.texture=PIXI.Texture.from(this.frames[e.toLowerCase()])}get state(){return this._state}set isEnabled(e){this._isEnabled=e,this.state=e?"Out":"Disabled",this.interactive=e}get isEnabled(){return this._isEnabled}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e}}class Wo extends PIXI.Text{constructor(e){const{x:t,y:a,config:n,parent:f}=e;super(n.text,n.textStyle),n.name&&(this.name=n.name),this.position.set(t,a),this.anchor.set(.5,.5),f&&f.addChild(this)}setTextConfig(e){this.style=new PIXI.TextStyle(e.textStyle),this.text=e.text}}class Xr extends on{constructor(e){super(e),this.text=new Wo({x:0,y:0,config:e.textConfig,parent:this}),e.config.name&&(this.name=e.config.name)}get textAsset(){return this.text}}class sn extends ee{constructor(e={}){super(e),this.game=e.game}initDisplayEvents(){this.game&&this.game.on("orientationChanged",this.onOrientationChanged.bind(this))}onOrientationChanged(e){switch(e){case er.Landscape:this.setVisualLandscape();break;case er.Portrait:this.setVisualPortrait();break}}}const Se=class{};Se.GeneralButton={frames:{out:"generalbutton_out",over:"generalbutton_over",down:"generalbutton_down",disabled:"generalbutton_disabled"},name:"generalButton"};Se.GeneralTextStyle={fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"bold",fill:"#d08f38",stroke:0,strokeThickness:3,align:"center"};Se.GenericText={text:"Generic Text",textStyle:Se.GeneralTextStyle,name:"Generic Text"};Se.MenuText={text:"Menu",textStyle:Se.GeneralTextStyle,name:"Menu Text"};Se.MenuButton={frames:{out:"home_out",over:"home_over",down:"home_down",disabled:"home_disabled"},name:"Menu Button"};let ge=Se;const oe=class{};oe.FirstTaskText={text:"First Task",textStyle:ge.GeneralTextStyle,name:"First Text"};oe.SecondTaskText={text:"Second Task",textStyle:ge.GeneralTextStyle,name:"Second Text"};oe.ThirdTaskText={text:"Third Task",textStyle:ge.GeneralTextStyle,name:"Third Text"};oe.FirstTaskButtonText={bConfig:ge.GeneralButton,tConfig:oe.FirstTaskText,name:"First Task Button Text"};oe.SecondTaskButtonText={bConfig:ge.GeneralButton,tConfig:oe.SecondTaskText,name:"First Task Button Text"};oe.ThirdTaskButtonText={bConfig:ge.GeneralButton,tConfig:oe.ThirdTaskText,name:"Third Task Button Text"};let Ze=oe;class Wi extends PIXI.Sprite{constructor(e){const{x:t,y:a,width:n,height:f,config:o,parent:d}=e;super(PIXI.utils.TextureCache[o.frame]),this.width=n,this.height=f,this.name=o.name?o.name:"sprite",this.anchor.set(.5,.5),this.position.set(t,a),d&&d.addChild(this)}}const jt=class{};jt.CardSprite={frame:"card",name:"card"};jt.CardStackGeneralTextStyle={fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"bold",fill:"#d08f38",stroke:0,strokeThickness:3,align:"center"};jt.CardStackGeneralButtonStyle={frames:{out:"generalbutton_out",over:"generalbutton_over",down:"generalbutton_down",disabled:"generalbutton_disabled"},name:"generalButton"};jt.ResetText={text:"Reset",textStyle:jt.CardStackGeneralTextStyle,name:"Reset Text"};jt.PlayText={text:"Play",textStyle:jt.CardStackGeneralTextStyle,name:"Play Text"};jt.RestartButton={bConfig:jt.CardStackGeneralButtonStyle,tConfig:jt.PlayText,name:"Restart Button Text"};let pr=jt;class nr{}nr.CardCounter=144;nr.CardAnimationDelay=1;nr.CardAnimationDuration=2;function he(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function Vi(g,e){g.prototype=Object.create(e.prototype),g.prototype.constructor=g,g.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Gt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ur={duration:.5,overwrite:!1,delay:0},Zn,At,mt,Ht=1e8,gt=1/Ht,Mn=Math.PI*2,Vo=Mn/4,Ho=0,Hi=Math.sqrt,Yo=Math.cos,Ko=Math.sin,Pt=function(e){return typeof e=="string"},Tt=function(e){return typeof e=="function"},pe=function(e){return typeof e=="number"},Qn=function(e){return typeof e>"u"},se=function(e){return typeof e=="object"},It=function(e){return e!==!1},Jn=function(){return typeof window<"u"},Nr=function(e){return Tt(e)||Pt(e)},Yi=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dt=Array.isArray,Rn=/(?:-?\.?\d|\.)+/gi,Ki=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,je=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,gn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,qi=/[+-]=-?[.\d]+/,Zi=/[^,'"\[\]\s]+/gi,qo=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,yt,te,On,jn,Xt={},qr={},Qi,Ji=function(e){return(qr=Xe(e,Xt))&&kt},$n=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Pr=function(e,t){return!t&&console.warn(e)},ji=function(e,t){return e&&(Xt[e]=t)&&qr&&(qr[e]=t)||Xt},Cr=function(){return 0},Zo={suppressEvents:!0,isStart:!0,kill:!1},Wr={suppressEvents:!0,kill:!1},Qo={suppressEvents:!0},ti={},Te=[],An={},$i,Nt={},_n={},_i=30,Vr=[],ei="",ri=function(e){var t=e[0],a,n;if(se(t)||Tt(t)||(e=[e]),!(a=(t._gsap||{}).harness)){for(n=Vr.length;n--&&!Vr[n].targetTest(t););a=Vr[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Sa(e[n],a)))||e.splice(n,1);return e},Be=function(e){return e._gsap||ri(Yt(e))[0]._gsap},ta=function(e,t,a){return(a=e[t])&&Tt(a)?e[t]():Qn(a)&&e.getAttribute&&e.getAttribute(t)||a},Ft=function(e,t){return(e=e.split(",")).forEach(t)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},Et=function(e){return Math.round(e*1e7)/1e7||0},ir=function(e,t){var a=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),a==="+"?e+n:a==="-"?e-n:a==="*"?e*n:e/n},Jo=function(e,t){for(var a=t.length,n=0;e.indexOf(t[n])<0&&++n<a;);return n<a},Zr=function(){var e=Te.length,t=Te.slice(0),a,n;for(An={},Te.length=0,a=0;a<e;a++)n=t[a],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},ea=function(e,t,a,n){Te.length&&!At&&Zr(),e.render(t,a,n||At&&t<0&&(e._initted||e._startAt)),Te.length&&!At&&Zr()},ra=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Zi).length<2?t:Pt(e)?e.trim():e},na=function(e){return e},qt=function(e,t){for(var a in t)a in e||(e[a]=t[a]);return e},jo=function(e){return function(t,a){for(var n in a)n in t||n==="duration"&&e||n==="ease"||(t[n]=a[n])}},Xe=function(e,t){for(var a in t)e[a]=t[a];return e},mi=function g(e,t){for(var a in t)a!=="__proto__"&&a!=="constructor"&&a!=="prototype"&&(e[a]=se(t[a])?g(e[a]||(e[a]={}),t[a]):t[a]);return e},Qr=function(e,t){var a={},n;for(n in e)n in t||(a[n]=e[n]);return a},Tr=function(e){var t=e.parent||yt,a=e.keyframes?jo(Dt(e.keyframes)):qt;if(It(e.inherit))for(;t;)a(e,t.vars.defaults),t=t.parent||t._dp;return e},$o=function(e,t){for(var a=e.length,n=a===t.length;n&&a--&&e[a]===t[a];);return a<0},ia=function(e,t,a,n,f){a===void 0&&(a="_first"),n===void 0&&(n="_last");var o=e[n],d;if(f)for(d=t[f];o&&o[f]>d;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[a],e[a]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},un=function(e,t,a,n){a===void 0&&(a="_first"),n===void 0&&(n="_last");var f=t._prev,o=t._next;f?f._next=o:e[a]===t&&(e[a]=o),o?o._prev=f:e[n]===t&&(e[n]=f),t._next=t._prev=t.parent=null},we=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ke=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var a=e;a;)a._dirty=1,a=a.parent;return e},ts=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Dn=function(e,t,a,n){return e._startAt&&(At?e._startAt.revert(Wr):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},es=function g(e){return!e||e._ts&&g(e.parent)},yi=function(e){return e._repeat?lr(e._tTime,e=e.duration()+e._rDelay)*e:0},lr=function(e,t){var a=Math.floor(e/=t);return e&&a===e?a-1:a},Jr=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ln=function(e){return e._end=Et(e._start+(e._tDur/Math.abs(e._ts||e._rts||gt)||0))},hn=function(e,t){var a=e._dp;return a&&a.smoothChildTiming&&e._ts&&(e._start=Et(a._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),ln(e),a._dirty||ke(a,e)),e},aa=function(e,t){var a;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(a=Jr(e.rawTime(),t),(!t._dur||Br(0,t.totalDuration(),a)-t._tTime>gt)&&t.render(a,!0)),ke(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(a=e;a._dp;)a.rawTime()>=0&&a.totalTime(a._tTime),a=a._dp;e._zTime=-gt}},re=function(e,t,a,n){return t.parent&&we(t),t._start=Et((pe(a)?a:a||e!==yt?Wt(e,a,t):e._time)+t._delay),t._end=Et(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ia(e,t,"_first","_last",e._sort?"_start":0),In(t)||(e._recent=t),n||aa(e,t),e._ts<0&&hn(e,e._tTime),e},oa=function(e,t){return(Xt.ScrollTrigger||$n("scrollTrigger",t))&&Xt.ScrollTrigger.create(t,e)},sa=function(e,t,a,n,f){if(ii(e,t,f),!e._initted)return 1;if(!a&&e._pt&&!At&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&$i!==Ut.frame)return Te.push(e),e._lazy=[f,n],1},rs=function g(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||g(t))},In=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},ns=function(e,t,a,n){var f=e.ratio,o=t<0||!t&&(!e._start&&rs(e)&&!(!e._initted&&In(e))||(e._ts<0||e._dp._ts<0)&&!In(e))?0:1,d=e._rDelay,v=0,h,u,r;if(d&&e._repeat&&(v=Br(0,e._tDur,t),u=lr(v,d),e._yoyo&&u&1&&(o=1-o),u!==lr(e._tTime,d)&&(f=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==f||At||n||e._zTime===gt||!t&&e._zTime){if(!e._initted&&sa(e,t,n,a,v))return;for(r=e._zTime,e._zTime=t||(a?gt:0),a||(a=t&&!r),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=v,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&Dn(e,t,a,!0),e._onUpdate&&!a&&zt(e,"onUpdate"),v&&e._repeat&&!a&&e.parent&&zt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&we(e,1),!a&&!At&&(zt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},is=function(e,t,a){var n;if(a>t)for(n=e._first;n&&n._start<=a;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=a;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},hr=function(e,t,a,n){var f=e._repeat,o=Et(t)||0,d=e._tTime/e._tDur;return d&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=f?f<0?1e10:Et(o*(f+1)+e._rDelay*f):o,d>0&&!n&&hn(e,e._tTime=e._tDur*d),e.parent&&ln(e),a||ke(e.parent,e),e},xi=function(e){return e instanceof Ot?ke(e):hr(e,e._dur)},as={_start:0,endTime:Cr,totalDuration:Cr},Wt=function g(e,t,a){var n=e.labels,f=e._recent||as,o=e.duration()>=Ht?f.endTime(!1):e._dur,d,v,h;return Pt(t)&&(isNaN(t)||t in n)?(v=t.charAt(0),h=t.substr(-1)==="%",d=t.indexOf("="),v==="<"||v===">"?(d>=0&&(t=t.replace(/=/,"")),(v==="<"?f._start:f.endTime(f._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(d<0?f:a).totalDuration()/100:1)):d<0?(t in n||(n[t]=o),n[t]):(v=parseFloat(t.charAt(d-1)+t.substr(d+1)),h&&a&&(v=v/100*(Dt(a)?a[0]:a).totalDuration()),d>1?g(e,t.substr(0,d-1),a)+v:o+v)):t==null?o:+t},br=function(e,t,a){var n=pe(t[1]),f=(n?2:1)+(e<2?0:1),o=t[f],d,v;if(n&&(o.duration=t[1]),o.parent=a,e){for(d=o,v=a;v&&!("immediateRender"in d);)d=v.vars.defaults||{},v=It(v.vars.inherit)&&v.parent;o.immediateRender=It(d.immediateRender),e<2?o.runBackwards=1:o.startAt=t[f-1]}return new wt(t[0],o,t[f+1])},Pe=function(e,t){return e||e===0?t(e):t},Br=function(e,t,a){return a<e?e:a>t?t:a},Rt=function(e,t){return!Pt(e)||!(t=qo.exec(e))?"":t[1]},os=function(e,t,a){return Pe(a,function(n){return Br(e,t,n)})},Fn=[].slice,ua=function(e,t){return e&&se(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&se(e[0]))&&!e.nodeType&&e!==te},ss=function(e,t,a){return a===void 0&&(a=[]),e.forEach(function(n){var f;return Pt(n)&&!t||ua(n,1)?(f=a).push.apply(f,Yt(n)):a.push(n)})||a},Yt=function(e,t,a){return mt&&!t&&mt.selector?mt.selector(e):Pt(e)&&!a&&(On||!fr())?Fn.call((t||jn).querySelectorAll(e),0):Dt(e)?ss(e,a):ua(e)?Fn.call(e,0):e?[e]:[]},Ln=function(e){return e=Yt(e)[0]||Pr("Invalid scope")||{},function(t){var a=e.current||e.nativeElement||e;return Yt(t,a.querySelectorAll?a:a===e?Pr("Invalid scope")||jn.createElement("div"):e)}},la=function(e){return e.sort(function(){return .5-Math.random()})},ha=function(e){if(Tt(e))return e;var t=se(e)?e:{each:e},a=Ne(t.ease),n=t.from||0,f=parseFloat(t.base)||0,o={},d=n>0&&n<1,v=isNaN(n)||d,h=t.axis,u=n,r=n;return Pt(n)?u=r={center:.5,edges:.5,end:1}[n]||0:!d&&v&&(u=n[0],r=n[1]),function(i,s,p){var l=(p||t).length,c=o[l],m,_,x,T,y,w,b,S,E;if(!c){if(E=t.grid==="auto"?0:(t.grid||[1,Ht])[1],!E){for(b=-Ht;b<(b=p[E++].getBoundingClientRect().left)&&E<l;);E<l&&E--}for(c=o[l]=[],m=v?Math.min(E,l)*u-.5:n%E,_=E===Ht?0:v?l*r/E-.5:n/E|0,b=0,S=Ht,w=0;w<l;w++)x=w%E-m,T=_-(w/E|0),c[w]=y=h?Math.abs(h==="y"?T:x):Hi(x*x+T*T),y>b&&(b=y),y<S&&(S=y);n==="random"&&la(c),c.max=b-S,c.min=S,c.v=l=(parseFloat(t.amount)||parseFloat(t.each)*(E>l?l-1:h?h==="y"?l/E:E:Math.max(E,l/E))||0)*(n==="edges"?-1:1),c.b=l<0?f-l:f,c.u=Rt(t.amount||t.each)||0,a=a&&l<0?xa(a):a}return l=(c[i]-c.min)/c.max||0,Et(c.b+(a?a(l):l)*c.v)+c.u}},Bn=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(a){var n=Et(Math.round(parseFloat(a)/e)*e*t);return(n-n%1)/t+(pe(a)?0:Rt(a))}},fa=function(e,t){var a=Dt(e),n,f;return!a&&se(e)&&(n=a=e.radius||Ht,e.values?(e=Yt(e.values),(f=!pe(e[0]))&&(n*=n)):e=Bn(e.increment)),Pe(t,a?Tt(e)?function(o){return f=e(o),Math.abs(f-o)<=n?f:o}:function(o){for(var d=parseFloat(f?o.x:o),v=parseFloat(f?o.y:0),h=Ht,u=0,r=e.length,i,s;r--;)f?(i=e[r].x-d,s=e[r].y-v,i=i*i+s*s):i=Math.abs(e[r]-d),i<h&&(h=i,u=r);return u=!n||h<=n?e[u]:o,f||u===o||pe(o)?u:u+Rt(o)}:Bn(e))},ca=function(e,t,a,n){return Pe(Dt(e)?!t:a===!0?!!(a=0):!n,function(){return Dt(e)?e[~~(Math.random()*e.length)]:(a=a||1e-5)&&(n=a<1?Math.pow(10,(a+"").length-2):1)&&Math.floor(Math.round((e-a/2+Math.random()*(t-e+a*.99))/a)*a*n)/n})},us=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(n){return t.reduce(function(f,o){return o(f)},n)}},ls=function(e,t){return function(a){return e(parseFloat(a))+(t||Rt(a))}},hs=function(e,t,a){return pa(e,t,0,1,a)},da=function(e,t,a){return Pe(a,function(n){return e[~~t(n)]})},fs=function g(e,t,a){var n=t-e;return Dt(e)?da(e,g(0,e.length),t):Pe(a,function(f){return(n+(f-e)%n)%n+e})},cs=function g(e,t,a){var n=t-e,f=n*2;return Dt(e)?da(e,g(0,e.length-1),t):Pe(a,function(o){return o=(f+(o-e)%f)%f||0,e+(o>n?f-o:o)})},Mr=function(e){for(var t=0,a="",n,f,o,d;~(n=e.indexOf("random(",t));)o=e.indexOf(")",n),d=e.charAt(n+7)==="[",f=e.substr(n+7,o-n-7).match(d?Zi:Rn),a+=e.substr(t,n-t)+ca(d?f:+f[0],d?0:+f[1],+f[2]||1e-5),t=o+1;return a+e.substr(t,e.length-t)},pa=function(e,t,a,n,f){var o=t-e,d=n-a;return Pe(f,function(v){return a+((v-e)/o*d||0)})},ds=function g(e,t,a,n){var f=isNaN(e+t)?0:function(s){return(1-s)*e+s*t};if(!f){var o=Pt(e),d={},v,h,u,r,i;if(a===!0&&(n=1)&&(a=null),o)e={p:e},t={p:t};else if(Dt(e)&&!Dt(t)){for(u=[],r=e.length,i=r-2,h=1;h<r;h++)u.push(g(e[h-1],e[h]));r--,f=function(p){p*=r;var l=Math.min(i,~~p);return u[l](p-l)},a=t}else n||(e=Xe(Dt(e)?[]:{},e));if(!u){for(v in t)ni.call(d,e,v,"get",t[v]);f=function(p){return si(p,d)||(o?e.p:e)}}}return Pe(a,f)},Ti=function(e,t,a){var n=e.labels,f=Ht,o,d,v;for(o in n)d=n[o]-t,d<0==!!a&&d&&f>(d=Math.abs(d))&&(v=o,f=d);return v},zt=function(e,t,a){var n=e.vars,f=n[t],o=mt,d=e._ctx,v,h,u;if(f)return v=n[t+"Params"],h=n.callbackScope||e,a&&Te.length&&Zr(),d&&(mt=d),u=v?f.apply(h,v):f.call(h),mt=o,u},_r=function(e){return we(e),e.scrollTrigger&&e.scrollTrigger.kill(!!At),e.progress()<1&&zt(e,"onInterrupt"),e},$e,va=[],ga=function(e){if(e)if(e=!e.name&&e.default||e,Jn()||e.headless){var t=e.name,a=Tt(e),n=t&&!a&&e.init?function(){this._props=[]}:e,f={init:Cr,render:si,add:ni,kill:Rs,modifier:Ms,rawVars:0},o={targetTest:0,get:0,getSetter:oi,aliases:{},register:0};if(fr(),e!==n){if(Nt[t])return;qt(n,qt(Qr(e,f),o)),Xe(n.prototype,Xe(f,Qr(e,o))),Nt[n.prop=t]=n,e.targetTest&&(Vr.push(n),ti[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ji(t,n),e.register&&e.register(kt,n,Lt)}else va.push(e)},pt=255,mr={aqua:[0,pt,pt],lime:[0,pt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,pt],navy:[0,0,128],white:[pt,pt,pt],olive:[128,128,0],yellow:[pt,pt,0],orange:[pt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[pt,0,0],pink:[pt,192,203],cyan:[0,pt,pt],transparent:[pt,pt,pt,0]},mn=function(e,t,a){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(a-t)*e*6:e<.5?a:e*3<2?t+(a-t)*(2/3-e)*6:t)*pt+.5|0},_a=function(e,t,a){var n=e?pe(e)?[e>>16,e>>8&pt,e&pt]:0:mr.black,f,o,d,v,h,u,r,i,s,p;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),mr[e])n=mr[e];else if(e.charAt(0)==="#"){if(e.length<6&&(f=e.charAt(1),o=e.charAt(2),d=e.charAt(3),e="#"+f+f+o+o+d+d+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&pt,n&pt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&pt,e&pt]}else if(e.substr(0,3)==="hsl"){if(n=p=e.match(Rn),!t)v=+n[0]%360/360,h=+n[1]/100,u=+n[2]/100,o=u<=.5?u*(h+1):u+h-u*h,f=u*2-o,n.length>3&&(n[3]*=1),n[0]=mn(v+1/3,f,o),n[1]=mn(v,f,o),n[2]=mn(v-1/3,f,o);else if(~e.indexOf("="))return n=e.match(Ki),a&&n.length<4&&(n[3]=1),n}else n=e.match(Rn)||mr.transparent;n=n.map(Number)}return t&&!p&&(f=n[0]/pt,o=n[1]/pt,d=n[2]/pt,r=Math.max(f,o,d),i=Math.min(f,o,d),u=(r+i)/2,r===i?v=h=0:(s=r-i,h=u>.5?s/(2-r-i):s/(r+i),v=r===f?(o-d)/s+(o<d?6:0):r===o?(d-f)/s+2:(f-o)/s+4,v*=60),n[0]=~~(v+.5),n[1]=~~(h*100+.5),n[2]=~~(u*100+.5)),a&&n.length<4&&(n[3]=1),n},ma=function(e){var t=[],a=[],n=-1;return e.split(be).forEach(function(f){var o=f.match(je)||[];t.push.apply(t,o),a.push(n+=o.length+1)}),t.c=a,t},bi=function(e,t,a){var n="",f=(e+n).match(be),o=t?"hsla(":"rgba(",d=0,v,h,u,r;if(!f)return e;if(f=f.map(function(i){return(i=_a(i,t,1))&&o+(t?i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:i.join(","))+")"}),a&&(u=ma(e),v=a.c,v.join(n)!==u.c.join(n)))for(h=e.replace(be,"1").split(je),r=h.length-1;d<r;d++)n+=h[d]+(~v.indexOf(d)?f.shift()||o+"0,0,0,0)":(u.length?u:f.length?f:a).shift());if(!h)for(h=e.split(be),r=h.length-1;d<r;d++)n+=h[d]+f[d];return n+h[r]},be=function(){var g="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in mr)g+="|"+e+"\\b";return new RegExp(g+")","gi")}(),ps=/hsl[a]?\(/,ya=function(e){var t=e.join(" "),a;if(be.lastIndex=0,be.test(t))return a=ps.test(t),e[1]=bi(e[1],a),e[0]=bi(e[0],a,ma(e[1])),!0},Rr,Ut=function(){var g=Date.now,e=500,t=33,a=g(),n=a,f=1e3/240,o=f,d=[],v,h,u,r,i,s,p=function l(c){var m=g()-n,_=c===!0,x,T,y,w;if((m>e||m<0)&&(a+=m-t),n+=m,y=n-a,x=y-o,(x>0||_)&&(w=++r.frame,i=y-r.time*1e3,r.time=y=y/1e3,o+=x+(x>=f?4:f-x),T=1),_||(v=h(l)),T)for(s=0;s<d.length;s++)d[s](y,i,w,c)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(c){return i/(1e3/(c||60))},wake:function(){Qi&&(!On&&Jn()&&(te=On=window,jn=te.document||{},Xt.gsap=kt,(te.gsapVersions||(te.gsapVersions=[])).push(kt.version),Ji(qr||te.GreenSockGlobals||!te.gsap&&te||{}),va.forEach(ga)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,v&&r.sleep(),h=u||function(c){return setTimeout(c,o-r.time*1e3+1|0)},Rr=1,p(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(v),Rr=0,h=Cr},lagSmoothing:function(c,m){e=c||1/0,t=Math.min(m||33,e)},fps:function(c){f=1e3/(c||240),o=r.time*1e3+f},add:function(c,m,_){var x=m?function(T,y,w,b){c(T,y,w,b),r.remove(x)}:c;return r.remove(c),d[_?"unshift":"push"](x),fr(),x},remove:function(c,m){~(m=d.indexOf(c))&&d.splice(m,1)&&s>=m&&s--},_listeners:d},r}(),fr=function(){return!Rr&&Ut.wake()},ht={},vs=/^[\d.\-M][\d.\-,\s]/,gs=/["']/g,_s=function(e){for(var t={},a=e.substr(1,e.length-3).split(":"),n=a[0],f=1,o=a.length,d,v,h;f<o;f++)v=a[f],d=f!==o-1?v.lastIndexOf(","):v.length,h=v.substr(0,d),t[n]=isNaN(h)?h.replace(gs,"").trim():+h,n=v.substr(d+1).trim();return t},ms=function(e){var t=e.indexOf("(")+1,a=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<a?e.indexOf(")",a+1):a)},ys=function(e){var t=(e+"").split("("),a=ht[t[0]];return a&&t.length>1&&a.config?a.config.apply(null,~e.indexOf("{")?[_s(t[1])]:ms(e).split(",").map(ra)):ht._CE&&vs.test(e)?ht._CE("",e):a},xa=function(e){return function(t){return 1-e(1-t)}},Ta=function g(e,t){for(var a=e._first,n;a;)a instanceof Ot?g(a,t):a.vars.yoyoEase&&(!a._yoyo||!a._repeat)&&a._yoyo!==t&&(a.timeline?g(a.timeline,t):(n=a._ease,a._ease=a._yEase,a._yEase=n,a._yoyo=t)),a=a._next},Ne=function(e,t){return e&&(Tt(e)?e:ht[e]||ys(e))||t},Ve=function(e,t,a,n){a===void 0&&(a=function(v){return 1-t(1-v)}),n===void 0&&(n=function(v){return v<.5?t(v*2)/2:1-t((1-v)*2)/2});var f={easeIn:t,easeOut:a,easeInOut:n},o;return Ft(e,function(d){ht[d]=Xt[d]=f,ht[o=d.toLowerCase()]=a;for(var v in f)ht[o+(v==="easeIn"?".in":v==="easeOut"?".out":".inOut")]=ht[d+"."+v]=f[v]}),f},ba=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},yn=function g(e,t,a){var n=t>=1?t:1,f=(a||(e?.3:.45))/(t<1?t:1),o=f/Mn*(Math.asin(1/n)||0),d=function(u){return u===1?1:n*Math.pow(2,-10*u)*Ko((u-o)*f)+1},v=e==="out"?d:e==="in"?function(h){return 1-d(1-h)}:ba(d);return f=Mn/f,v.config=function(h,u){return g(e,h,u)},v},xn=function g(e,t){t===void 0&&(t=1.70158);var a=function(o){return o?--o*o*((t+1)*o+t)+1:0},n=e==="out"?a:e==="in"?function(f){return 1-a(1-f)}:ba(a);return n.config=function(f){return g(e,f)},n};Ft("Linear,Quad,Cubic,Quart,Quint,Strong",function(g,e){var t=e<5?e+1:e;Ve(g+",Power"+(t-1),e?function(a){return Math.pow(a,t)}:function(a){return a},function(a){return 1-Math.pow(1-a,t)},function(a){return a<.5?Math.pow(a*2,t)/2:1-Math.pow((1-a)*2,t)/2})});ht.Linear.easeNone=ht.none=ht.Linear.easeIn;Ve("Elastic",yn("in"),yn("out"),yn());(function(g,e){var t=1/e,a=2*t,n=2.5*t,f=function(d){return d<t?g*d*d:d<a?g*Math.pow(d-1.5/e,2)+.75:d<n?g*(d-=2.25/e)*d+.9375:g*Math.pow(d-2.625/e,2)+.984375};Ve("Bounce",function(o){return 1-f(1-o)},f)})(7.5625,2.75);Ve("Expo",function(g){return g?Math.pow(2,10*(g-1)):0});Ve("Circ",function(g){return-(Hi(1-g*g)-1)});Ve("Sine",function(g){return g===1?1:-Yo(g*Vo)+1});Ve("Back",xn("in"),xn("out"),xn());ht.SteppedEase=ht.steps=Xt.SteppedEase={config:function(e,t){e===void 0&&(e=1);var a=1/e,n=e+(t?0:1),f=t?1:0,o=1-gt;return function(d){return((n*Br(0,o,d)|0)+f)*a}}};ur.ease=ht["quad.out"];Ft("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(g){return ei+=g+","+g+"Params,"});var Sa=function(e,t){this.id=Ho++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ta,this.set=t?t.getSetter:oi},Or=function(){function g(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,hr(this,+t.duration,1,1),this.data=t.data,mt&&(this._ctx=mt,mt.data.push(this)),Rr||Ut.wake()}var e=g.prototype;return e.delay=function(a){return a||a===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+a-this._delay),this._delay=a,this):this._delay},e.duration=function(a){return arguments.length?this.totalDuration(this._repeat>0?a+(a+this._rDelay)*this._repeat:a):this.totalDuration()&&this._dur},e.totalDuration=function(a){return arguments.length?(this._dirty=0,hr(this,this._repeat<0?a:(a-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(a,n){if(fr(),!arguments.length)return this._tTime;var f=this._dp;if(f&&f.smoothChildTiming&&this._ts){for(hn(this,a),!f._dp||f.parent||aa(f,this);f&&f.parent;)f.parent._time!==f._start+(f._ts>=0?f._tTime/f._ts:(f.totalDuration()-f._tTime)/-f._ts)&&f.totalTime(f._tTime,!0),f=f.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&a<this._tDur||this._ts<0&&a>0||!this._tDur&&!a)&&re(this._dp,this,this._start-this._delay)}return(this._tTime!==a||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===gt||!a&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=a),ea(this,a,n)),this},e.time=function(a,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),a+yi(this))%(this._dur+this._rDelay)||(a?this._dur:0),n):this._time},e.totalProgress=function(a,n){return arguments.length?this.totalTime(this.totalDuration()*a,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(a,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-a:a)+yi(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(a,n){var f=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(a-1)*f,n):this._repeat?lr(this._tTime,f)+1:1},e.timeScale=function(a,n){if(!arguments.length)return this._rts===-gt?0:this._rts;if(this._rts===a)return this;var f=this.parent&&this._ts?Jr(this.parent._time,this):this._tTime;return this._rts=+a||0,this._ts=this._ps||a===-gt?0:this._rts,this.totalTime(Br(-Math.abs(this._delay),this._tDur,f),n!==!1),ln(this),ts(this)},e.paused=function(a){return arguments.length?(this._ps!==a&&(this._ps=a,a?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==gt&&(this._tTime-=gt)))),this):this._ps},e.startTime=function(a){if(arguments.length){this._start=a;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&re(n,this,a-this._delay),this}return this._start},e.endTime=function(a){return this._start+(It(a)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(a){var n=this.parent||this._dp;return n?a&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Jr(n.rawTime(a),this):this._tTime:this._tTime},e.revert=function(a){a===void 0&&(a=Qo);var n=At;return At=a,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(a),this.totalTime(-.01,a.suppressEvents)),this.data!=="nested"&&a.kill!==!1&&this.kill(),At=n,this},e.globalTime=function(a){for(var n=this,f=arguments.length?a:n.rawTime();n;)f=n._start+f/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(a):f},e.repeat=function(a){return arguments.length?(this._repeat=a===1/0?-2:a,xi(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(a){if(arguments.length){var n=this._time;return this._rDelay=a,xi(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},e.seek=function(a,n){return this.totalTime(Wt(this,a),It(n))},e.restart=function(a,n){return this.play().totalTime(a?-this._delay:0,It(n))},e.play=function(a,n){return a!=null&&this.seek(a,n),this.reversed(!1).paused(!1)},e.reverse=function(a,n){return a!=null&&this.seek(a||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(a,n){return a!=null&&this.seek(a,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(a){return arguments.length?(!!a!==this.reversed()&&this.timeScale(-this._rts||(a?-gt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-gt,this},e.isActive=function(){var a=this.parent||this._dp,n=this._start,f;return!!(!a||this._ts&&this._initted&&a.isActive()&&(f=a.rawTime(!0))>=n&&f<this.endTime(!0)-gt)},e.eventCallback=function(a,n,f){var o=this.vars;return arguments.length>1?(n?(o[a]=n,f&&(o[a+"Params"]=f),a==="onUpdate"&&(this._onUpdate=n)):delete o[a],this):o[a]},e.then=function(a){var n=this;return new Promise(function(f){var o=Tt(a)?a:na,d=function(){var h=n.then;n.then=null,Tt(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=h),f(o),n.then=h};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?d():n._prom=d})},e.kill=function(){_r(this)},g}();qt(Or.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-gt,_prom:0,_ps:!1,_rts:1});var Ot=function(g){Vi(e,g);function e(a,n){var f;return a===void 0&&(a={}),f=g.call(this,a)||this,f.labels={},f.smoothChildTiming=!!a.smoothChildTiming,f.autoRemoveChildren=!!a.autoRemoveChildren,f._sort=It(a.sortChildren),yt&&re(a.parent||yt,he(f),n),a.reversed&&f.reverse(),a.paused&&f.paused(!0),a.scrollTrigger&&oa(he(f),a.scrollTrigger),f}var t=e.prototype;return t.to=function(n,f,o){return br(0,arguments,this),this},t.from=function(n,f,o){return br(1,arguments,this),this},t.fromTo=function(n,f,o,d){return br(2,arguments,this),this},t.set=function(n,f,o){return f.duration=0,f.parent=this,Tr(f).repeatDelay||(f.repeat=0),f.immediateRender=!!f.immediateRender,new wt(n,f,Wt(this,o),1),this},t.call=function(n,f,o){return re(this,wt.delayedCall(0,n,f),o)},t.staggerTo=function(n,f,o,d,v,h,u){return o.duration=f,o.stagger=o.stagger||d,o.onComplete=h,o.onCompleteParams=u,o.parent=this,new wt(n,o,Wt(this,v)),this},t.staggerFrom=function(n,f,o,d,v,h,u){return o.runBackwards=1,Tr(o).immediateRender=It(o.immediateRender),this.staggerTo(n,f,o,d,v,h,u)},t.staggerFromTo=function(n,f,o,d,v,h,u,r){return d.startAt=o,Tr(d).immediateRender=It(d.immediateRender),this.staggerTo(n,f,d,v,h,u,r)},t.render=function(n,f,o){var d=this._time,v=this._dirty?this.totalDuration():this._tDur,h=this._dur,u=n<=0?0:Et(n),r=this._zTime<0!=n<0&&(this._initted||!h),i,s,p,l,c,m,_,x,T,y,w,b;if(this!==yt&&u>v&&n>=0&&(u=v),u!==this._tTime||o||r){if(d!==this._time&&h&&(u+=this._time-d,n+=this._time-d),i=u,T=this._start,x=this._ts,m=!x,r&&(h||(d=this._zTime),(n||!f)&&(this._zTime=n)),this._repeat){if(w=this._yoyo,c=h+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(c*100+n,f,o);if(i=Et(u%c),u===v?(l=this._repeat,i=h):(l=~~(u/c),l&&l===u/c&&(i=h,l--),i>h&&(i=h)),y=lr(this._tTime,c),!d&&this._tTime&&y!==l&&this._tTime-y*c-this._dur<=0&&(y=l),w&&l&1&&(i=h-i,b=1),l!==y&&!this._lock){var S=w&&y&1,E=S===(w&&l&1);if(l<y&&(S=!S),d=S?0:u%h?h:u,this._lock=1,this.render(d||(b?0:Et(l*c)),f,!h)._lock=0,this._tTime=u,!f&&this.parent&&zt(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1),d&&d!==this._time||m!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,v=this._tDur,E&&(this._lock=2,d=S?h:-1e-4,this.render(d,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;Ta(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=is(this,Et(d),Et(i)),_&&(u-=i-(i=_._start))),this._tTime=u,this._time=i,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,d=0),!d&&i&&!f&&!l&&(zt(this,"onStart"),this._tTime!==u))return this;if(i>=d&&n>=0)for(s=this._first;s;){if(p=s._next,(s._act||i>=s._start)&&s._ts&&_!==s){if(s.parent!==this)return this.render(n,f,o);if(s.render(s._ts>0?(i-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(i-s._start)*s._ts,f,o),i!==this._time||!this._ts&&!m){_=0,p&&(u+=this._zTime=-gt);break}}s=p}else{s=this._last;for(var O=n<0?n:i;s;){if(p=s._prev,(s._act||O<=s._end)&&s._ts&&_!==s){if(s.parent!==this)return this.render(n,f,o);if(s.render(s._ts>0?(O-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(O-s._start)*s._ts,f,o||At&&(s._initted||s._startAt)),i!==this._time||!this._ts&&!m){_=0,p&&(u+=this._zTime=O?-gt:gt);break}}s=p}}if(_&&!f&&(this.pause(),_.render(i>=d?0:-gt)._zTime=i>=d?1:-1,this._ts))return this._start=T,ln(this),this.render(n,f,o);this._onUpdate&&!f&&zt(this,"onUpdate",!0),(u===v&&this._tTime>=this.totalDuration()||!u&&d)&&(T===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((n||!h)&&(u===v&&this._ts>0||!u&&this._ts<0)&&we(this,1),!f&&!(n<0&&!d)&&(u||d||!v)&&(zt(this,u===v&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<v&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,f){var o=this;if(pe(f)||(f=Wt(this,f,n)),!(n instanceof Or)){if(Dt(n))return n.forEach(function(d){return o.add(d,f)}),this;if(Pt(n))return this.addLabel(n,f);if(Tt(n))n=wt.delayedCall(0,n);else return this}return this!==n?re(this,n,f):this},t.getChildren=function(n,f,o,d){n===void 0&&(n=!0),f===void 0&&(f=!0),o===void 0&&(o=!0),d===void 0&&(d=-Ht);for(var v=[],h=this._first;h;)h._start>=d&&(h instanceof wt?f&&v.push(h):(o&&v.push(h),n&&v.push.apply(v,h.getChildren(!0,f,o)))),h=h._next;return v},t.getById=function(n){for(var f=this.getChildren(1,1,1),o=f.length;o--;)if(f[o].vars.id===n)return f[o]},t.remove=function(n){return Pt(n)?this.removeLabel(n):Tt(n)?this.killTweensOf(n):(un(this,n),n===this._recent&&(this._recent=this._last),ke(this))},t.totalTime=function(n,f){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Et(Ut.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),g.prototype.totalTime.call(this,n,f),this._forcing=0,this):this._tTime},t.addLabel=function(n,f){return this.labels[n]=Wt(this,f),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,f,o){var d=wt.delayedCall(0,f||Cr,o);return d.data="isPause",this._hasPause=1,re(this,d,Wt(this,n))},t.removePause=function(n){var f=this._first;for(n=Wt(this,n);f;)f._start===n&&f.data==="isPause"&&we(f),f=f._next},t.killTweensOf=function(n,f,o){for(var d=this.getTweensOf(n,o),v=d.length;v--;)_e!==d[v]&&d[v].kill(n,f);return this},t.getTweensOf=function(n,f){for(var o=[],d=Yt(n),v=this._first,h=pe(f),u;v;)v instanceof wt?Jo(v._targets,d)&&(h?(!_e||v._initted&&v._ts)&&v.globalTime(0)<=f&&v.globalTime(v.totalDuration())>f:!f||v.isActive())&&o.push(v):(u=v.getTweensOf(d,f)).length&&o.push.apply(o,u),v=v._next;return o},t.tweenTo=function(n,f){f=f||{};var o=this,d=Wt(o,n),v=f,h=v.startAt,u=v.onStart,r=v.onStartParams,i=v.immediateRender,s,p=wt.to(o,qt({ease:f.ease||"none",lazy:!1,immediateRender:!1,time:d,overwrite:"auto",duration:f.duration||Math.abs((d-(h&&"time"in h?h.time:o._time))/o.timeScale())||gt,onStart:function(){if(o.pause(),!s){var c=f.duration||Math.abs((d-(h&&"time"in h?h.time:o._time))/o.timeScale());p._dur!==c&&hr(p,c,0,1).render(p._time,!0,!0),s=1}u&&u.apply(p,r||[])}},f));return i?p.render(0):p},t.tweenFromTo=function(n,f,o){return this.tweenTo(f,qt({startAt:{time:Wt(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),Ti(this,Wt(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),Ti(this,Wt(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+gt)},t.shiftChildren=function(n,f,o){o===void 0&&(o=0);for(var d=this._first,v=this.labels,h;d;)d._start>=o&&(d._start+=n,d._end+=n),d=d._next;if(f)for(h in v)v[h]>=o&&(v[h]+=n);return ke(this)},t.invalidate=function(n){var f=this._first;for(this._lock=0;f;)f.invalidate(n),f=f._next;return g.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var f=this._first,o;f;)o=f._next,this.remove(f),f=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),ke(this)},t.totalDuration=function(n){var f=0,o=this,d=o._last,v=Ht,h,u,r;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(r=o.parent;d;)h=d._prev,d._dirty&&d.totalDuration(),u=d._start,u>v&&o._sort&&d._ts&&!o._lock?(o._lock=1,re(o,d,u-d._delay,1)._lock=0):v=u,u<0&&d._ts&&(f-=u,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),v=0),d._end>f&&d._ts&&(f=d._end),d=h;hr(o,o===yt&&o._time>f?o._time:f,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(yt._ts&&(ea(yt,Jr(n,yt)),$i=Ut.frame),Ut.frame>=_i){_i+=Gt.autoSleep||120;var f=yt._first;if((!f||!f._ts)&&Gt.autoSleep&&Ut._listeners.length<2){for(;f&&!f._ts;)f=f._next;f||Ut.sleep()}}},e}(Or);qt(Ot.prototype,{_lock:0,_hasPause:0,_forcing:0});var xs=function(e,t,a,n,f,o,d){var v=new Lt(this._pt,e,t,0,1,Ra,null,f),h=0,u=0,r,i,s,p,l,c,m,_;for(v.b=a,v.e=n,a+="",n+="",(m=~n.indexOf("random("))&&(n=Mr(n)),o&&(_=[a,n],o(_,e,t),a=_[0],n=_[1]),i=a.match(gn)||[];r=gn.exec(n);)p=r[0],l=n.substring(h,r.index),s?s=(s+1)%5:l.substr(-5)==="rgba("&&(s=1),p!==i[u++]&&(c=parseFloat(i[u-1])||0,v._pt={_next:v._pt,p:l||u===1?l:",",s:c,c:p.charAt(1)==="="?ir(c,p)-c:parseFloat(p)-c,m:s&&s<4?Math.round:0},h=gn.lastIndex);return v.c=h<n.length?n.substring(h,n.length):"",v.fp=d,(qi.test(n)||m)&&(v.e=0),this._pt=v,v},ni=function(e,t,a,n,f,o,d,v,h,u){Tt(n)&&(n=n(f||0,e,o));var r=e[t],i=a!=="get"?a:Tt(r)?h?e[t.indexOf("set")||!Tt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():r,s=Tt(r)?h?Es:Ca:ai,p;if(Pt(n)&&(~n.indexOf("random(")&&(n=Mr(n)),n.charAt(1)==="="&&(p=ir(i,n)+(Rt(i)||0),(p||p===0)&&(n=p))),!u||i!==n||kn)return!isNaN(i*n)&&n!==""?(p=new Lt(this._pt,e,t,+i||0,n-(i||0),typeof r=="boolean"?Cs:Ma,0,s),h&&(p.fp=h),d&&p.modifier(d,this,e),this._pt=p):(!r&&!(t in e)&&$n(t,n),xs.call(this,e,t,i,n,s,v||Gt.stringFilter,h))},Ts=function(e,t,a,n,f){if(Tt(e)&&(e=Sr(e,f,t,a,n)),!se(e)||e.style&&e.nodeType||Dt(e)||Yi(e))return Pt(e)?Sr(e,f,t,a,n):e;var o={},d;for(d in e)o[d]=Sr(e[d],f,t,a,n);return o},wa=function(e,t,a,n,f,o){var d,v,h,u;if(Nt[e]&&(d=new Nt[e]).init(f,d.rawVars?t[e]:Ts(t[e],n,f,o,a),a,n,o)!==!1&&(a._pt=v=new Lt(a._pt,f,e,0,1,d.render,d,0,d.priority),a!==$e))for(h=a._ptLookup[a._targets.indexOf(f)],u=d._props.length;u--;)h[d._props[u]]=v;return d},_e,kn,ii=function g(e,t,a){var n=e.vars,f=n.ease,o=n.startAt,d=n.immediateRender,v=n.lazy,h=n.onUpdate,u=n.runBackwards,r=n.yoyoEase,i=n.keyframes,s=n.autoRevert,p=e._dur,l=e._startAt,c=e._targets,m=e.parent,_=m&&m.data==="nested"?m.vars.targets:c,x=e._overwrite==="auto"&&!Zn,T=e.timeline,y,w,b,S,E,O,P,C,A,B,I,R,D;if(T&&(!i||!f)&&(f="none"),e._ease=Ne(f,ur.ease),e._yEase=r?xa(Ne(r===!0?f:r,ur.ease)):0,r&&e._yoyo&&!e._repeat&&(r=e._yEase,e._yEase=e._ease,e._ease=r),e._from=!T&&!!n.runBackwards,!T||i&&!n.stagger){if(C=c[0]?Be(c[0]).harness:0,R=C&&n[C.prop],y=Qr(n,ti),l&&(l._zTime<0&&l.progress(1),t<0&&u&&d&&!s?l.render(-1,!0):l.revert(u&&p?Wr:Zo),l._lazy=0),o){if(we(e._startAt=wt.set(c,qt({data:"isStart",overwrite:!1,parent:m,immediateRender:!0,lazy:!l&&It(v),startAt:null,delay:0,onUpdate:h&&function(){return zt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(At||!d&&!s)&&e._startAt.revert(Wr),d&&p&&t<=0&&a<=0){t&&(e._zTime=t);return}}else if(u&&p&&!l){if(t&&(d=!1),b=qt({overwrite:!1,data:"isFromStart",lazy:d&&!l&&It(v),immediateRender:d,stagger:0,parent:m},y),R&&(b[C.prop]=R),we(e._startAt=wt.set(c,b)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(At?e._startAt.revert(Wr):e._startAt.render(-1,!0)),e._zTime=t,!d)g(e._startAt,gt,gt);else if(!t)return}for(e._pt=e._ptCache=0,v=p&&It(v)||v&&!p,w=0;w<c.length;w++){if(E=c[w],P=E._gsap||ri(c)[w]._gsap,e._ptLookup[w]=B={},An[P.id]&&Te.length&&Zr(),I=_===c?w:_.indexOf(E),C&&(A=new C).init(E,R||y,e,I,_)!==!1&&(e._pt=S=new Lt(e._pt,E,A.name,0,1,A.render,A,0,A.priority),A._props.forEach(function(L){B[L]=S}),A.priority&&(O=1)),!C||R)for(b in y)Nt[b]&&(A=wa(b,y,e,I,E,_))?A.priority&&(O=1):B[b]=S=ni.call(e,E,b,"get",y[b],I,_,0,n.stringFilter);e._op&&e._op[w]&&e.kill(E,e._op[w]),x&&e._pt&&(_e=e,yt.killTweensOf(E,B,e.globalTime(t)),D=!e.parent,_e=0),e._pt&&v&&(An[P.id]=1)}O&&Oa(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!D,i&&t<=0&&T.render(Ht,!0,!0)},bs=function(e,t,a,n,f,o,d,v){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,r,i,s;if(!h)for(h=e._ptCache[t]=[],i=e._ptLookup,s=e._targets.length;s--;){if(u=i[s][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return kn=1,e.vars[t]="+=0",ii(e,d),kn=0,v?Pr(t+" not eligible for reset"):1;h.push(u)}for(s=h.length;s--;)r=h[s],u=r._pt||r,u.s=(n||n===0)&&!f?n:u.s+(n||0)+o*u.c,u.c=a-u.s,r.e&&(r.e=bt(a)+Rt(r.e)),r.b&&(r.b=u.s+Rt(r.b))},Ss=function(e,t){var a=e[0]?Be(e[0]).harness:0,n=a&&a.aliases,f,o,d,v;if(!n)return t;f=Xe({},t);for(o in n)if(o in f)for(v=n[o].split(","),d=v.length;d--;)f[v[d]]=f[o];return f},ws=function(e,t,a,n){var f=t.ease||n||"power1.inOut",o,d;if(Dt(t))d=a[e]||(a[e]=[]),t.forEach(function(v,h){return d.push({t:h/(t.length-1)*100,v,e:f})});else for(o in t)d=a[o]||(a[o]=[]),o==="ease"||d.push({t:parseFloat(e),v:t[o],e:f})},Sr=function(e,t,a,n,f){return Tt(e)?e.call(t,a,n,f):Pt(e)&&~e.indexOf("random(")?Mr(e):e},Ea=ei+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Pa={};Ft(Ea+",id,stagger,delay,duration,paused,scrollTrigger",function(g){return Pa[g]=1});var wt=function(g){Vi(e,g);function e(a,n,f,o){var d;typeof n=="number"&&(f.duration=n,n=f,f=null),d=g.call(this,o?n:Tr(n))||this;var v=d.vars,h=v.duration,u=v.delay,r=v.immediateRender,i=v.stagger,s=v.overwrite,p=v.keyframes,l=v.defaults,c=v.scrollTrigger,m=v.yoyoEase,_=n.parent||yt,x=(Dt(a)||Yi(a)?pe(a[0]):"length"in n)?[a]:Yt(a),T,y,w,b,S,E,O,P;if(d._targets=x.length?ri(x):Pr("GSAP target "+a+" not found. https://gsap.com",!Gt.nullTargetWarn)||[],d._ptLookup=[],d._overwrite=s,p||i||Nr(h)||Nr(u)){if(n=d.vars,T=d.timeline=new Ot({data:"nested",defaults:l||{},targets:_&&_.data==="nested"?_.vars.targets:x}),T.kill(),T.parent=T._dp=he(d),T._start=0,i||Nr(h)||Nr(u)){if(b=x.length,O=i&&ha(i),se(i))for(S in i)~Ea.indexOf(S)&&(P||(P={}),P[S]=i[S]);for(y=0;y<b;y++)w=Qr(n,Pa),w.stagger=0,m&&(w.yoyoEase=m),P&&Xe(w,P),E=x[y],w.duration=+Sr(h,he(d),y,E,x),w.delay=(+Sr(u,he(d),y,E,x)||0)-d._delay,!i&&b===1&&w.delay&&(d._delay=u=w.delay,d._start+=u,w.delay=0),T.to(E,w,O?O(y,E,x):0),T._ease=ht.none;T.duration()?h=u=0:d.timeline=0}else if(p){Tr(qt(T.vars.defaults,{ease:"none"})),T._ease=Ne(p.ease||n.ease||"none");var C=0,A,B,I;if(Dt(p))p.forEach(function(R){return T.to(x,R,">")}),T.duration();else{w={};for(S in p)S==="ease"||S==="easeEach"||ws(S,p[S],w,p.easeEach);for(S in w)for(A=w[S].sort(function(R,D){return R.t-D.t}),C=0,y=0;y<A.length;y++)B=A[y],I={ease:B.e,duration:(B.t-(y?A[y-1].t:0))/100*h},I[S]=B.v,T.to(x,I,C),C+=I.duration;T.duration()<h&&T.to({},{duration:h-T.duration()})}}h||d.duration(h=T.duration())}else d.timeline=0;return s===!0&&!Zn&&(_e=he(d),yt.killTweensOf(x),_e=0),re(_,he(d),f),n.reversed&&d.reverse(),n.paused&&d.paused(!0),(r||!h&&!p&&d._start===Et(_._time)&&It(r)&&es(he(d))&&_.data!=="nested")&&(d._tTime=-gt,d.render(Math.max(0,-u)||0)),c&&oa(he(d),c),d}var t=e.prototype;return t.render=function(n,f,o){var d=this._time,v=this._tDur,h=this._dur,u=n<0,r=n>v-gt&&!u?v:n<gt?0:n,i,s,p,l,c,m,_,x,T;if(!h)ns(this,n,f,o);else if(r!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(i=r,x=this.timeline,this._repeat){if(l=h+this._rDelay,this._repeat<-1&&u)return this.totalTime(l*100+n,f,o);if(i=Et(r%l),r===v?(p=this._repeat,i=h):(p=~~(r/l),p&&p===Et(r/l)&&(i=h,p--),i>h&&(i=h)),m=this._yoyo&&p&1,m&&(T=this._yEase,i=h-i),c=lr(this._tTime,l),i===d&&!o&&this._initted&&p===c)return this._tTime=r,this;p!==c&&(x&&this._yEase&&Ta(x,m),this.vars.repeatRefresh&&!m&&!this._lock&&this._time!==l&&this._initted&&(this._lock=o=1,this.render(Et(l*p),!0).invalidate()._lock=0))}if(!this._initted){if(sa(this,u?n:i,o,f,r))return this._tTime=0,this;if(d!==this._time&&!(o&&this.vars.repeatRefresh&&p!==c))return this;if(h!==this._dur)return this.render(n,f,o)}if(this._tTime=r,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(T||this._ease)(i/h),this._from&&(this.ratio=_=1-_),i&&!d&&!f&&!p&&(zt(this,"onStart"),this._tTime!==r))return this;for(s=this._pt;s;)s.r(_,s.d),s=s._next;x&&x.render(n<0?n:x._dur*x._ease(i/this._dur),f,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!f&&(u&&Dn(this,n,f,o),zt(this,"onUpdate")),this._repeat&&p!==c&&this.vars.onRepeat&&!f&&this.parent&&zt(this,"onRepeat"),(r===this._tDur||!r)&&this._tTime===r&&(u&&!this._onUpdate&&Dn(this,n,!0,!0),(n||!h)&&(r===this._tDur&&this._ts>0||!r&&this._ts<0)&&we(this,1),!f&&!(u&&!d)&&(r||d||m)&&(zt(this,r===v?"onComplete":"onReverseComplete",!0),this._prom&&!(r<v&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),g.prototype.invalidate.call(this,n)},t.resetTo=function(n,f,o,d,v){Rr||Ut.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||ii(this,h),u=this._ease(h/this._dur),bs(this,n,f,o,d,u,h,v)?this.resetTo(n,f,o,d,1):(hn(this,0),this.parent||ia(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,f){if(f===void 0&&(f="all"),!n&&(!f||f==="all"))return this._lazy=this._pt=0,this.parent?_r(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,f,_e&&_e.vars.overwrite!==!0)._first||_r(this),this.parent&&o!==this.timeline.totalDuration()&&hr(this,this._dur*this.timeline._tDur/o,0,1),this}var d=this._targets,v=n?Yt(n):d,h=this._ptLookup,u=this._pt,r,i,s,p,l,c,m;if((!f||f==="all")&&$o(d,v))return f==="all"&&(this._pt=0),_r(this);for(r=this._op=this._op||[],f!=="all"&&(Pt(f)&&(l={},Ft(f,function(_){return l[_]=1}),f=l),f=Ss(d,f)),m=d.length;m--;)if(~v.indexOf(d[m])){i=h[m],f==="all"?(r[m]=f,p=i,s={}):(s=r[m]=r[m]||{},p=f);for(l in p)c=i&&i[l],c&&((!("kill"in c.d)||c.d.kill(l)===!0)&&un(this,c,"_pt"),delete i[l]),s!=="all"&&(s[l]=1)}return this._initted&&!this._pt&&u&&_r(this),this},e.to=function(n,f){return new e(n,f,arguments[2])},e.from=function(n,f){return br(1,arguments)},e.delayedCall=function(n,f,o,d){return new e(f,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:f,onReverseComplete:f,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:d})},e.fromTo=function(n,f,o){return br(2,arguments)},e.set=function(n,f){return f.duration=0,f.repeatDelay||(f.repeat=0),new e(n,f)},e.killTweensOf=function(n,f,o){return yt.killTweensOf(n,f,o)},e}(Or);qt(wt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ft("staggerTo,staggerFrom,staggerFromTo",function(g){wt[g]=function(){var e=new Ot,t=Fn.call(arguments,0);return t.splice(g==="staggerFromTo"?5:4,0,0),e[g].apply(e,t)}});var ai=function(e,t,a){return e[t]=a},Ca=function(e,t,a){return e[t](a)},Es=function(e,t,a,n){return e[t](n.fp,a)},Ps=function(e,t,a){return e.setAttribute(t,a)},oi=function(e,t){return Tt(e[t])?Ca:Qn(e[t])&&e.setAttribute?Ps:ai},Ma=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Cs=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Ra=function(e,t){var a=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;a;)n=a.p+(a.m?a.m(a.s+a.c*e):Math.round((a.s+a.c*e)*1e4)/1e4)+n,a=a._next;n+=t.c}t.set(t.t,t.p,n,t)},si=function(e,t){for(var a=t._pt;a;)a.r(e,a.d),a=a._next},Ms=function(e,t,a,n){for(var f=this._pt,o;f;)o=f._next,f.p===n&&f.modifier(e,t,a),f=o},Rs=function(e){for(var t=this._pt,a,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?un(this,t,"_pt"):t.dep||(a=1),t=n;return!a},Os=function(e,t,a,n){n.mSet(e,t,n.m.call(n.tween,a,n.mt),n)},Oa=function(e){for(var t=e._pt,a,n,f,o;t;){for(a=t._next,n=f;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:o)?t._prev._next=t:f=t,(t._next=n)?n._prev=t:o=t,t=a}e._pt=f},Lt=function(){function g(t,a,n,f,o,d,v,h,u){this.t=a,this.s=f,this.c=o,this.p=n,this.r=d||Ma,this.d=v||this,this.set=h||ai,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=g.prototype;return e.modifier=function(a,n,f){this.mSet=this.mSet||this.set,this.set=Os,this.m=a,this.mt=f,this.tween=n},g}();Ft(ei+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(g){return ti[g]=1});Xt.TweenMax=Xt.TweenLite=wt;Xt.TimelineLite=Xt.TimelineMax=Ot;yt=new Ot({sortChildren:!1,defaults:ur,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Gt.stringFilter=ya;var Ue=[],Hr={},As=[],Si=0,Ds=0,Tn=function(e){return(Hr[e]||As).map(function(t){return t()})},Nn=function(){var e=Date.now(),t=[];e-Si>2&&(Tn("matchMediaInit"),Ue.forEach(function(a){var n=a.queries,f=a.conditions,o,d,v,h;for(d in n)o=te.matchMedia(n[d]).matches,o&&(v=1),o!==f[d]&&(f[d]=o,h=1);h&&(a.revert(),v&&t.push(a))}),Tn("matchMediaRevert"),t.forEach(function(a){return a.onMatch(a,function(n){return a.add(null,n)})}),Si=e,Tn("matchMedia"))},Aa=function(){function g(t,a){this.selector=a&&Ln(a),this.data=[],this._r=[],this.isReverted=!1,this.id=Ds++,t&&this.add(t)}var e=g.prototype;return e.add=function(a,n,f){Tt(a)&&(f=n,n=a,a=Tt);var o=this,d=function(){var h=mt,u=o.selector,r;return h&&h!==o&&h.data.push(o),f&&(o.selector=Ln(f)),mt=o,r=n.apply(o,arguments),Tt(r)&&o._r.push(r),mt=h,o.selector=u,o.isReverted=!1,r};return o.last=d,a===Tt?d(o,function(v){return o.add(null,v)}):a?o[a]=d:d},e.ignore=function(a){var n=mt;mt=null,a(this),mt=n},e.getTweens=function(){var a=[];return this.data.forEach(function(n){return n instanceof g?a.push.apply(a,n.getTweens()):n instanceof wt&&!(n.parent&&n.parent.data==="nested")&&a.push(n)}),a},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(a,n){var f=this;if(a?function(){for(var d=f.getTweens(),v=f.data.length,h;v--;)h=f.data[v],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(u){return d.splice(d.indexOf(u),1)}));for(d.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,r){return r.g-u.g||-1/0}).forEach(function(u){return u.t.revert(a)}),v=f.data.length;v--;)h=f.data[v],h instanceof Ot?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof wt)&&h.revert&&h.revert(a);f._r.forEach(function(u){return u(a,f)}),f.isReverted=!0}():this.data.forEach(function(d){return d.kill&&d.kill()}),this.clear(),n)for(var o=Ue.length;o--;)Ue[o].id===this.id&&Ue.splice(o,1)},e.revert=function(a){this.kill(a||{})},g}(),Is=function(){function g(t){this.contexts=[],this.scope=t,mt&&mt.data.push(this)}var e=g.prototype;return e.add=function(a,n,f){se(a)||(a={matches:a});var o=new Aa(0,f||this.scope),d=o.conditions={},v,h,u;mt&&!o.selector&&(o.selector=mt.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=a;for(h in a)h==="all"?u=1:(v=te.matchMedia(a[h]),v&&(Ue.indexOf(o)<0&&Ue.push(o),(d[h]=v.matches)&&(u=1),v.addListener?v.addListener(Nn):v.addEventListener("change",Nn)));return u&&n(o,function(r){return o.add(null,r)}),this},e.revert=function(a){this.kill(a||{})},e.kill=function(a){this.contexts.forEach(function(n){return n.kill(a,!0)})},g}(),jr={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t.forEach(function(n){return ga(n)})},timeline:function(e){return new Ot(e)},getTweensOf:function(e,t){return yt.getTweensOf(e,t)},getProperty:function(e,t,a,n){Pt(e)&&(e=Yt(e)[0]);var f=Be(e||{}).get,o=a?na:ra;return a==="native"&&(a=""),e&&(t?o((Nt[t]&&Nt[t].get||f)(e,t,a,n)):function(d,v,h){return o((Nt[d]&&Nt[d].get||f)(e,d,v,h))})},quickSetter:function(e,t,a){if(e=Yt(e),e.length>1){var n=e.map(function(u){return kt.quickSetter(u,t,a)}),f=n.length;return function(u){for(var r=f;r--;)n[r](u)}}e=e[0]||{};var o=Nt[t],d=Be(e),v=d.harness&&(d.harness.aliases||{})[t]||t,h=o?function(u){var r=new o;$e._pt=0,r.init(e,a?u+a:u,$e,0,[e]),r.render(1,r),$e._pt&&si(1,$e)}:d.set(e,v);return o?h:function(u){return h(e,v,a?u+a:u,d,1)}},quickTo:function(e,t,a){var n,f=kt.to(e,Xe((n={},n[t]="+=0.1",n.paused=!0,n),a||{})),o=function(v,h,u){return f.resetTo(t,v,h,u)};return o.tween=f,o},isTweening:function(e){return yt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ne(e.ease,ur.ease)),mi(ur,e||{})},config:function(e){return mi(Gt,e||{})},registerEffect:function(e){var t=e.name,a=e.effect,n=e.plugins,f=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(d){return d&&!Nt[d]&&!Xt[d]&&Pr(t+" effect requires "+d+" plugin.")}),_n[t]=function(d,v,h){return a(Yt(d),qt(v||{},f),h)},o&&(Ot.prototype[t]=function(d,v,h){return this.add(_n[t](d,se(v)?v:(h=v)&&{},this),h)})},registerEase:function(e,t){ht[e]=Ne(t)},parseEase:function(e,t){return arguments.length?Ne(e,t):ht},getById:function(e){return yt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var a=new Ot(e),n,f;for(a.smoothChildTiming=It(e.smoothChildTiming),yt.remove(a),a._dp=0,a._time=a._tTime=yt._time,n=yt._first;n;)f=n._next,(t||!(!n._dur&&n instanceof wt&&n.vars.onComplete===n._targets[0]))&&re(a,n,n._start-n._delay),n=f;return re(yt,a,0),a},context:function(e,t){return e?new Aa(e,t):mt},matchMedia:function(e){return new Is(e)},matchMediaRefresh:function(){return Ue.forEach(function(e){var t=e.conditions,a,n;for(n in t)t[n]&&(t[n]=!1,a=1);a&&e.revert()})||Nn()},addEventListener:function(e,t){var a=Hr[e]||(Hr[e]=[]);~a.indexOf(t)||a.push(t)},removeEventListener:function(e,t){var a=Hr[e],n=a&&a.indexOf(t);n>=0&&a.splice(n,1)},utils:{wrap:fs,wrapYoyo:cs,distribute:ha,random:ca,snap:fa,normalize:hs,getUnit:Rt,clamp:os,splitColor:_a,toArray:Yt,selector:Ln,mapRange:pa,pipe:us,unitize:ls,interpolate:ds,shuffle:la},install:Ji,effects:_n,ticker:Ut,updateRoot:Ot.updateRoot,plugins:Nt,globalTimeline:yt,core:{PropTween:Lt,globals:ji,Tween:wt,Timeline:Ot,Animation:Or,getCache:Be,_removeLinkedListItem:un,reverting:function(){return At},context:function(e){return e&&mt&&(mt.data.push(e),e._ctx=mt),mt},suppressOverwrites:function(e){return Zn=e}}};Ft("to,from,fromTo,delayedCall,set,killTweensOf",function(g){return jr[g]=wt[g]});Ut.add(Ot.updateRoot);$e=jr.to({},{duration:0});var Fs=function(e,t){for(var a=e._pt;a&&a.p!==t&&a.op!==t&&a.fp!==t;)a=a._next;return a},Ls=function(e,t){var a=e._targets,n,f,o;for(n in t)for(f=a.length;f--;)o=e._ptLookup[f][n],o&&(o=o.d)&&(o._pt&&(o=Fs(o,n)),o&&o.modifier&&o.modifier(t[n],e,a[f],n))},bn=function(e,t){return{name:e,rawVars:1,init:function(n,f,o){o._onInit=function(d){var v,h;if(Pt(f)&&(v={},Ft(f,function(u){return v[u]=1}),f=v),t){v={};for(h in f)v[h]=t(f[h]);f=v}Ls(d,f)}}}},kt=jr.registerPlugin({name:"attr",init:function(e,t,a,n,f){var o,d,v;this.tween=a;for(o in t)v=e.getAttribute(o)||"",d=this.add(e,"setAttribute",(v||0)+"",t[o],n,f,0,0,o),d.op=o,d.b=v,this._props.push(o)},render:function(e,t){for(var a=t._pt;a;)At?a.set(a.t,a.p,a.b,a):a.r(e,a.d),a=a._next}},{name:"endArray",init:function(e,t){for(var a=t.length;a--;)this.add(e,a,e[a]||0,t[a],0,0,0,0,0,1)}},bn("roundProps",Bn),bn("modifiers"),bn("snap",fa))||jr;wt.version=Ot.version=kt.version="3.12.5";Qi=1;Jn()&&fr();ht.Power0;ht.Power1;ht.Power2;ht.Power3;ht.Power4;ht.Linear;ht.Quad;ht.Cubic;ht.Quart;ht.Quint;ht.Strong;ht.Elastic;ht.Back;ht.SteppedEase;ht.Bounce;ht.Sine;ht.Expo;ht.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wi,me,ar,ui,Le,Ei,li,Bs=function(){return typeof window<"u"},ve={},Fe=180/Math.PI,or=Math.PI/180,Qe=Math.atan2,Pi=1e8,hi=/([A-Z])/g,ks=/(left|right|width|margin|padding|x)/i,Ns=/[\s,\(]\S/,ne={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Un=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Us=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zs=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Gs=function(e,t){var a=t.s+t.c*e;t.set(t.t,t.p,~~(a+(a<0?-.5:.5))+t.u,t)},Da=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Ia=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Xs=function(e,t,a){return e.style[t]=a},Ws=function(e,t,a){return e.style.setProperty(t,a)},Vs=function(e,t,a){return e._gsap[t]=a},Hs=function(e,t,a){return e._gsap.scaleX=e._gsap.scaleY=a},Ys=function(e,t,a,n,f){var o=e._gsap;o.scaleX=o.scaleY=a,o.renderTransform(f,o)},Ks=function(e,t,a,n,f){var o=e._gsap;o[t]=a,o.renderTransform(f,o)},xt="transform",Bt=xt+"Origin",qs=function g(e,t){var a=this,n=this.target,f=n.style,o=n._gsap;if(e in ve&&f){if(this.tfm=this.tfm||{},e!=="transform")e=ne[e]||e,~e.indexOf(",")?e.split(",").forEach(function(d){return a.tfm[d]=fe(n,d)}):this.tfm[e]=o.x?o[e]:fe(n,e),e===Bt&&(this.tfm.zOrigin=o.zOrigin);else return ne.transform.split(",").forEach(function(d){return g.call(a,d,t)});if(this.props.indexOf(xt)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Bt,t,"")),e=xt}(f||t)&&this.props.push(e,t,f[e])},Fa=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Zs=function(){var e=this.props,t=this.target,a=t.style,n=t._gsap,f,o;for(f=0;f<e.length;f+=3)e[f+1]?t[e[f]]=e[f+2]:e[f+2]?a[e[f]]=e[f+2]:a.removeProperty(e[f].substr(0,2)==="--"?e[f]:e[f].replace(hi,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),f=li(),(!f||!f.isStart)&&!a[xt]&&(Fa(a),n.zOrigin&&a[Bt]&&(a[Bt]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},La=function(e,t){var a={target:e,props:[],revert:Zs,save:qs};return e._gsap||kt.core.getCache(e),t&&t.split(",").forEach(function(n){return a.save(n)}),a},Ba,zn=function(e,t){var a=me.createElementNS?me.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):me.createElement(e);return a&&a.style?a:me.createElement(e)},ie=function g(e,t,a){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(hi,"-$1").toLowerCase())||n.getPropertyValue(t)||!a&&g(e,cr(t)||t,1)||""},Ci="O,Moz,ms,Ms,Webkit".split(","),cr=function(e,t,a){var n=t||Le,f=n.style,o=5;if(e in f&&!a)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Ci[o]+e in f););return o<0?null:(o===3?"ms":o>=0?Ci[o]:"")+e},Gn=function(){Bs()&&window.document&&(wi=window,me=wi.document,ar=me.documentElement,Le=zn("div")||{style:{}},zn("div"),xt=cr(xt),Bt=xt+"Origin",Le.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ba=!!cr("perspective"),li=kt.core.reverting,ui=1)},Sn=function g(e){var t=zn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=this.parentNode,n=this.nextSibling,f=this.style.cssText,o;if(ar.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=g}catch{}else this._gsapBBox&&(o=this._gsapBBox());return a&&(n?a.insertBefore(this,n):a.appendChild(this)),ar.removeChild(t),this.style.cssText=f,o},Mi=function(e,t){for(var a=t.length;a--;)if(e.hasAttribute(t[a]))return e.getAttribute(t[a])},ka=function(e){var t;try{t=e.getBBox()}catch{t=Sn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Sn||(t=Sn.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Mi(e,["x","cx","x1"])||0,y:+Mi(e,["y","cy","y1"])||0,width:0,height:0}:t},Na=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ka(e))},We=function(e,t){if(t){var a=e.style,n;t in ve&&t!==Bt&&(t=xt),a.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),a.removeProperty(n==="--"?t:t.replace(hi,"-$1").toLowerCase())):a.removeAttribute(t)}},ye=function(e,t,a,n,f,o){var d=new Lt(e._pt,t,a,0,1,o?Ia:Da);return e._pt=d,d.b=n,d.e=f,e._props.push(a),d},Ri={deg:1,rad:1,turn:1},Qs={grid:1,flex:1},Ee=function g(e,t,a,n){var f=parseFloat(a)||0,o=(a+"").trim().substr((f+"").length)||"px",d=Le.style,v=ks.test(t),h=e.tagName.toLowerCase()==="svg",u=(h?"client":"offset")+(v?"Width":"Height"),r=100,i=n==="px",s=n==="%",p,l,c,m;if(n===o||!f||Ri[n]||Ri[o])return f;if(o!=="px"&&!i&&(f=g(e,t,a,"px")),m=e.getCTM&&Na(e),(s||o==="%")&&(ve[t]||~t.indexOf("adius")))return p=m?e.getBBox()[v?"width":"height"]:e[u],bt(s?f/p*r:f/100*p);if(d[v?"width":"height"]=r+(i?o:n),l=~t.indexOf("adius")||n==="em"&&e.appendChild&&!h?e:e.parentNode,m&&(l=(e.ownerSVGElement||{}).parentNode),(!l||l===me||!l.appendChild)&&(l=me.body),c=l._gsap,c&&s&&c.width&&v&&c.time===Ut.time&&!c.uncache)return bt(f/c.width*r);if(s&&(t==="height"||t==="width")){var _=e.style[t];e.style[t]=r+n,p=e[u],_?e.style[t]=_:We(e,t)}else(s||o==="%")&&!Qs[ie(l,"display")]&&(d.position=ie(e,"position")),l===e&&(d.position="static"),l.appendChild(Le),p=Le[u],l.removeChild(Le),d.position="absolute";return v&&s&&(c=Be(l),c.time=Ut.time,c.width=l[u]),bt(i?p*f/r:p&&f?r/p*f:0)},fe=function(e,t,a,n){var f;return ui||Gn(),t in ne&&t!=="transform"&&(t=ne[t],~t.indexOf(",")&&(t=t.split(",")[0])),ve[t]&&t!=="transform"?(f=Dr(e,n),f=t!=="transformOrigin"?f[t]:f.svg?f.origin:tn(ie(e,Bt))+" "+f.zOrigin+"px"):(f=e.style[t],(!f||f==="auto"||n||~(f+"").indexOf("calc("))&&(f=$r[t]&&$r[t](e,t,a)||ie(e,t)||ta(e,t)||(t==="opacity"?1:0))),a&&!~(f+"").trim().indexOf(" ")?Ee(e,t,f,a)+a:f},Js=function(e,t,a,n){if(!a||a==="none"){var f=cr(t,e,1),o=f&&ie(e,f,1);o&&o!==a?(t=f,a=o):t==="borderColor"&&(a=ie(e,"borderTopColor"))}var d=new Lt(this._pt,e.style,t,0,1,Ra),v=0,h=0,u,r,i,s,p,l,c,m,_,x,T,y;if(d.b=a,d.e=n,a+="",n+="",n==="auto"&&(l=e.style[t],e.style[t]=n,n=ie(e,t)||n,l?e.style[t]=l:We(e,t)),u=[a,n],ya(u),a=u[0],n=u[1],i=a.match(je)||[],y=n.match(je)||[],y.length){for(;r=je.exec(n);)c=r[0],_=n.substring(v,r.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),c!==(l=i[h++]||"")&&(s=parseFloat(l)||0,T=l.substr((s+"").length),c.charAt(1)==="="&&(c=ir(s,c)+T),m=parseFloat(c),x=c.substr((m+"").length),v=je.lastIndex-x.length,x||(x=x||Gt.units[t]||T,v===n.length&&(n+=x,d.e+=x)),T!==x&&(s=Ee(e,t,l,x)||0),d._pt={_next:d._pt,p:_||h===1?_:",",s,c:m-s,m:p&&p<4||t==="zIndex"?Math.round:0});d.c=v<n.length?n.substring(v,n.length):""}else d.r=t==="display"&&n==="none"?Ia:Da;return qi.test(n)&&(d.e=0),this._pt=d,d},Oi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},js=function(e){var t=e.split(" "),a=t[0],n=t[1]||"50%";return(a==="top"||a==="bottom"||n==="left"||n==="right")&&(e=a,a=n,n=e),t[0]=Oi[a]||a,t[1]=Oi[n]||n,t.join(" ")},$s=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var a=t.t,n=a.style,f=t.u,o=a._gsap,d,v,h;if(f==="all"||f===!0)n.cssText="",v=1;else for(f=f.split(","),h=f.length;--h>-1;)d=f[h],ve[d]&&(v=1,d=d==="transformOrigin"?Bt:xt),We(a,d);v&&(We(a,xt),o&&(o.svg&&a.removeAttribute("transform"),Dr(a,1),o.uncache=1,Fa(n)))}},$r={clearProps:function(e,t,a,n,f){if(f.data!=="isFromStart"){var o=e._pt=new Lt(e._pt,t,a,0,0,$s);return o.u=n,o.pr=-10,o.tween=f,e._props.push(a),1}}},Ar=[1,0,0,1,0,0],Ua={},za=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ai=function(e){var t=ie(e,xt);return za(t)?Ar:t.substr(7).match(Ki).map(bt)},fi=function(e,t){var a=e._gsap||Be(e),n=e.style,f=Ai(e),o,d,v,h;return a.svg&&e.getAttribute("transform")?(v=e.transform.baseVal.consolidate().matrix,f=[v.a,v.b,v.c,v.d,v.e,v.f],f.join(",")==="1,0,0,1,0,0"?Ar:f):(f===Ar&&!e.offsetParent&&e!==ar&&!a.svg&&(v=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(h=1,d=e.nextElementSibling,ar.appendChild(e)),f=Ai(e),v?n.display=v:We(e,"display"),h&&(d?o.insertBefore(e,d):o?o.appendChild(e):ar.removeChild(e))),t&&f.length>6?[f[0],f[1],f[4],f[5],f[12],f[13]]:f)},Xn=function(e,t,a,n,f,o){var d=e._gsap,v=f||fi(e,!0),h=d.xOrigin||0,u=d.yOrigin||0,r=d.xOffset||0,i=d.yOffset||0,s=v[0],p=v[1],l=v[2],c=v[3],m=v[4],_=v[5],x=t.split(" "),T=parseFloat(x[0])||0,y=parseFloat(x[1])||0,w,b,S,E;a?v!==Ar&&(b=s*c-p*l)&&(S=T*(c/b)+y*(-l/b)+(l*_-c*m)/b,E=T*(-p/b)+y*(s/b)-(s*_-p*m)/b,T=S,y=E):(w=ka(e),T=w.x+(~x[0].indexOf("%")?T/100*w.width:T),y=w.y+(~(x[1]||x[0]).indexOf("%")?y/100*w.height:y)),n||n!==!1&&d.smooth?(m=T-h,_=y-u,d.xOffset=r+(m*s+_*l)-m,d.yOffset=i+(m*p+_*c)-_):d.xOffset=d.yOffset=0,d.xOrigin=T,d.yOrigin=y,d.smooth=!!n,d.origin=t,d.originIsAbsolute=!!a,e.style[Bt]="0px 0px",o&&(ye(o,d,"xOrigin",h,T),ye(o,d,"yOrigin",u,y),ye(o,d,"xOffset",r,d.xOffset),ye(o,d,"yOffset",i,d.yOffset)),e.setAttribute("data-svg-origin",T+" "+y)},Dr=function(e,t){var a=e._gsap||new Sa(e);if("x"in a&&!t&&!a.uncache)return a;var n=e.style,f=a.scaleX<0,o="px",d="deg",v=getComputedStyle(e),h=ie(e,Bt)||"0",u,r,i,s,p,l,c,m,_,x,T,y,w,b,S,E,O,P,C,A,B,I,R,D,L,F,N,U,k,G,W,K;return u=r=i=l=c=m=_=x=T=0,s=p=1,a.svg=!!(e.getCTM&&Na(e)),v.translate&&((v.translate!=="none"||v.scale!=="none"||v.rotate!=="none")&&(n[xt]=(v.translate!=="none"?"translate3d("+(v.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(v.rotate!=="none"?"rotate("+v.rotate+") ":"")+(v.scale!=="none"?"scale("+v.scale.split(" ").join(",")+") ":"")+(v[xt]!=="none"?v[xt]:"")),n.scale=n.rotate=n.translate="none"),b=fi(e,a.svg),a.svg&&(a.uncache?(L=e.getBBox(),h=a.xOrigin-L.x+"px "+(a.yOrigin-L.y)+"px",D=""):D=!t&&e.getAttribute("data-svg-origin"),Xn(e,D||h,!!D||a.originIsAbsolute,a.smooth!==!1,b)),y=a.xOrigin||0,w=a.yOrigin||0,b!==Ar&&(P=b[0],C=b[1],A=b[2],B=b[3],u=I=b[4],r=R=b[5],b.length===6?(s=Math.sqrt(P*P+C*C),p=Math.sqrt(B*B+A*A),l=P||C?Qe(C,P)*Fe:0,_=A||B?Qe(A,B)*Fe+l:0,_&&(p*=Math.abs(Math.cos(_*or))),a.svg&&(u-=y-(y*P+w*A),r-=w-(y*C+w*B))):(K=b[6],G=b[7],N=b[8],U=b[9],k=b[10],W=b[11],u=b[12],r=b[13],i=b[14],S=Qe(K,k),c=S*Fe,S&&(E=Math.cos(-S),O=Math.sin(-S),D=I*E+N*O,L=R*E+U*O,F=K*E+k*O,N=I*-O+N*E,U=R*-O+U*E,k=K*-O+k*E,W=G*-O+W*E,I=D,R=L,K=F),S=Qe(-A,k),m=S*Fe,S&&(E=Math.cos(-S),O=Math.sin(-S),D=P*E-N*O,L=C*E-U*O,F=A*E-k*O,W=B*O+W*E,P=D,C=L,A=F),S=Qe(C,P),l=S*Fe,S&&(E=Math.cos(S),O=Math.sin(S),D=P*E+C*O,L=I*E+R*O,C=C*E-P*O,R=R*E-I*O,P=D,I=L),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,m=180-m),s=bt(Math.sqrt(P*P+C*C+A*A)),p=bt(Math.sqrt(R*R+K*K)),S=Qe(I,R),_=Math.abs(S)>2e-4?S*Fe:0,T=W?1/(W<0?-W:W):0),a.svg&&(D=e.getAttribute("transform"),a.forceCSS=e.setAttribute("transform","")||!za(ie(e,xt)),D&&e.setAttribute("transform",D))),Math.abs(_)>90&&Math.abs(_)<270&&(f?(s*=-1,_+=l<=0?180:-180,l+=l<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),t=t||a.uncache,a.x=u-((a.xPercent=u&&(!t&&a.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*a.xPercent/100:0)+o,a.y=r-((a.yPercent=r&&(!t&&a.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)))?e.offsetHeight*a.yPercent/100:0)+o,a.z=i+o,a.scaleX=bt(s),a.scaleY=bt(p),a.rotation=bt(l)+d,a.rotationX=bt(c)+d,a.rotationY=bt(m)+d,a.skewX=_+d,a.skewY=x+d,a.transformPerspective=T+o,(a.zOrigin=parseFloat(h.split(" ")[2])||!t&&a.zOrigin||0)&&(n[Bt]=tn(h)),a.xOffset=a.yOffset=0,a.force3D=Gt.force3D,a.renderTransform=a.svg?eu:Ba?Ga:tu,a.uncache=0,a},tn=function(e){return(e=e.split(" "))[0]+" "+e[1]},wn=function(e,t,a){var n=Rt(t);return bt(parseFloat(t)+parseFloat(Ee(e,"x",a+"px",n)))+n},tu=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ga(e,t)},Ae="0deg",vr="0px",De=") ",Ga=function(e,t){var a=t||this,n=a.xPercent,f=a.yPercent,o=a.x,d=a.y,v=a.z,h=a.rotation,u=a.rotationY,r=a.rotationX,i=a.skewX,s=a.skewY,p=a.scaleX,l=a.scaleY,c=a.transformPerspective,m=a.force3D,_=a.target,x=a.zOrigin,T="",y=m==="auto"&&e&&e!==1||m===!0;if(x&&(r!==Ae||u!==Ae)){var w=parseFloat(u)*or,b=Math.sin(w),S=Math.cos(w),E;w=parseFloat(r)*or,E=Math.cos(w),o=wn(_,o,b*E*-x),d=wn(_,d,-Math.sin(w)*-x),v=wn(_,v,S*E*-x+x)}c!==vr&&(T+="perspective("+c+De),(n||f)&&(T+="translate("+n+"%, "+f+"%) "),(y||o!==vr||d!==vr||v!==vr)&&(T+=v!==vr||y?"translate3d("+o+", "+d+", "+v+") ":"translate("+o+", "+d+De),h!==Ae&&(T+="rotate("+h+De),u!==Ae&&(T+="rotateY("+u+De),r!==Ae&&(T+="rotateX("+r+De),(i!==Ae||s!==Ae)&&(T+="skew("+i+", "+s+De),(p!==1||l!==1)&&(T+="scale("+p+", "+l+De),_.style[xt]=T||"translate(0, 0)"},eu=function(e,t){var a=t||this,n=a.xPercent,f=a.yPercent,o=a.x,d=a.y,v=a.rotation,h=a.skewX,u=a.skewY,r=a.scaleX,i=a.scaleY,s=a.target,p=a.xOrigin,l=a.yOrigin,c=a.xOffset,m=a.yOffset,_=a.forceCSS,x=parseFloat(o),T=parseFloat(d),y,w,b,S,E;v=parseFloat(v),h=parseFloat(h),u=parseFloat(u),u&&(u=parseFloat(u),h+=u,v+=u),v||h?(v*=or,h*=or,y=Math.cos(v)*r,w=Math.sin(v)*r,b=Math.sin(v-h)*-i,S=Math.cos(v-h)*i,h&&(u*=or,E=Math.tan(h-u),E=Math.sqrt(1+E*E),b*=E,S*=E,u&&(E=Math.tan(u),E=Math.sqrt(1+E*E),y*=E,w*=E)),y=bt(y),w=bt(w),b=bt(b),S=bt(S)):(y=r,S=i,w=b=0),(x&&!~(o+"").indexOf("px")||T&&!~(d+"").indexOf("px"))&&(x=Ee(s,"x",o,"px"),T=Ee(s,"y",d,"px")),(p||l||c||m)&&(x=bt(x+p-(p*y+l*b)+c),T=bt(T+l-(p*w+l*S)+m)),(n||f)&&(E=s.getBBox(),x=bt(x+n/100*E.width),T=bt(T+f/100*E.height)),E="matrix("+y+","+w+","+b+","+S+","+x+","+T+")",s.setAttribute("transform",E),_&&(s.style[xt]=E)},ru=function(e,t,a,n,f){var o=360,d=Pt(f),v=parseFloat(f)*(d&&~f.indexOf("rad")?Fe:1),h=v-n,u=n+h+"deg",r,i;return d&&(r=f.split("_")[1],r==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),r==="cw"&&h<0?h=(h+o*Pi)%o-~~(h/o)*o:r==="ccw"&&h>0&&(h=(h-o*Pi)%o-~~(h/o)*o)),e._pt=i=new Lt(e._pt,t,a,n,h,Us),i.e=u,i.u="deg",e._props.push(a),i},Di=function(e,t){for(var a in t)e[a]=t[a];return e},nu=function(e,t,a){var n=Di({},a._gsap),f="perspective,force3D,transformOrigin,svgOrigin",o=a.style,d,v,h,u,r,i,s,p;n.svg?(h=a.getAttribute("transform"),a.setAttribute("transform",""),o[xt]=t,d=Dr(a,1),We(a,xt),a.setAttribute("transform",h)):(h=getComputedStyle(a)[xt],o[xt]=t,d=Dr(a,1),o[xt]=h);for(v in ve)h=n[v],u=d[v],h!==u&&f.indexOf(v)<0&&(s=Rt(h),p=Rt(u),r=s!==p?Ee(a,v,h,p):parseFloat(h),i=parseFloat(u),e._pt=new Lt(e._pt,d,v,r,i-r,Un),e._pt.u=p||0,e._props.push(v));Di(d,n)};Ft("padding,margin,Width,Radius",function(g,e){var t="Top",a="Right",n="Bottom",f="Left",o=(e<3?[t,a,n,f]:[t+f,t+a,n+a,n+f]).map(function(d){return e<2?g+d:"border"+d+g});$r[e>1?"border"+g:g]=function(d,v,h,u,r){var i,s;if(arguments.length<4)return i=o.map(function(p){return fe(d,p,h)}),s=i.join(" "),s.split(i[0]).length===5?i[0]:s;i=(u+"").split(" "),s={},o.forEach(function(p,l){return s[p]=i[l]=i[l]||i[(l-1)/2|0]}),d.init(v,s,r)}});var Xa={name:"css",register:Gn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,a,n,f){var o=this._props,d=e.style,v=a.vars.startAt,h,u,r,i,s,p,l,c,m,_,x,T,y,w,b,S;ui||Gn(),this.styles=this.styles||La(e),S=this.styles.props,this.tween=a;for(l in t)if(l!=="autoRound"&&(u=t[l],!(Nt[l]&&wa(l,t,a,n,e,f)))){if(s=typeof u,p=$r[l],s==="function"&&(u=u.call(a,n,e,f),s=typeof u),s==="string"&&~u.indexOf("random(")&&(u=Mr(u)),p)p(this,e,l,u,a)&&(b=1);else if(l.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(l)+"").trim(),u+="",be.lastIndex=0,be.test(h)||(c=Rt(h),m=Rt(u)),m?c!==m&&(h=Ee(e,l,h,m)+m):c&&(u+=c),this.add(d,"setProperty",h,u,n,f,0,0,l),o.push(l),S.push(l,0,d[l]);else if(s!=="undefined"){if(v&&l in v?(h=typeof v[l]=="function"?v[l].call(a,n,e,f):v[l],Pt(h)&&~h.indexOf("random(")&&(h=Mr(h)),Rt(h+"")||h==="auto"||(h+=Gt.units[l]||Rt(fe(e,l))||""),(h+"").charAt(1)==="="&&(h=fe(e,l))):h=fe(e,l),i=parseFloat(h),_=s==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),r=parseFloat(u),l in ne&&(l==="autoAlpha"&&(i===1&&fe(e,"visibility")==="hidden"&&r&&(i=0),S.push("visibility",0,d.visibility),ye(this,d,"visibility",i?"inherit":"hidden",r?"inherit":"hidden",!r)),l!=="scale"&&l!=="transform"&&(l=ne[l],~l.indexOf(",")&&(l=l.split(",")[0]))),x=l in ve,x){if(this.styles.save(l),T||(y=e._gsap,y.renderTransform&&!t.parseTransform||Dr(e,t.parseTransform),w=t.smoothOrigin!==!1&&y.smooth,T=this._pt=new Lt(this._pt,d,xt,0,1,y.renderTransform,y,0,-1),T.dep=1),l==="scale")this._pt=new Lt(this._pt,y,"scaleY",y.scaleY,(_?ir(y.scaleY,_+r):r)-y.scaleY||0,Un),this._pt.u=0,o.push("scaleY",l),l+="X";else if(l==="transformOrigin"){S.push(Bt,0,d[Bt]),u=js(u),y.svg?Xn(e,u,0,w,0,this):(m=parseFloat(u.split(" ")[2])||0,m!==y.zOrigin&&ye(this,y,"zOrigin",y.zOrigin,m),ye(this,d,l,tn(h),tn(u)));continue}else if(l==="svgOrigin"){Xn(e,u,1,w,0,this);continue}else if(l in Ua){ru(this,y,l,i,_?ir(i,_+u):u);continue}else if(l==="smoothOrigin"){ye(this,y,"smooth",y.smooth,u);continue}else if(l==="force3D"){y[l]=u;continue}else if(l==="transform"){nu(this,u,e);continue}}else l in d||(l=cr(l)||l);if(x||(r||r===0)&&(i||i===0)&&!Ns.test(u)&&l in d)c=(h+"").substr((i+"").length),r||(r=0),m=Rt(u)||(l in Gt.units?Gt.units[l]:c),c!==m&&(i=Ee(e,l,h,m)),this._pt=new Lt(this._pt,x?y:d,l,i,(_?ir(i,_+r):r)-i,!x&&(m==="px"||l==="zIndex")&&t.autoRound!==!1?Gs:Un),this._pt.u=m||0,c!==m&&m!=="%"&&(this._pt.b=h,this._pt.r=zs);else if(l in d)Js.call(this,e,l,h,_?_+u:u);else if(l in e)this.add(e,l,h||e[l],_?_+u:u,n,f);else if(l!=="parseTransform"){$n(l,u);continue}x||(l in d?S.push(l,0,d[l]):S.push(l,1,h||e[l])),o.push(l)}}b&&Oa(this)},render:function(e,t){if(t.tween._time||!li())for(var a=t._pt;a;)a.r(e,a.d),a=a._next;else t.styles.revert()},get:fe,aliases:ne,getSetter:function(e,t,a){var n=ne[t];return n&&n.indexOf(",")<0&&(t=n),t in ve&&t!==Bt&&(e._gsap.x||fe(e,"x"))?a&&Ei===a?t==="scale"?Hs:Vs:(Ei=a||{})&&(t==="scale"?Ys:Ks):e.style&&!Qn(e.style[t])?Xs:~t.indexOf("-")?Ws:oi(e,t)},core:{_removeProperty:We,_getMatrix:fi}};kt.utils.checkPrefix=cr;kt.core.getStyleSaver=La;(function(g,e,t,a){var n=Ft(g+","+e+","+t,function(f){ve[f]=1});Ft(e,function(f){Gt.units[f]="deg",Ua[f]=1}),ne[n[13]]=g+","+e,Ft(a,function(f){var o=f.split(":");ne[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ft("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(g){Gt.units[g]="px"});kt.registerPlugin(Xa);var Wa=kt.registerPlugin(Xa)||kt;Wa.core.Tween;/*!
 * paths 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var iu=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,au=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,ou=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,su=/(^[#\.][a-z]|[a-y][a-z])/i,uu=Math.PI/180,lu=180/Math.PI,Ur=Math.sin,zr=Math.cos,Kt=Math.abs,ce=Math.sqrt,hu=Math.atan2,Wn=1e8,Ii=function(e){return typeof e=="string"},Va=function(e){return typeof e=="number"},fu=function(e){return typeof e>"u"},cu={},du={},en=1e5,Ha=function(e){return Math.round((e+Wn)%1*en)/en||(e<0?0:1)},ct=function(e){return Math.round(e*en)/en||0},Fi=function(e){return Math.round(e*1e10)/1e10||0},Li=function(e,t,a,n){var f=e[t],o=n===1?6:Vn(f,a,n);if((o||!n)&&o+a+2<f.length)return e.splice(t,0,f.slice(0,a+o+2)),f.splice(0,a+o),1},Ya=function(e,t,a){var n=e.length,f=~~(a*n);if(e[f]>t){for(;--f&&e[f]>t;);f<0&&(f=0)}else for(;e[++f]<t&&f<n;);return f<n?f:n-1},pu=function(e,t){var a=e.length;for(t||e.reverse();a--;)e[a].reversed||_u(e[a])},Bi=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},vu=function(e,t){var a=e.length,n=e[a-1]||[],f=n.length;a&&t[0]===n[f-2]&&t[1]===n[f-1]&&(t=n.concat(t.slice(2)),a--),e[a]=t};function Yr(g){g=Ii(g)&&su.test(g)&&document.querySelector(g)||g;var e=g.getAttribute?g:0,t;return e&&(g=g.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[g],t&&!t._dirty?t:e._gsPath[g]=rn(g)):g?Ii(g)?rn(g):Va(g[0])?[g]:g:console.warn("Expecting a <path> element or an SVG path data string")}function gu(g){for(var e=[],t=0;t<g.length;t++)e[t]=Bi(g[t],g[t].slice(0));return Bi(g,e)}function _u(g){var e=0,t;for(g.reverse();e<g.length;e+=2)t=g[e],g[e]=g[e+1],g[e+1]=t;g.reversed=!g.reversed}var mu=function(e,t){var a=document.createElementNS("http://www.w3.org/2000/svg","path"),n=[].slice.call(e.attributes),f=n.length,o;for(t=","+t+",";--f>-1;)o=n[f].nodeName.toLowerCase(),t.indexOf(","+o+",")<0&&a.setAttributeNS(null,o,n[f].nodeValue);return a},yu={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},xu=function(e,t){for(var a=t?t.split(","):[],n={},f=a.length;--f>-1;)n[a[f]]=+e.getAttribute(a[f])||0;return n};function Tu(g,e){var t=g.tagName.toLowerCase(),a=.552284749831,n,f,o,d,v,h,u,r,i,s,p,l,c,m,_,x,T,y,w,b,S,E;return t==="path"||!g.getBBox?g:(h=mu(g,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),E=xu(g,yu[t]),t==="rect"?(d=E.rx,v=E.ry||d,f=E.x,o=E.y,s=E.width-d*2,p=E.height-v*2,d||v?(l=f+d*(1-a),c=f+d,m=c+s,_=m+d*a,x=m+d,T=o+v*(1-a),y=o+v,w=y+p,b=w+v*a,S=w+v,n="M"+x+","+y+" V"+w+" C"+[x,b,_,S,m,S,m-(m-c)/3,S,c+(m-c)/3,S,c,S,l,S,f,b,f,w,f,w-(w-y)/3,f,y+(w-y)/3,f,y,f,T,l,o,c,o,c+(m-c)/3,o,m-(m-c)/3,o,m,o,_,o,x,T,x,y].join(",")+"z"):n="M"+(f+s)+","+o+" v"+p+" h"+-s+" v"+-p+" h"+s+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(d=v=E.r,r=d*a):(d=E.rx,v=E.ry,r=v*a),f=E.cx,o=E.cy,u=d*a,n="M"+(f+d)+","+o+" C"+[f+d,o+r,f+u,o+v,f,o+v,f-u,o+v,f-d,o+r,f-d,o,f-d,o-r,f-u,o-v,f,o-v,f+u,o-v,f+d,o-r,f+d,o].join(",")+"z"):t==="line"?n="M"+E.x1+","+E.y1+" L"+E.x2+","+E.y2:(t==="polyline"||t==="polygon")&&(i=(g.getAttribute("points")+"").match(au)||[],f=i.shift(),o=i.shift(),n="M"+f+","+o+" L"+i.join(","),t==="polygon"&&(n+=","+f+","+o+"z")),h.setAttribute("d",Za(h._gsRawPath=rn(n))),e&&g.parentNode&&(g.parentNode.insertBefore(h,g),g.parentNode.removeChild(g)),h)}function Ka(g,e,t){var a=g[e],n=g[e+2],f=g[e+4],o;return a+=(n-a)*t,n+=(f-n)*t,a+=(n-a)*t,o=n+(f+(g[e+6]-f)*t-n)*t-a,a=g[e+1],n=g[e+3],f=g[e+5],a+=(n-a)*t,n+=(f-n)*t,a+=(n-a)*t,ct(hu(n+(f+(g[e+7]-f)*t-n)*t-a,o)*lu)}function qa(g,e,t){t=fu(t)?1:Fi(t)||0,e=Fi(e)||0;var a=Math.max(0,~~(Kt(t-e)-1e-8)),n=gu(g);if(e>t&&(e=1-e,t=1-t,pu(n),n.totalLength=0),e<0||t<0){var f=Math.abs(~~Math.min(e,t))+1;e+=f,t+=f}n.totalLength||ze(n);var o=t>1,d=ki(n,e,cu,!0),v=ki(n,t,du),h=v.segment,u=d.segment,r=v.segIndex,i=d.segIndex,s=v.i,p=d.i,l=i===r,c=s===p&&l,m,_,x,T,y,w,b,S;if(o||a){for(m=r<i||l&&s<p||c&&v.t<d.t,Li(n,i,p,d.t)&&(i++,m||(r++,c?(v.t=(v.t-d.t)/(1-d.t),s=0):l&&(s-=p))),Math.abs(1-(t-e))<1e-5?r=i-1:!v.t&&r?r--:Li(n,r,s,v.t)&&m&&i++,d.t===1&&(i=(i+1)%n.length),y=[],w=n.length,b=1+w*a,S=i,b+=(w-i+r)%w,T=0;T<b;T++)vu(y,n[S++%w]);n=y}else if(x=v.t===1?6:Vn(h,s,v.t),e!==t)for(_=Vn(u,p,c?d.t/v.t:d.t),l&&(x+=_),h.splice(s+x+2),(_||p)&&u.splice(0,p+_),T=n.length;T--;)(T<i||T>r)&&n.splice(T,1);else h.angle=Ka(h,s+x,0),s+=x,d=h[s],v=h[s+1],h.length=h.totalLength=0,h.totalPoints=n.totalPoints=8,h.push(d,v,d,v,d,v,d,v);return n.totalLength=0,n}function bu(g,e,t){e=e||0,g.samples||(g.samples=[],g.lookup=[]);var a=~~g.resolution||12,n=1/a,f=t?e+t*6+1:g.length,o=g[e],d=g[e+1],v=e?e/6*a:0,h=g.samples,u=g.lookup,r=(e?g.minLength:Wn)||Wn,i=h[v+t*a-1],s=e?h[v-1]:0,p,l,c,m,_,x,T,y,w,b,S,E,O,P,C,A,B;for(h.length=u.length=0,l=e+2;l<f;l+=6){if(c=g[l+4]-o,m=g[l+2]-o,_=g[l]-o,y=g[l+5]-d,w=g[l+3]-d,b=g[l+1]-d,x=T=S=E=0,Kt(c)<.01&&Kt(y)<.01&&Kt(_)+Kt(b)<.01)g.length>8&&(g.splice(l,6),l-=6,f-=6);else for(p=1;p<=a;p++)P=n*p,O=1-P,x=T-(T=(P*P*c+3*O*(P*m+O*_))*P),S=E-(E=(P*P*y+3*O*(P*w+O*b))*P),A=ce(S*S+x*x),A<r&&(r=A),s+=A,h[v++]=s;o+=c,d+=y}if(i)for(i-=s;v<h.length;v++)h[v]+=i;if(h.length&&r){if(g.totalLength=B=h[h.length-1]||0,g.minLength=r,B/r<9999)for(A=C=0,p=0;p<B;p+=r)u[A++]=h[C]<p?++C:C}else g.totalLength=h[0]=0;return e?s-h[e/2-1]:s}function ze(g,e){var t,a,n;for(n=t=a=0;n<g.length;n++)g[n].resolution=~~e||12,a+=g[n].length,t+=bu(g[n]);return g.totalPoints=a,g.totalLength=t,g}function Vn(g,e,t){if(t<=0||t>=1)return 0;var a=g[e],n=g[e+1],f=g[e+2],o=g[e+3],d=g[e+4],v=g[e+5],h=g[e+6],u=g[e+7],r=a+(f-a)*t,i=f+(d-f)*t,s=n+(o-n)*t,p=o+(v-o)*t,l=r+(i-r)*t,c=s+(p-s)*t,m=d+(h-d)*t,_=v+(u-v)*t;return i+=(m-i)*t,p+=(_-p)*t,g.splice(e+2,4,ct(r),ct(s),ct(l),ct(c),ct(l+(i-l)*t),ct(c+(p-c)*t),ct(i),ct(p),ct(m),ct(_)),g.samples&&g.samples.splice(e/6*g.resolution|0,0,0,0,0,0,0,0),6}function ki(g,e,t,a){t=t||{},g.totalLength||ze(g),(e<0||e>1)&&(e=Ha(e));var n=0,f=g[0],o,d,v,h,u,r,i;if(!e)i=r=n=0,f=g[0];else if(e===1)i=1,n=g.length-1,f=g[n],r=f.length-8;else{if(g.length>1){for(v=g.totalLength*e,u=r=0;(u+=g[r++].totalLength)<v;)n=r;f=g[n],h=u-f.totalLength,e=(v-h)/(u-h)||0}o=f.samples,d=f.resolution,v=f.totalLength*e,r=f.lookup.length?f.lookup[~~(v/f.minLength)]||0:Ya(o,v,e),h=r?o[r-1]:0,u=o[r],u<v&&(h=u,u=o[++r]),i=1/d*((v-h)/(u-h)+r%d),r=~~(r/d)*6,a&&i===1&&(r+6<f.length?(r+=6,i=0):n+1<g.length&&(r=i=0,f=g[++n]))}return t.t=i,t.i=r,t.path=g,t.segment=f,t.segIndex=n,t}function Ni(g,e,t,a){var n=g[0],f=a||{},o,d,v,h,u,r,i,s,p;if((e<0||e>1)&&(e=Ha(e)),n.lookup||ze(g),g.length>1){for(v=g.totalLength*e,u=r=0;(u+=g[r++].totalLength)<v;)n=g[r];h=u-n.totalLength,e=(v-h)/(u-h)||0}return o=n.samples,d=n.resolution,v=n.totalLength*e,r=n.lookup.length?n.lookup[e<1?~~(v/n.minLength):n.lookup.length-1]||0:Ya(o,v,e),h=r?o[r-1]:0,u=o[r],u<v&&(h=u,u=o[++r]),i=1/d*((v-h)/(u-h)+r%d)||0,p=1-i,r=~~(r/d)*6,s=n[r],f.x=ct((i*i*(n[r+6]-s)+3*p*(i*(n[r+4]-s)+p*(n[r+2]-s)))*i+s),f.y=ct((i*i*(n[r+7]-(s=n[r+1]))+3*p*(i*(n[r+5]-s)+p*(n[r+3]-s)))*i+s),t&&(f.angle=n.totalLength?Ka(n,r,i>=1?1-1e-9:i||1e-9):n.angle||0),f}function yr(g,e,t,a,n,f,o){for(var d=g.length,v,h,u,r,i;--d>-1;)for(v=g[d],h=v.length,u=0;u<h;u+=2)r=v[u],i=v[u+1],v[u]=r*e+i*a+f,v[u+1]=r*t+i*n+o;return g._dirty=1,g}function Su(g,e,t,a,n,f,o,d,v){if(!(g===d&&e===v)){t=Kt(t),a=Kt(a);var h=n%360*uu,u=zr(h),r=Ur(h),i=Math.PI,s=i*2,p=(g-d)/2,l=(e-v)/2,c=u*p+r*l,m=-r*p+u*l,_=c*c,x=m*m,T=_/(t*t)+x/(a*a);T>1&&(t=ce(T)*t,a=ce(T)*a);var y=t*t,w=a*a,b=(y*w-y*x-w*_)/(y*x+w*_);b<0&&(b=0);var S=(f===o?-1:1)*ce(b),E=S*(t*m/a),O=S*-(a*c/t),P=(g+d)/2,C=(e+v)/2,A=P+(u*E-r*O),B=C+(r*E+u*O),I=(c-E)/t,R=(m-O)/a,D=(-c-E)/t,L=(-m-O)/a,F=I*I+R*R,N=(R<0?-1:1)*Math.acos(I/ce(F)),U=(I*L-R*D<0?-1:1)*Math.acos((I*D+R*L)/ce(F*(D*D+L*L)));isNaN(U)&&(U=i),!o&&U>0?U-=s:o&&U<0&&(U+=s),N%=s,U%=s;var k=Math.ceil(Kt(U)/(s/4)),G=[],W=U/k,K=4/3*Ur(W/2)/(1+zr(W/2)),q=u*t,Q=r*t,J=r*-a,V=u*a,Z;for(Z=0;Z<k;Z++)n=N+Z*W,c=zr(n),m=Ur(n),I=zr(n+=W),R=Ur(n),G.push(c-K*m,m+K*c,I+K*R,R-K*I,I,R);for(Z=0;Z<G.length;Z+=2)c=G[Z],m=G[Z+1],G[Z]=c*q+m*J+A,G[Z+1]=c*Q+m*V+B;return G[Z-2]=d,G[Z-1]=v,G}}function rn(g){var e=(g+"").replace(ou,function(E){var O=+E;return O<1e-4&&O>-1e-4?0:O}).match(iu)||[],t=[],a=0,n=0,f=2/3,o=e.length,d=0,v="ERROR: malformed path: "+g,h,u,r,i,s,p,l,c,m,_,x,T,y,w,b,S=function(O,P,C,A){_=(C-O)/3,x=(A-P)/3,l.push(O+_,P+x,C-_,A-x,C,A)};if(!g||!isNaN(e[0])||isNaN(e[1]))return console.log(v),t;for(h=0;h<o;h++)if(y=s,isNaN(e[h])?(s=e[h].toUpperCase(),p=s!==e[h]):h--,r=+e[h+1],i=+e[h+2],p&&(r+=a,i+=n),h||(c=r,m=i),s==="M")l&&(l.length<8?t.length-=1:d+=l.length),a=c=r,n=m=i,l=[r,i],t.push(l),h+=2,s="L";else if(s==="C")l||(l=[0,0]),p||(a=n=0),l.push(r,i,a+e[h+3]*1,n+e[h+4]*1,a+=e[h+5]*1,n+=e[h+6]*1),h+=6;else if(s==="S")_=a,x=n,(y==="C"||y==="S")&&(_+=a-l[l.length-4],x+=n-l[l.length-3]),p||(a=n=0),l.push(_,x,r,i,a+=e[h+3]*1,n+=e[h+4]*1),h+=4;else if(s==="Q")_=a+(r-a)*f,x=n+(i-n)*f,p||(a=n=0),a+=e[h+3]*1,n+=e[h+4]*1,l.push(_,x,a+(r-a)*f,n+(i-n)*f,a,n),h+=4;else if(s==="T")_=a-l[l.length-4],x=n-l[l.length-3],l.push(a+_,n+x,r+(a+_*1.5-r)*f,i+(n+x*1.5-i)*f,a=r,n=i),h+=2;else if(s==="H")S(a,n,a=r,n),h+=1;else if(s==="V")S(a,n,a,n=r+(p?n-a:0)),h+=1;else if(s==="L"||s==="Z")s==="Z"&&(r=c,i=m,l.closed=!0),(s==="L"||Kt(a-r)>.5||Kt(n-i)>.5)&&(S(a,n,r,i),s==="L"&&(h+=2)),a=r,n=i;else if(s==="A"){if(w=e[h+4],b=e[h+5],_=e[h+6],x=e[h+7],u=7,w.length>1&&(w.length<3?(x=_,_=b,u--):(x=b,_=w.substr(2),u-=2),b=w.charAt(1),w=w.charAt(0)),T=Su(a,n,+e[h+1],+e[h+2],+e[h+3],+w,+b,(p?a:0)+_*1,(p?n:0)+x*1),h+=u,T)for(u=0;u<T.length;u++)l.push(T[u]);a=l[l.length-2],n=l[l.length-1]}else console.log(v);return h=l.length,h<6?(t.pop(),h=0):l[0]===l[h-2]&&l[1]===l[h-1]&&(l.closed=!0),t.totalPoints=d+h,t}function wu(g,e){e===void 0&&(e=1);for(var t=g[0],a=0,n=[t,a],f=2;f<g.length;f+=2)n.push(t,a,g[f],a=(g[f]-t)*e/2,t=g[f],-a);return n}function Hn(g,e){Kt(g[0]-g[2])<1e-4&&Kt(g[1]-g[3])<1e-4&&(g=g.slice(2));var t=g.length-2,a=+g[0],n=+g[1],f=+g[2],o=+g[3],d=[a,n,a,n],v=f-a,h=o-n,u=Math.abs(g[t]-a)<.001&&Math.abs(g[t+1]-n)<.001,r,i,s,p,l,c,m,_,x,T,y,w,b,S,E;for(u&&(g.push(f,o),f=a,o=n,a=g[t-2],n=g[t-1],g.unshift(a,n),t+=4),e=e||e===0?+e:1,s=2;s<t;s+=2)r=a,i=n,a=f,n=o,f=+g[s+2],o=+g[s+3],!(a===f&&n===o)&&(p=v,l=h,v=f-a,h=o-n,c=ce(p*p+l*l),m=ce(v*v+h*h),_=ce(Math.pow(v/m+p/c,2)+Math.pow(h/m+l/c,2)),x=(c+m)*e*.25/_,T=a-(a-r)*(c?x/c:0),y=a+(f-a)*(m?x/m:0),w=a-(T+((y-T)*(c*3/(c+m)+.5)/4||0)),b=n-(n-i)*(c?x/c:0),S=n+(o-n)*(m?x/m:0),E=n-(b+((S-b)*(c*3/(c+m)+.5)/4||0)),(a!==r||n!==i)&&d.push(ct(T+w),ct(b+E),ct(a),ct(n),ct(y+w),ct(S+E)));return a!==f||n!==o||d.length<4?d.push(ct(f),ct(o),ct(f),ct(o)):d.length-=2,d.length===2?d.push(a,n,a,n,a,n):u&&(d.splice(0,6),d.length=d.length-6),d}function Za(g){Va(g[0])&&(g=[g]);var e="",t=g.length,a,n,f,o;for(n=0;n<t;n++){for(o=g[n],e+="M"+ct(o[0])+","+ct(o[1])+" C",a=o.length,f=2;f<a;f++)e+=ct(o[f++])+","+ct(o[f++])+" "+ct(o[f++])+","+ct(o[f++])+" "+ct(o[f++])+","+ct(o[f])+" ";o.closed&&(e+="z")}return e}/*!
 * matrix 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var de,Ge,ci,fn,xr,Kr,nn,wr,Jt="transform",Yn=Jt+"Origin",Qa,Ja=function(e){var t=e.ownerDocument||e;for(!(Jt in e.style)&&("msTransform"in e.style)&&(Jt="msTransform",Yn=Jt+"Origin");t.parentNode&&(t=t.parentNode););if(Ge=window,nn=new Ir,t){de=t,ci=t.documentElement,fn=t.body,wr=de.createElementNS("http://www.w3.org/2000/svg","g"),wr.style.transform="none";var a=t.createElement("div"),n=t.createElement("div"),f=t&&(t.body||t.firstElementChild);f&&f.appendChild&&(f.appendChild(a),a.appendChild(n),a.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Qa=n.offsetParent!==a,f.removeChild(a))}return t},Eu=function(e){for(var t,a;e&&e!==fn;)a=e._gsap,a&&a.uncache&&a.get(e,"x"),a&&!a.scaleX&&!a.scaleY&&a.renderTransform&&(a.scaleX=a.scaleY=1e-4,a.renderTransform(1,a),t?t.push(a):t=[a]),e=e.parentNode;return t},ja=[],$a=[],Pu=function(){return Ge.pageYOffset||de.scrollTop||ci.scrollTop||fn.scrollTop||0},Cu=function(){return Ge.pageXOffset||de.scrollLeft||ci.scrollLeft||fn.scrollLeft||0},di=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},Mu=function g(e){if(Ge.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return g(e)},En=function g(e,t){if(e.parentNode&&(de||Ja(e))){var a=di(e),n=a?a.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",f=a?t?"rect":"g":"div",o=t!==2?0:100,d=t===3?100:0,v="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=de.createElementNS?de.createElementNS(n.replace(/^https/,"http"),f):de.createElement(f);return t&&(a?(Kr||(Kr=g(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+o+","+d+")"),Kr.appendChild(h)):(xr||(xr=g(e),xr.style.cssText=v),h.style.cssText=v+"width:0.1px;height:0.1px;top:"+d+"px;left:"+o+"px",xr.appendChild(h))),h}throw"Need document and parent."},Ru=function(e){for(var t=new Ir,a=0;a<e.numberOfItems;a++)t.multiply(e.getItem(a).matrix);return t},Ou=function(e){var t=e.getCTM(),a;return t||(a=e.style[Jt],e.style[Jt]="none",e.appendChild(wr),t=wr.getCTM(),e.removeChild(wr),a?e.style[Jt]=a:e.style.removeProperty(Jt.replace(/([A-Z])/g,"-$1").toLowerCase())),t||nn.clone()},Au=function(e,t){var a=di(e),n=e===a,f=a?ja:$a,o=e.parentNode,d,v,h,u,r,i;if(e===Ge)return e;if(f.length||f.push(En(e,1),En(e,2),En(e,3)),d=a?Kr:xr,a)n?(h=Ou(e),u=-h.e/h.a,r=-h.f/h.d,v=nn):e.getBBox?(h=e.getBBox(),v=e.transform?e.transform.baseVal:{},v=v.numberOfItems?v.numberOfItems>1?Ru(v):v.getItem(0).matrix:nn,u=v.a*h.x+v.c*h.y,r=v.b*h.x+v.d*h.y):(v=new Ir,u=r=0),t&&e.tagName.toLowerCase()==="g"&&(u=r=0),(n?a:o).appendChild(d),d.setAttribute("transform","matrix("+v.a+","+v.b+","+v.c+","+v.d+","+(v.e+u)+","+(v.f+r)+")");else{if(u=r=0,Qa)for(v=e.offsetParent,h=e;h&&(h=h.parentNode)&&h!==v&&h.parentNode;)(Ge.getComputedStyle(h)[Jt]+"").length>4&&(u=h.offsetLeft,r=h.offsetTop,h=0);if(i=Ge.getComputedStyle(e),i.position!=="absolute"&&i.position!=="fixed")for(v=e.offsetParent;o&&o!==v;)u+=o.scrollLeft||0,r+=o.scrollTop||0,o=o.parentNode;h=d.style,h.top=e.offsetTop-r+"px",h.left=e.offsetLeft-u+"px",h[Jt]=i[Jt],h[Yn]=i[Yn],h.position=i.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(d)}return d},Pn=function(e,t,a,n,f,o,d){return e.a=t,e.b=a,e.c=n,e.d=f,e.e=o,e.f=d,e},Ir=function(){function g(t,a,n,f,o,d){t===void 0&&(t=1),a===void 0&&(a=0),n===void 0&&(n=0),f===void 0&&(f=1),o===void 0&&(o=0),d===void 0&&(d=0),Pn(this,t,a,n,f,o,d)}var e=g.prototype;return e.inverse=function(){var a=this.a,n=this.b,f=this.c,o=this.d,d=this.e,v=this.f,h=a*o-n*f||1e-10;return Pn(this,o/h,-n/h,-f/h,a/h,(f*v-o*d)/h,-(a*v-n*d)/h)},e.multiply=function(a){var n=this.a,f=this.b,o=this.c,d=this.d,v=this.e,h=this.f,u=a.a,r=a.c,i=a.b,s=a.d,p=a.e,l=a.f;return Pn(this,u*n+i*o,u*f+i*d,r*n+s*o,r*f+s*d,v+p*n+l*o,h+p*f+l*d)},e.clone=function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(a){var n=this.a,f=this.b,o=this.c,d=this.d,v=this.e,h=this.f;return n===a.a&&f===a.b&&o===a.c&&d===a.d&&v===a.e&&h===a.f},e.apply=function(a,n){n===void 0&&(n={});var f=a.x,o=a.y,d=this.a,v=this.b,h=this.c,u=this.d,r=this.e,i=this.f;return n.x=f*d+o*h+r||0,n.y=f*v+o*u+i||0,n},g}();function sr(g,e,t,a){if(!g||!g.parentNode||(de||Ja(g)).documentElement===g)return new Ir;var n=Eu(g),f=di(g),o=f?ja:$a,d=Au(g,t),v=o[0].getBoundingClientRect(),h=o[1].getBoundingClientRect(),u=o[2].getBoundingClientRect(),r=d.parentNode,i=!a&&Mu(g),s=new Ir((h.left-v.left)/100,(h.top-v.top)/100,(u.left-v.left)/100,(u.top-v.top)/100,v.left+(i?0:Cu()),v.top+(i?0:Pu()));if(r.removeChild(d),n)for(v=n.length;v--;)h=n[v],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?s.inverse():s}/*!
 * MotionPathPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Du="x,translateX,left,marginLeft,xPercent".split(","),Iu="y,translateY,top,marginTop,yPercent".split(","),Fu=Math.PI/180,Vt,to,Je,Kn,Cn,Ui,Lu=function(){return Vt||typeof window<"u"&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},gr=function(e,t,a,n){for(var f=t.length,o=n===2?0:n,d=0;d<f;d++)e[o]=parseFloat(t[d][a]),n===2&&(e[o+1]=0),o+=2;return e},tr=function(e,t,a){return parseFloat(e._gsap.get(e,t,a||"px"))||0},eo=function(e){var t=e[0],a=e[1],n;for(n=2;n<e.length;n+=2)t=e[n]+=t,a=e[n+1]+=a},zi=function(e,t,a,n,f,o,d,v,h){if(d.type==="cubic")t=[t];else{d.fromCurrent!==!1&&t.unshift(tr(a,n,v),f?tr(a,f,h):0),d.relative&&eo(t);var u=f?Hn:wu;t=[u(t,d.curviness)]}return t=o(ro(t,a,d)),an(e,a,n,t,"x",v),f&&an(e,a,f,t,"y",h),ze(t,d.resolution||(d.curviness===0?20:12))},Bu=function(e){return e},ku=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,Gi=function(e,t,a){var n=sr(e),f=0,o=0,d;return(e.tagName+"").toLowerCase()==="svg"?(d=e.viewBox.baseVal,d.width||(d={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):d=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(f=t.push?t[0]*(d?d.width:e.offsetWidth||0):t.x,o=t.push?t[1]*(d?d.height:e.offsetHeight||0):t.y),a.apply(f||o?n.apply({x:f,y:o}):{x:n.e,y:n.f})},qn=function(e,t,a,n){var f=sr(e.parentNode,!0,!0),o=f.clone().multiply(sr(t)),d=Gi(e,a,f),v=Gi(t,n,f),h=v.x,u=v.y,r;return o.e=o.f=0,n==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(r=t.getAttribute("d").match(ku)||[],r=o.apply({x:+r[0],y:+r[1]}),h+=r.x,u+=r.y),r&&(r=o.apply(t.getBBox()),h-=r.x,u-=r.y),o.e=h-d.x,o.f=u-d.y,o},ro=function(e,t,a){var n=a.align,f=a.matrix,o=a.offsetX,d=a.offsetY,v=a.alignOrigin,h=e[0][0],u=e[0][1],r=tr(t,"x"),i=tr(t,"y"),s,p,l;return!e||!e.length?Yr("M0,0L0,0"):(n&&(n==="self"||(s=Kn(n)[0]||t)===t?yr(e,1,0,0,1,r-h,i-u):(v&&v[2]!==!1?Vt.set(t,{transformOrigin:v[0]*100+"% "+v[1]*100+"%"}):v=[tr(t,"xPercent")/-100,tr(t,"yPercent")/-100],p=qn(t,s,v,"auto"),l=p.apply({x:h,y:u}),yr(e,p.a,p.b,p.c,p.d,r+p.e-(l.x-p.e),i+p.f-(l.y-p.f)))),f?yr(e,f.a,f.b,f.c,f.d,f.e,f.f):(o||d)&&yr(e,1,0,0,1,o||0,d||0),e)},an=function(e,t,a,n,f,o){var d=t._gsap,v=d.harness,h=v&&v.aliases&&v.aliases[a],u=h&&h.indexOf(",")<0?h:a,r=e._pt=new to(e._pt,t,u,0,0,Bu,0,d.set(t,u,e));r.u=Je(d.get(t,u,o))||0,r.path=n,r.pp=f,e._props.push(u)},Nu=function(e,t){return function(a){return e||t!==1?qa(a,e,t):a}},no={version:"3.12.5",name:"motionPath",register:function(e,t,a){Vt=e,Je=Vt.utils.getUnit,Kn=Vt.utils.toArray,Cn=Vt.core.getStyleSaver,Ui=Vt.core.reverting||function(){},to=a},init:function(e,t,a){if(!Vt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var n=[],f=t,o=f.path,d=f.autoRotate,v=f.unitX,h=f.unitY,u=f.x,r=f.y,i=o[0],s=Nu(t.start,"end"in t?t.end:1),p,l;if(this.rawPaths=n,this.target=e,this.tween=a,this.styles=Cn&&Cn(e,"transform"),(this.rotate=d||d===0)&&(this.rOffset=parseFloat(d)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=Je(e._gsap.get(e,this.rProp))||0),Array.isArray(o)&&!("closed"in o)&&typeof i!="number"){for(l in i)!u&&~Du.indexOf(l)?u=l:!r&&~Iu.indexOf(l)&&(r=l);u&&r?n.push(zi(this,gr(gr([],o,u,0),o,r,1),e,u,r,s,t,v||Je(o[0][u]),h||Je(o[0][r]))):u=r=0;for(l in i)l!==u&&l!==r&&n.push(zi(this,gr([],o,l,2),e,l,0,s,t,Je(o[0][l])))}else p=s(ro(Yr(t.path),e,t)),ze(p,t.resolution),n.push(p),an(this,e,t.x||"x",p,"x",t.unitX||"px"),an(this,e,t.y||"y",p,"y",t.unitY||"px")},render:function(e,t){var a=t.rawPaths,n=a.length,f=t._pt;if(t.tween._time||!Ui()){for(e>1?e=1:e<0&&(e=0);n--;)Ni(a[n],e,!n&&t.rotate,a[n]);for(;f;)f.set(f.t,f.p,f.path[f.pp]+f.u,f.d,e),f=f._next;t.rotate&&t.rSet(t.target,t.rProp,a[0].angle*(t.radians?Fu:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return ze(Yr(e)).totalLength},sliceRawPath:qa,getRawPath:Yr,pointsToSegment:Hn,stringToRawPath:rn,rawPathToString:Za,transformRawPath:yr,getGlobalMatrix:sr,getPositionOnPath:Ni,cacheRawPathMeasurements:ze,convertToPath:function(e,t){return Kn(e).map(function(a){return Tu(a,t!==!1)})},convertCoordinates:function(e,t,a){var n=sr(t,!0,!0).multiply(sr(e));return a?n.apply(a):n},getAlignMatrix:qn,getRelativePosition:function(e,t,a,n){var f=qn(e,t,a,n);return{x:f.e,y:f.f}},arrayToRawPath:function(e,t){t=t||{};var a=gr(gr([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&eo(a),[t.type==="cubic"?a:Hn(a,t.curviness)]}};Lu()&&Vt.registerPlugin(no);class Uu extends sn{constructor(){super(...arguments),this.cards=[],this.displayWidth=Er.instance.getWidth(),this.displayHeight=Er.instance.getHeight(),this.animationTimeline=new Ot({paused:!0}),this.reset=!1}init(){this.container=new ee({x:0,y:0,name:"CardStackStage",parent:this}),this.resetButton=new Xr({x:640,y:654,width:200,height:100,config:pr.RestartButton.bConfig,callback:this.cardButtonUp.bind(this),parent:this.container,textConfig:pr.RestartButton.tConfig}),this.resetButton.isEnabled=!1;const e=ae.instance.backMenuButtonUp;new on({x:1245,y:35,width:70,height:70,config:ge.MenuButton,callback:e.bind(this,this.name),parent:this.container}),this.createCardAssets(nr.CardCounter),this.initDisplayEvents()}cardButtonUp(){this.reset=!this.reset,this.reset?(this.resetButton.textAsset.setTextConfig(pr.ResetText),this.animationTimeline.play()):(this.resetButton.textAsset.setTextConfig(pr.PlayText),this.animationTimeline.restart(),this.animationTimeline.paused(!0),this.resetCardOrder(),this.createCardAnimations())}createCardAnimations(){this.animationTimeline.clear(),Wa.registerPlugin(no),this.cards.slice().reverse().forEach((e,t)=>{const a=t*1.5,n=(Math.random()-.5)*.2;this.animationTimeline.to(e,nr.CardAnimationDuration,{motionPath:{path:[{x:this.displayWidth/6,y:this.displayHeight/3},{x:5/6*this.displayWidth-50,y:this.displayHeight/3+a-30},{x:5/6*this.displayWidth,y:this.displayHeight/3+a}],curviness:1.5,autoRotate:!1},rotation:`+=${n/2}`,ease:"sine.inOut",onStart:()=>{this.container.setChildIndex(e,this.container.children.length-1)}},t*nr.CardAnimationDelay)})}createCardAssets(e){for(let t=0;t<e;t++){const a=this.displayWidth/6,n=this.displayHeight/3+t*1.5,f=(Math.random()-.5)*.1,o=new Wi({x:a,y:n,width:196,height:281,config:pr.CardSprite,parent:this.container});o.rotation=f,this.cards.push(o),this.container.addChild(o)}this.resetButton.isEnabled=!0,this.createCardAnimations()}resetCardOrder(){this.cards.forEach((e,t)=>{this.container.setChildIndex(e,t)})}dispose(){this.animationTimeline.kill(),this.cards.forEach(e=>e.destroy())}setVisualPortrait(){}setVisualLandscape(){}}class Gr extends PIXI.particles.Emitter{constructor(e,t,a){super(a,e,t);let n=Date.now();PIXI.ticker.shared.add(()=>{const f=Date.now(),o=(f-n)*8e-4;this.update(o),n=f})}start(){this.emit=!0}stop(){this.emit=!1}}const Zt=class{};Zt.MAX_PARTICLES=10;Zt.WoodSPrite={frame:"camp_wood",name:"camp_wood"};Zt.DarkForestBackgroundSprite={frame:"fire/dark_forest_bg",name:"dark_forest_bg"};Zt.FireParticle={frame:"fire/particle",name:"particle"};Zt.FireSmallParticles=[{frame:"fire/fire01",name:"fire01"},{frame:"fire/fire02",name:"fire02"},{frame:"fire/fire03",name:"fire03"}];Zt.fireGeneralEmitter={alpha:{start:1,end:0},scale:{start:1.4,end:2.2,minimumScaleMultiplier:1},color:{start:"#d18726",end:"#333231"},speed:{start:100,end:100,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:2,startRotation:{min:-110,max:-70},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.5,max:.5},blendMode:"normal",frequency:.05,emitterLifetime:-1,maxParticles:Zt.MAX_PARTICLES,pos:{x:0,y:-8},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:5}};Zt.fireSparkEmitter={alpha:{start:1,end:0},scale:{start:.1,end:.1,minimumScaleMultiplier:1},color:{start:"#47150b",end:"#333231"},speed:{start:100,end:100,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:2,startRotation:{min:-110,max:-70},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:1.5,max:2},blendMode:"normal",frequency:.05,emitterLifetime:-1,maxParticles:Zt.MAX_PARTICLES,pos:{x:0,y:-8},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:5}};Zt.fireGlowEmitter={alpha:{start:.25,end:0},scale:{start:1,end:1.4,minimumScaleMultiplier:1},color:{start:"0xa41e1e",end:"0xa41e1e"},speed:{start:100,end:100,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:2,startRotation:{min:-110,max:-70},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1.5},blendMode:"normal",frequency:.05,emitterLifetime:-1,maxParticles:Zt.MAX_PARTICLES,pos:{x:0,y:-8},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:5}};let Ie=Zt;class zu extends sn{init(){this.container=new ee({x:0,y:0,name:"FireParticleStage",parent:this}),new Wi({x:640,y:613,width:400,height:250,config:Ie.WoodSPrite,parent:this.container}),this.particleContainer=new ee({x:640,y:610,parent:this.container,name:"ParticleContainer"}),this.particleContainer.scale.set(5,5),this.particleFogContainer=new ee({x:0,y:-25,parent:this.particleContainer,name:"particleFogContainer"}),this.particleSparksContainer=new ee({x:0,y:-45,parent:this.particleContainer,name:"particleSparksContainer"}),this.particleSparksContainer.scale.set(2,1),this.particleGlowContainer=new ee({x:0,y:0,parent:this.particleContainer,name:"particleGlowContainer"}),this.particleAddContainer=new ee({x:0,y:0,parent:this.particleContainer,name:"particleAddContainer"});const e=ae.instance.backMenuButtonUp;new on({x:1245,y:35,width:70,height:70,config:ge.MenuButton,callback:e.bind(this,this.name),parent:this.container});const t=Ie.FireSmallParticles.map(a=>a.frame);this.fEmitter=new Gr(t,Ie.fireGeneralEmitter,this.particleFogContainer),this.gEmitter=new Gr(t,Ie.fireGlowEmitter,this.particleGlowContainer),this.aEmitter=new Gr(t,Ie.fireGeneralEmitter,this.particleAddContainer),this.aEmitter.particleBlendMode=PIXI.BLEND_MODES.ADD,this.sEmitter=new Gr(Ie.FireParticle.frame,Ie.fireSparkEmitter,this.particleAddContainer),this.initDisplayEvents(),this.initDisplayEvents()}setVisualPortrait(){}setVisualLandscape(){}dispose(){this.fEmitter.destroy(),this.gEmitter.destroy(),this.aEmitter.destroy(),this.sEmitter.destroy()}}class Gu extends PIXI.Container{constructor(e){super(),this.textStyle=e.textStyle||{},this.maxWidth=e.maxWidth,this.currentText=e.text,this.updateText(e.text)}updateText(e){this.currentText=e,this.removeChildren();const t=this.parseText(e);this.buildElements(t)}updateTextStyle(e){this.textStyle={...this.textStyle,...e},this.updateText(this.currentText)}parseText(e){const t=/(\[.*?\])|([^[\]\n]+)|(\n)/g;return e.match(t)||[]}buildElements(e){let t=new PIXI.Point(0,0),a=0,n=[];e.forEach(f=>{const o=this.createElement(f);t.x+o.width>this.maxWidth&&n.length>0&&(this.positionElements(n,t.y),n=[],t.x=0,t.y+=a,a=0),o.position.set(t.x,t.y),t.x+=o.width,n.push(o),o.height>a&&(a=o.height)}),n.length>0&&this.positionElements(n,t.y)}createElement(e){if(e.startsWith("[")){const t=e.substring(1,e.length-1);return new PIXI.Sprite(PIXI.Texture.from(t))}else return new PIXI.Text(e,this.textStyle)}positionElements(e,t){e.forEach(a=>{this.addChild(a),a.position.y=t})}getText(){return this.currentText}}class xe{}xe.CreateAssetDuration=2;xe.RandomFontSize={min:10,max:50};xe.RandomTextElements=["Lorem","ipsum","dolor","sit","amet","game","images","fun","text","[card]","[fire/fire01]","[fire/fire03]","[fire/wood]","more text","random","[generalbutton_out]","[home_out]"];xe.RandomTextSizeRange={min:5,max:10};class Fr extends PIXI.ticker.Ticker{constructor(){super(),this.tickers={},Fr.instance=this}addTimeout(e,t,a,n){if(!this.tickers[e]){let f=new PIXI.ticker.Ticker;f.autoStart=!0,this.tickers[e]=f,this.gTime=new Date().getTime(),this.tickers[e].add(this.addLoop.bind(this,e,t,a,n))}}addLoop(e,t,a,n){var f=t*1e3,o=new Date().getTime(),d=o-this.gTime;d<f||(a.call("",this),n?this.gTime=new Date().getTime():this.tickers[e].remove(this.addLoop.bind(this)))}removeTicker(e){this.tickers[e].destroy(),delete this.tickers[e]}getTickers(){return this.tickers}}class Xu extends sn{constructor(){super()}init(){this.container=new ee({x:0,y:0,name:"RandomRichTextStage",parent:this}),this.textStyle={fill:16777215,fontSize:this.generateRandomFontSize()};const e=this.generateRandomText();this.richText=new Gu({maxWidth:rr.DisplayResolution.width-100,text:e,textStyle:this.textStyle}),this.container.addChild(this.richText);const t=ae.instance.backMenuButtonUp;new on({x:1245,y:35,width:70,height:70,config:ge.MenuButton,callback:t.bind(this,this.name),parent:this.container}),this.setCenterRandomRichTextPosition(),Fr.instance.addTimeout("RandomText",xe.CreateAssetDuration,this.updateRandomContent.bind(this),!0),this.initDisplayEvents()}generateRandomText(){const e=xe.RandomTextElements,{min:t,max:a}=xe.RandomTextSizeRange,n=Math.floor(Math.random()*(a-t+1))+t;return Array.from({length:n},()=>{const f=Math.floor(Math.random()*e.length);return e[f]}).join(" ").trim()}generateRandomFontSize(){const{min:e,max:t}=xe.RandomFontSize;return Math.floor(Math.random()*t+e)}setCenterRandomRichTextPosition(){this.richText.position.set((rr.DisplayResolution.width-this.richText.width)/2,(rr.DisplayResolution.height-this.richText.height)/2)}updateRandomContent(){const e=this.generateRandomText(),t=this.generateRandomFontSize();this.richText.updateText(e),this.richText.updateTextStyle({fill:this.textStyle.fill,fontSize:t}),this.setCenterRandomRichTextPosition()}setVisualPortrait(){}setVisualLandscape(){}dispose(){Fr.instance.removeTicker("RandomText")}}class cn extends sn{constructor(){super(...arguments),this.stageMap={[Qt.FirstTask]:Uu,[Qt.SecondTask]:Xu,[Qt.ThirdTask]:zu,[Qt.Menu]:cn}}init(){new Xr({x:640,y:180,width:250,height:130,config:Ze.FirstTaskButtonText.bConfig,callback:this.changeStage.bind(this,Qt.FirstTask),parent:this,textConfig:Ze.FirstTaskButtonText.tConfig}),new Xr({x:640,y:360,width:250,height:130,config:Ze.SecondTaskButtonText.bConfig,callback:this.changeStage.bind(this,Qt.SecondTask),parent:this,textConfig:Ze.SecondTaskButtonText.tConfig}),new Xr({x:640,y:540,width:250,height:130,config:Ze.ThirdTaskButtonText.bConfig,callback:this.changeStage.bind(this,Qt.ThirdTask),parent:this,textConfig:Ze.ThirdTaskButtonText.tConfig}),this.initDisplayEvents()}setVisualPortrait(){}setVisualLandscape(){}changeStage(e){ae.instance.removeStage(Qt.Menu),this.stageMap[e]?ae.instance.startStage(this.stageMap[e],e):console.error("Invalid stage name provided:",e)}dispose(){}}class ae{constructor(e,t,a){this.stages={},ae.instance=this,this.stageContainer=new ee({x:e,y:t,parent:a,name:"StageContainer"})}createStage(e,t){this.stages[t]==null&&(this.stages[t]=new e,this.stages[t].name=t,this.stageContainer.addChild(this.stages[t]))}backMenuButtonUp(e){ae.instance.removeStage(e),ae.instance.startStage(cn,Qt.Menu)}startStage(e,t){this.createStage(e,t),this.stages[t].init()}getStage(e){return this.stages[e]}removeStage(e){this.stages[e].dispose(),this.stages[e].destroy({children:!0,baseTexture:!0}),delete this.stages[e]}getStageContainer(){return this.stageContainer}}class Wu{constructor(){new Fr,this.displayManager=new Er(rr.DisplayResolution.width,rr.DisplayResolution.height),this.stageManager=new ae(0,0,this.displayManager.getRendererContainer()),this.stageManager.startStage(cn,Qt.Menu),new Xo}}class Vu{constructor(){this.initProperties()}initProperties(){this.loader=new PIXI.loaders.Loader,this.loader.add("assets/sprites/ui.json"),this.loader.add("camp_wood","assets/sprites/camp_wood.png"),this.loader.load(),this.loader.onProgress.add(this.onProgress.bind(this)),this.loader.onError.add(this.onError.bind(this)),this.loader.onLoad.add(this.onLoad.bind(this)),this.loader.onComplete.add(this.onComplete.bind(this))}onError(){}onLoad(){}onComplete(){new Wu}onProgress(){}}window.onload=function(){new Vu}});export default Hu();
